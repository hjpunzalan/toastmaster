(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{761:function(e,t,a){},766:function(e,t,a){"use strict";a.r(t);a(381),a(268),a(446);var n,s,c=a(2),r=a.n(c),o=a(94),i=a.n(o),l=a(11),u=a(122),d=a(375),b=a(376),j=a(66),m=a(4),p="REGISTER_SUCCESS",h="LOGIN_SUCCESS",O="LOGOUT",A="CLEAR_LOGIN",x="FORGOT_PASSWORD",g="RESET_PASSWORD",f="CHANGE_PASSWORD",v="AUTH_ERROR",N="LOADING_AUTH",y="SET_ALERT",C="RESET_ALERT",E="POST_CREATE",w="POST_RESET",S="CLEAR_POST",_="ADD_COMMENT",k="DELETE_COMMENT",T="ON_CHANGE",B="GET_POST",P="GET_ALL_POST",M="POST_NEXT_PAGE",U="UPDATE_POST",R="DELETE_POST",D="SEARCH_POSTS",F="POST_ERROR",L="ERROR",I="TOGGLE_CREATE_POST",Q="TOGGLE_EDIT_POST",K="LOADING_SUBMIT_POST",G="GET_POST_ERROR",J="UPDATE_ME",Y="UPDATE_FAILED",q="GET_ALL_USERS",z="TOGGLE_MODERATOR",W="USER_ERROR",Z="DEACTIVATE_USER",V="ACTIVATE_USER",H="LOADING_USER",X="MAKE_COMMITTEE",$="REMOVE_COMMITTEE",ee="TOGGLE_CREATE_ANNOUNCEMENT",te="CREATE_ANNOUNCEMENT",ae="GET_ALL_ANNOUNCEMENT",ne="DELETE_ANNOUNCEMENT",se="UPDATE_ANNOUNCEMENT",ce="LOADING_ANNOUNCEMENT_SUBMIT",re="ANNOUNCEMENT_ERROR",oe={users:[],loading:!0,error:{},Moderator:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case W:return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case H:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case p:return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(j.a)(e.users),[n]),loading:!1});case q:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,users:n});case z:return Object(m.a)(Object(m.a)({},e),{},{Moderator:!e.Moderator});case Z:case V:case X:case $:return Object(m.a)(Object(m.a)({},e),{},{users:function(e,t,a){var n=t.findIndex((function(t){return t._id===e}));return t[n]=a,t}(n._id,e.users,n),loading:!1});default:return e}},le={currentUser:null,isAuthenticated:!1,loading:!0,isModified:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case N:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case A:return Object(m.a)(Object(m.a)({},e),{},{currentUser:null,isAuthenticated:!1,loading:!0});case h:case g:case f:return Object(m.a)(Object(m.a)({},e),{},{currentUser:n,isAuthenticated:!0,loading:!1});case x:case O:case v:return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case J:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,currentUser:n,isModified:!0});case Y:return Object(m.a)(Object(m.a)({},e),{},{loading:!1});default:return e}},de={msg:[],alertType:null,error:{}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case y:return Object(m.a)(Object(m.a)({},e),{},{msg:[].concat(Object(j.a)(e.msg),[n.msg]),alertType:n.alertType});case C:return Object(m.a)({},de);case L:return Object(m.a)(Object(m.a)({},e),{},{error:n});default:return e}},je={loading:!0,postLoading:!0,posts:[],post:null,edit:!1,postEdit:!1,totalPages:null,postError:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case K:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,postLoading:!0});case S:return Object(m.a)(Object(m.a)({},e),{},{post:null});case w:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,posts:[],post:null,totalPages:null,postError:!1});case I:return Object(m.a)(Object(m.a)({},e),{},{edit:!e.edit});case Q:return Object(m.a)(Object(m.a)({},e),{},{postEdit:!e.postEdit});case E:return Object(m.a)(Object(m.a)({},e),{},{edit:!1,postLoading:!1,posts:[n].concat(Object(j.a)(e.posts))});case B:return Object(m.a)(Object(m.a)({},e),{},{edit:!1,postLoading:!1,postEdit:!1,post:n,postError:!1});case P:case D:return Object(m.a)(Object(m.a)({},e),{},{postEdit:!1,loading:!1,post:null,posts:n.posts,totalPages:Math.ceil(n.numPosts/n.limit)});case M:return Object(m.a)(Object(m.a)({},e),{},{postEdit:!1,loading:!1,posts:[].concat(Object(j.a)(e.posts),Object(j.a)(n.posts))});case U:return Object(m.a)(Object(m.a)({},e),{},{postLoading:!1,postEdit:!1,post:n});case R:return Object(m.a)(Object(m.a)({},e),{},{post:null,postLoading:!0,loading:!0});case _:case k:return Object(m.a)(Object(m.a)({},e),{},{postLoading:!1,post:Object(m.a)(Object(m.a)({},e.post),n)});case F:return Object(m.a)(Object(m.a)({},e),{},{postLoading:!1,loading:!1});case G:return Object(m.a)(Object(m.a)({},e),{},{postLoading:!1,totalPages:null,postError:!0});default:return e}},pe={contentState:{}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,a=t.payload;return t.type===T?Object(m.a)(Object(m.a)({},e),{},{contentState:a}):e},Oe={loading:!0,edit:!1,announcements:[]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case re:return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case ce:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case ee:return Object(m.a)(Object(m.a)({},e),{},{edit:!e.edit});case te:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,edit:!1,announcements:[n].concat(Object(j.a)(e.announcements))});case se:var s=e.announcements.filter((function(e){return n._id!==e._id}));return Object(m.a)(Object(m.a)({},e),{},{loading:!1,edit:!1,announcements:[n].concat(Object(j.a)(s))});case ne:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,announcements:e.announcements.filter((function(e){return n!==e._id}))});case ae:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,announcements:n});default:return e}},xe=Object(u.combineReducers)({users:ie,announcements:Ae,post:me,auth:ue,alerts:be,textEditor:he}),ge=[b.a],fe=Object(d.composeWithDevTools)({trace:!0}),ve=Object(u.createStore)(xe,{},fe(u.applyMiddleware.apply(void 0,ge))),Ne=a(32),ye=a(24),Ce=a(23),Ee=a(7),we=a(15),Se=a(18),_e=a.n(Se),ke=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Te=function(e,t){return function(a){a({type:y,payload:{msg:e,alertType:t}}),ke()}},Be=function(){return function(e){e({type:C})}},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return function(){var a=Object(we.a)(Object(Ee.a)().mark((function a(n){return Object(Ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(n).catch(function(){var t=Object(we.a)(Object(Ee.a)().mark((function t(a){return Object(Ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(500!==a.response.status){t.next=2;break}return t.abrupt("return",n({type:O}));case 2:if(a.response.data.message&&n(Te(a.response.data.message,"fail")),"post"===e&&n({type:F}),"getpost"===e&&n({type:G}),"auth"===e&&n({type:v}),"update"===e&&n({type:Y}),"announcement"===e&&n({type:re}),"user"===e&&n({type:W}),401!==a.response.status&&403!==a.response.status){t.next=12;break}return t.next=12,n(Me());case 12:n({type:L,payload:{msg:a.response.data.message,status:a.response.status}});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Me=function(){return Pe("auth",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(t){return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:A}),e.next=3,_e.a.get("/api/auth/logout");case 3:t({type:O});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Ue=a.p+"static/media/logo.f70f221d.png",Re=a(1),De=Object(l.b)((function(e){return{auth:e.auth}}),{logoutUser:Me})((function(e){var t=e.auth.isAuthenticated,a=e.logoutUser,n=Object(c.useState)(!1),s=Object(ye.a)(n,2),r=s[0],o=s[1],i=function(){return o(!r)};return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsxs)("ul",{className:"Navbar ".concat(t?"":"Navbar-withLogin"),children:[Object(Re.jsx)(Ce.b,{to:"/",style:{textDecoration:"none",width:"100%"},children:Object(Re.jsxs)("div",{className:"Navbar__left",children:[Object(Re.jsx)("li",{className:"Navbar__item",children:Object(Re.jsx)("img",{className:"Navbar__logo",src:Ue,alt:"logo"})}),Object(Re.jsxs)("div",{className:"Navbar__header",children:[Object(Re.jsx)("li",{className:"Navbar__item Navbar__header-text",children:"Southern River Toastmasters"}),Object(Re.jsx)("li",{className:"Navbar__item Navbar__header-caption",children:"A President Distinguished Club"})]}),Object(Re.jsx)("input",{type:"checkbox",name:"checkbox",id:"hamburger",checked:r,onChange:i}),t&&Object(Re.jsx)("label",{htmlFor:"hamburger",className:"Navbar__button",children:Object(Re.jsx)("span",{})})]})}),Object(Re.jsx)("div",{className:"Navbar__right",children:t?Object(Re.jsxs)("ul",{id:"nav",className:r?"Navbar__open":"Navbar__closed",children:[Object(Re.jsx)("li",{className:"Navbar__item",children:Object(Re.jsx)(Ce.b,{className:"Navbar__link",onClick:i,to:"/dashboard",children:"Dashboard"})}),Object(Re.jsx)("li",{className:"Navbar__item",children:Object(Re.jsx)(Ce.b,{className:"Navbar__link",onClick:i,to:"/discussion",children:"Discussion"})}),Object(Re.jsx)("li",{className:"Navbar__item",children:Object(Re.jsx)(Ce.b,{className:"Navbar__link",onClick:i,to:"/members",children:"Members"})}),Object(Re.jsx)("li",{className:"Navbar__item",children:Object(Re.jsx)(Ce.b,{className:"Navbar__link",to:"/login",onClick:function(){i(),a()},children:"Logout"})})]}):Object(Re.jsx)("li",{className:"Navbar__item",children:Object(Re.jsx)(Ce.b,{className:"Navbar__link",to:"/login",children:"Login"})})})]})})})),Fe=a(95),Le=function(e){var t=e.children;return Object(Re.jsx)("div",{className:"Container",children:t})},Ie=Object(l.b)((function(e){return{msg:e.alerts.msg,alertType:e.alerts.alertType,error:e.alerts.error}}))((function(e){var t=e.msg,a=e.alertType,n=e.error;return null!==a&&Object(Re.jsxs)("div",{className:"Alert Alert__".concat(a),children:[Object(Re.jsx)("strong",{children:"fail"===a?"Warning: ":"Success: "}),0===Object.keys(n).length?t.map((function(e){return Object(Re.jsxs)("p",{children:[e," "]},e)})):Object(Re.jsx)("p",{children:n.msg},n.status)]})})),Qe=["resetAlert","component"],Ke=Object(l.b)(null,{resetAlert:Be})((function(e){var t=e.resetAlert,a=e.component,n=Object(Fe.a)(e,Qe);return Object(Re.jsx)(Ne.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return Object(Re.jsxs)(Le,{children:[t(),Object(Re.jsx)(Ie,{}),Object(Re.jsx)(a,Object(m.a)({},e))]})}}))})),Ge="data:image/gif;base64,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",Je=function(){return Object(Re.jsx)(c.Fragment,{children:Object(Re.jsx)("img",{src:Ge,style:{width:"150px",margin:"20% auto 0 auto",display:"block"},alt:"Loading..."})})},Ye=["auth","component","logoutUser"],qe=Object(l.b)((function(e){return{auth:e.auth}}),{logoutUser:Me})((function(e){var t=e.auth,a=t.isAuthenticated,n=t.currentUser,s=t.loading,r=e.component,o=e.logoutUser,i=Object(Fe.a)(e,Ye);return Object(c.useEffect)((function(){n&&!n.active&&o()}),[]),a||s?s?Object(Re.jsx)(Le,{children:Object(Re.jsx)(Je,{})}):Object(Re.jsx)(Ke,Object(m.a)(Object(m.a)({},i),{},{component:r})):Object(Re.jsx)(Ne.a,{to:"/login"})})),ze=a(188),We=function(e,t,a){var n=Object(c.useState)(Object(m.a)({},e)),s=Object(ye.a)(n,2),r=s[0],o=s[1];return{formData:r,handleChange:function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(ze.a)({},e.target.name,e.target.value)))},handleSubmit:function(n){n.preventDefault(),t(Object(m.a)({formData:r},a)),o(Object(m.a)({},e))},handleCancel:function(){o(Object(m.a)({},e))}}},Ze=Object(l.b)((function(e){return{users:e.users,auth:e.auth}}),{registerUser:function(e){var t=e.formData,a=e.url;return Pe("user",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(n){var s;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Be()),n({type:H}),e.next=4,_e.a.post("/api/users/register",Object(m.a)(Object(m.a)({},t),{},{url:a}));case 4:s=e.sent,n({type:p,payload:s.data}),n(Te("".concat(t.firstName," ").concat(t.lastName," was successfully registered and temporary password sent to user's email"),"success"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.registerUser,a=e.users,s=a.loading,c=a.Moderator,r=e.auth.currentUser,o=e.history,i=e.initialFormState,l={firstName:"",lastName:"",email:""},u=document.location.href.replace("register","login"),d=We(i||l,t,{url:u}),b=d.formData,j=d.handleChange,m=d.handleSubmit,p=d.handleCancel,h=Object.keys(i||l);return n=[{label:"First Name",placeholder:"Enter first name",name:h[0],value:b[h[0]]},{label:"Last Name",placeholder:"Enter last name",name:h[1],value:b[h[1]]},{label:"Email",placeholder:"Enter Email",name:h[2],value:b[h[2]]}],"user"!==r.role&&c?s?Object(Re.jsx)(Je,{}):Object(Re.jsxs)("div",{className:"Form",children:[Object(Re.jsx)("button",{className:"Form__goBack btn__cancel",onClick:function(){o.push("/members")},children:"Cancel"}),Object(Re.jsx)("h1",{children:"Register a User"}),Object(Re.jsx)("p",{className:"Form__text",children:"Please fill the form as per member's details"}),Object(Re.jsx)("hr",{}),Object(Re.jsxs)("form",{className:"Form__form",onSubmit:m,children:[Object(Re.jsxs)("label",{children:[Object(Re.jsx)("b",{children:n[0].label}),Object(Re.jsx)("input",{type:"text",placeholder:n[0].placeholder,value:n[0].value,name:n[0].name,onChange:j,maxLength:15,autoComplete:"on",required:!0})]},n[0].label),Object(Re.jsxs)("label",{children:[Object(Re.jsx)("b",{children:n[1].label}),Object(Re.jsx)("input",{type:"text",placeholder:n[1].placeholder,value:n[1].value,name:n[1].name,onChange:j,autoComplete:"on",maxLength:15,required:!0})]},n[1].label),Object(Re.jsxs)("label",{children:[Object(Re.jsx)("b",{children:n[2].label}),Object(Re.jsx)("input",{type:"email",placeholder:n[2].placeholder,value:n[2].value,name:n[2].name,onChange:j,autoComplete:"on",required:!0})]},n[2].label),Object(Re.jsxs)("div",{className:"Form__btns",children:[Object(Re.jsx)("button",{className:"btn",onClick:p,children:"Clear"}),Object(Re.jsx)("input",{type:"submit",className:"btn btn__submit",value:"Register"})]})]})]}):Object(Re.jsx)(Ne.a,{to:"/dashboard"})})),Ve=Object(l.b)((function(e){return{auth:e.auth}}),{loginUser:function(e){var t=e.formData,a=e.history;return Pe("auth",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(n){var s;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Be()),n({type:A}),e.next=4,_e.a.post("/api/auth/login",t);case 4:s=e.sent,n({type:h,payload:s.data}),a.push("/dashboard");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.loginUser,a=e.history,n=e.auth,c=n.isAuthenticated,r=n.loading,o=e.initialFormState,i={email:"",password:""},l=We(o||i,t,{history:a}),u=l.formData,d=l.handleChange,b=l.handleSubmit,j=Object.keys(o||i);return s=[{label:"Email",placeholder:"Enter email",name:j[0],value:u[j[0]]},{label:"Password",placeholder:"Enter Password",name:j[1],value:u[j[1]]}],c?Object(Re.jsx)(Ne.a,{to:"/dashboard"}):r?Object(Re.jsx)(Je,{}):Object(Re.jsxs)("div",{className:"Form",children:[Object(Re.jsx)("h1",{children:"Login"}),Object(Re.jsx)("p",{className:"Form__text",children:"Please login with your email address and password"}),Object(Re.jsx)("hr",{}),Object(Re.jsxs)("form",{className:"Form__form",onSubmit:b,children:[Object(Re.jsxs)("label",{children:[Object(Re.jsx)("b",{children:s[0].label}),Object(Re.jsx)("input",{type:"text",placeholder:s[0].placeholder,name:s[0].name,value:s[0].value,onChange:d,required:!0})]}),Object(Re.jsxs)("label",{children:[Object(Re.jsx)("b",{children:s[1].label}),Object(Re.jsx)("input",{type:"password",placeholder:s[1].placeholder,name:s[1].name,value:s[1].value,onChange:d,required:!0,autoComplete:"on"})]}),Object(Re.jsxs)("div",{style:{display:"flex",gap:"2rem",marginBottom:"4rem"},children:[Object(Re.jsx)("button",{onClick:function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(n){return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t({formData:{email:"test@example.com",password:"test123"},history:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"btn btn__submit-trial",children:"TEST USER"}),Object(Re.jsx)("input",{type:"submit",className:"btn btn__submit",value:"Login"})]}),Object(Re.jsx)(Ce.b,{className:"Form__link",to:"/forgotpassword",children:"Forgot your password?"})]})]})})),He=a(190),Xe=a(44),$e=a.p+"static/media/anonymous.f53f00ea.png",et=function(e){var t=e.user,a=e.Moderator,n=e.active,s=e.deActivateUser,c=e.activateUser,r=e.currentUser,o=e.changeRole;return Object(Re.jsxs)("tr",{className:"MemberList__member",children:[Object(Re.jsx)("td",{children:Object(Re.jsx)("img",{className:"MemberList__member-photo",src:t.photo||$e,alt:"user avatar"})}),Object(Re.jsx)("td",{children:Object(Re.jsx)("span",{className:"MemberList__member-name",children:t.firstName})}),Object(Re.jsx)("td",{children:Object(Re.jsx)("span",{className:"MemberList__member-name",children:t.lastName})}),(a||n)&&Object(Re.jsx)("td",{children:Object(Re.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(Re.jsx)("a",{href:"mailto:".concat(t.email),target:"_top",className:"MemberList__member-email",children:Object(Re.jsx)(He.a,{})}),t.email]})}),a&&"admin"===r.role&&n&&Object(Re.jsx)("td",{children:Object(Re.jsxs)("select",{defaultValue:"committee"===t.role||"admin"===t.role,onChange:function(e){return o(t._id,e.target.value)},children:[Object(Re.jsx)("option",{value:!0,children:"Yes"}),Object(Re.jsx)("option",{value:!1,children:"No"})]})}),a&&(n?Object(Re.jsx)("td",{children:Object(Re.jsx)("button",{className:"btn btn__delete-xs",onClick:function(){return s(t._id)},children:Object(Re.jsx)(Xe.i,{className:"MemberList__deactivate"})})}):Object(Re.jsx)("td",{children:Object(Re.jsx)("button",{className:"btn btn__activate-xs",children:Object(Re.jsx)(Xe.h,{className:"MemberList__activate",onClick:function(){return c(t._id)}})})}))]},t._id)},tt=function(e){var t=e.users,a=e.Moderator,n=e.active,s=e.deActivateUser,r=e.activateUser,o=e.currentUser,i=e.setActive,l=e.setAlert,u=e.resetAlert,d=e.changeRole;return Object(c.useEffect)((function(){0===t.length&&(u(),i(!0),l("Currently there are no unactive users","fail"))}),[t]),Object(Re.jsxs)("table",{className:"MemberList__list",children:[Object(Re.jsx)("thead",{children:Object(Re.jsxs)("tr",{children:[Object(Re.jsx)("th",{children:"Photo"}),Object(Re.jsx)("th",{children:"First Name"}),Object(Re.jsx)("th",{children:"Last Name"}),(a||n)&&Object(Re.jsx)("th",{children:"Email"}),a&&"admin"===o.role&&n&&Object(Re.jsx)("th",{children:"Committee"}),a&&(n?Object(Re.jsx)("th",{children:"Deactivate"}):Object(Re.jsx)("th",{children:"Activate"}))]})}),Object(Re.jsx)("tbody",{children:t.map((function(e){return Object(Re.jsx)(et,{user:e,Moderator:a,active:n,deActivateUser:s,activateUser:r,currentUser:o,changeRole:d},e._id)}))})]})},at=function(e){var t=e.users,a=e.Moderator,n=e.active,s=e.deActivateUser,r=e.activateUser,o=e.currentUser,i=e.setActive,l=e.setAlert,u=e.resetAlert,d=e.changeRole;return Object(c.useEffect)((function(){0===t.length&&(u(),i(!0),l("Currently there are no unactive users","fail"))}),[t]),Object(Re.jsx)("div",{className:"SmallList",children:t.map((function(e){return Object(Re.jsxs)("div",{className:"SmallList__user",children:[Object(Re.jsx)("img",{className:"SmallList__photo",src:e.photo||$e,alt:"avatar"}),Object(Re.jsxs)("div",{className:"SmallList__body",children:[Object(Re.jsxs)("div",{className:"SmallList__details",children:[Object(Re.jsxs)("span",{className:"SmallList__name",children:[e.firstName,"\xa0",e.lastName]}),(n||a)&&Object(Re.jsxs)("a",{className:"SmallList__email",href:"mailto:".concat(e.email),target:"_top",children:[Object(Re.jsx)(He.a,{}),Object(Re.jsx)("span",{children:e.email})]})]}),a&&Object(Re.jsxs)("div",{className:"SmallList__moderator",children:[a&&"admin"===o.role&&n&&Object(Re.jsxs)("div",{className:"SmallList__committee",children:[Object(Re.jsx)("strong",{children:"Committee"}),Object(Re.jsxs)("select",{defaultValue:"committee"===e.role||"admin"===e.role,onChange:function(t){return d(e._id,t.target.value)},children:[Object(Re.jsx)("option",{value:!0,children:"Yes"}),Object(Re.jsx)("option",{value:!1,children:"No"})]})]}),n?Object(Re.jsx)("div",{className:"SmallList__deactivate",onClick:function(){return s(e._id)},children:"Deactivate"}):Object(Re.jsx)("div",{className:"SmallList__activate",onClick:function(){return r(e._id)},children:"Activate"})]})]})]},e._id)}))})},nt=Object(l.b)((function(e){return{users:e.users,auth:e.auth}}),{getAllUsers:function(){return Pe("user",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(t){var a;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.get("/api/users?sort=firstName");case 2:a=e.sent,t({type:q,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deActivateUser:function(e){return Pe("user",function(){var t=Object(we.a)(Object(Ee.a)().mark((function t(a){var n;return Object(Ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Be()),a({type:H}),t.next=4,_e.a.patch("/api/users/deActivateUser/".concat(e));case 4:n=t.sent,a({type:Z,payload:n.data}),a(Te("".concat(n.data.firstName," ").concat(n.data.lastName," has been deactivated!"),"success"));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},activateUser:function(e){return Pe("user",function(){var t=Object(we.a)(Object(Ee.a)().mark((function t(a){var n;return Object(Ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Be()),a({type:H}),t.next=4,_e.a.patch("/api/users/activateUser/".concat(e));case 4:n=t.sent,a({type:V,payload:n.data}),a(Te("".concat(n.data.firstName," ").concat(n.data.lastName," has been activated!"),"success"));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setAlert:Te,resetAlert:Be,changeRole:function(e,t){return Pe("user",function(){var a=Object(we.a)(Object(Ee.a)().mark((function a(n){var s,c;return Object(Ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n(Be()),n({type:H}),"true"!==t){a.next=10;break}return a.next=5,_e.a.patch("/api/users/makeCommittee/".concat(e));case 5:s=a.sent,n({type:X,payload:s.data}),n(Te("".concat(s.data.firstName," ").concat(s.data.lastName," is now a committee member"),"success")),a.next=15;break;case 10:return a.next=12,_e.a.patch("/api/users/removeCommittee/".concat(e));case 12:c=a.sent,n({type:$,payload:c.data}),n(Te("".concat(c.data.firstName," ").concat(c.data.lastName," is back to a normal member"),"success"));case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}})((function(e){var t=e.getAllUsers,a=e.users,n=a.users,s=a.loading,r=a.Moderator,o=e.auth.currentUser,i=e.deActivateUser,l=e.activateUser,u=e.setAlert,d=e.resetAlert,b=e.changeRole,j=Object(c.useState)(!0),m=Object(ye.a)(j,2),p=m[0],h=m[1];Object(c.useEffect)((function(){t(p)}),[]);var O=n.filter((function(e){return!0===e.active})),A=n.filter((function(e){return!1===e.active}));return s?Object(Re.jsx)(Je,{}):Object(Re.jsxs)("div",{className:"MemberList",children:[Object(Re.jsx)("h1",{className:"MemberList__title",children:"Member List"}),Object(Re.jsxs)("div",{className:"MemberList__top",children:[Object(Re.jsx)(Ce.b,{className:"MemberList__register",to:"/register",children:r&&Object(Re.jsx)("button",{className:"btn",children:"Register User"})}),Object(Re.jsxs)("div",{className:"MemberList__switch",children:[Object(Re.jsx)("input",{type:"radio",name:"users",id:"active",onChange:function(){return h(!p)},checked:p}),Object(Re.jsx)("label",{htmlFor:"active",children:"Active"}),Object(Re.jsx)("input",{type:"radio",name:"users",id:"unactive",onChange:function(){return h(!p)},checked:!p}),Object(Re.jsx)("label",{htmlFor:"unactive",children:"Unactive"})]})]}),Object(Re.jsx)(tt,{Moderator:r,users:p?O:A,active:p,deActivateUser:i,activateUser:l,currentUser:o,setActive:h,setAlert:u,resetAlert:d,changeRole:b}),Object(Re.jsx)(at,{className:"MemberList__smallList",Moderator:r,users:p?O:A,active:p,deActivateUser:i,activateUser:l,currentUser:o,setActive:h,setAlert:u,resetAlert:d,changeRole:b})]})})),st=a(76),ct=a.n(st),rt=(a(177),a(107)),ot=a(108),it=a(109),lt=a(111),ut=a(124),dt=a(152),bt=a(125),jt=a(191),mt=a(153),pt=a(192),ht=a(193),Ot=a(194),At=a(5),xt="data:image/png;base64,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",gt=function(e){Object(it.a)(a,e);var t=Object(lt.a)(a);function a(){var e;Object(rt.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={url:"",open:!1},e.onPopoverClick=function(){e.preventNextClose=!0},e.openPopover=function(){e.state.open||(e.preventNextClose=!0,e.setState({open:!0}))},e.closePopover=function(){!e.preventNextClose&&e.state.open&&e.setState({open:!1}),e.preventNextClose=!1},e.addImage=function(){var t=xt;["jpeg","jpg","gif","png"].some((function(t){return e.state.url.includes(t)}))&&(t=e.state.url);var a=e.props,n=a.editorState;(0,a.onChange)(e.props.modifier(n,t))},e.changeUrl=function(t){e.setState({url:t.target.value})},e}return Object(ot.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.closePopover)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.closePopover)}},{key:"render",value:function(){var e=this.state.open?"RichEditor__addImage-addImagePopover":"RichEditor__addImage-addImageClosedPopover",t=this.state.open?"RichEditor-styleButton RichEditor-activeButton":"RichEditor-styleButton";return Object(Re.jsxs)("div",{className:"RichEditor__addImage",children:[Object(Re.jsx)(dt.a,{style:{fontSize:"2rem"},className:t,onMouseUp:this.openPopover}),Object(Re.jsxs)("div",{className:e,onClick:this.onPopoverClick,children:[Object(Re.jsx)("input",{type:"text",placeholder:"Paste the image url \u2026",className:"RichEditor__addImage-addImageInput",onChange:this.changeUrl,value:this.state.url}),Object(Re.jsx)("button",{className:"RichEditor__addImage-addImageConfirmButton",type:"button",onClick:this.addImage,children:"Add"})]})]})}}]),a}(c.Component),ft=a(377),vt=function(e){return new At.CompositeDecorator(function(e){var t,a,n=[],s=Object(ft.a)(e);try{for(s.s();!(a=s.n()).done;)null!==(t=a.value).decorators&&void 0!==t.decorators&&(n=n.concat(t.decorators))}catch(c){s.e(c)}finally{s.f()}return n}(e))},Nt=function(e){return function(t){t({type:T,payload:e})}},yt=["blockKey"],Ct="handled",Et=At.KeyBindingUtil.hasCommandModifier,wt=Object(jt.a)({component:function(e){var t=e.blockKey,a=Object(Fe.a)(e,yt);return Object(Re.jsx)("a",Object(m.a)(Object(m.a)({},a),{},{blockkey:t,target:"_blank"}))}}),St=Object(pt.a)(),_t=Object(ht.a)(),kt=Object(Ot.a)(),Tt=Object(bt.a)(St.decorator,_t.decorator,kt.decorator),Bt=[wt,_t,kt,St,Object(mt.a)({decorator:Tt})],Pt=vt(Bt),Mt=function(e){Object(it.a)(a,e);var t=Object(lt.a)(a);function a(e){var n;return Object(rt.a)(this,a),(n=t.call(this,e)).focus=function(){return n.editor.focus()},n.onChange=function(e){n.setState({editorState:e,plainText:n.state.editorState.getCurrentContent().getPlainText()}),n.props.onChange(Object(At.convertToRaw)(e.getCurrentContent()))},n.handleBeforeInput=function(e,t){var a=t.getCurrentContent(),s=t.getSelection();return n.onChange(At.EditorState.push(t,At.Modifier.replaceText(a,s,e))),Ct},n.handleKeyCommand=function(e,t){var a=At.RichUtils.handleKeyCommand(t,e);return!!a&&(n.onChange(a),!0)},n.mapKeyToEditorCommand=function(e){return 83===e.keyCode&&Et(e)?"myeditor-save":Object(At.getDefaultKeyBinding)(e)},n.toggleBlockType=function(e){n.onChange(At.RichUtils.toggleBlockType(n.state.editorState,e))},n.toggleInlineStyle=function(e){n.onChange(At.RichUtils.toggleInlineStyle(n.state.editorState,e))},n.handleSubmit=function(){var e=n.state.plainText;0!==e.length&&(n.props.handleSubmit(e),n.setState({editorState:At.EditorState.createEmpty()}))},n.state={editorState:n.props.contentState?At.EditorState.createWithContent(Object(At.convertFromRaw)(JSON.parse(n.props.contentState)),Pt):At.EditorState.createEmpty(),plainText:""},n}return Object(ot.a)(a,[{key:"componentDidCatch",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.state.editorState,a="RichEditor-editor",n=t.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("div",{className:"RichEditor-root",children:[Object(Re.jsxs)("div",{className:"RichEditor-root__controls",children:[Object(Re.jsx)(Jt,{editorState:t,onToggle:this.toggleInlineStyle}),Object(Re.jsx)(Kt,{editorState:t,onToggle:this.toggleBlockType,onChange:this.onChange})]}),Object(Re.jsx)("div",{className:a,onClick:this.focus,children:Object(Re.jsx)(bt.b,{blockStyleFn:Rt,editorState:t,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:"Write something...",ref:function(t){e.editor=t},spellCheck:!0,plugins:Bt})})]}),Object(Re.jsx)("button",{className:"btn btn__submit",onClick:this.handleSubmit,children:"Submit"})]})}}]),a}(c.Component),Ut=Object(l.b)(null,{onChange:Nt})(Mt);function Rt(e){return"blockquote"===e.getType()?"RichEditor-blockquote":null}var Dt,Ft,Lt,It=function(e){Object(it.a)(a,e);var t=Object(lt.a)(a);function a(){var e;return Object(rt.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(ot.a)(a,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),Object(Re.jsx)("span",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),Qt=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:Object(Re.jsx)(ut.c,{}),style:"blockquote"},{label:Object(Re.jsx)(dt.c,{}),style:"unordered-list-item"},{label:Object(Re.jsx)(dt.b,{}),style:"ordered-list-item"}],Kt=function(e){var t=e.editorState,a=e.onChange,n=t.getSelection(),s=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return Object(Re.jsxs)("div",{className:"RichEditor-controls",children:[Qt.map((function(t,a){return Object(Re.jsx)(It,{active:t.style===s,label:t.label,onToggle:e.onToggle,style:t.style},"".concat(t.label,"-").concat(a))})),Object(Re.jsx)(gt,{editorState:t,onChange:a,modifier:Object(mt.a)().addImage})]})},Gt=[{label:Object(Re.jsx)(Xe.a,{}),style:"BOLD"},{label:Object(Re.jsx)(Xe.b,{}),style:"ITALIC"},{label:Object(Re.jsx)(Xe.f,{}),style:"UNDERLINE"}],Jt=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(Re.jsx)("div",{className:"RichEditor-controls",children:Gt.map((function(a,n){return Object(Re.jsx)(It,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},"".concat(a.label,"-").concat(n))}))})},Yt=Object(l.b)(null,{onChange:Nt})((function(e){var t=e.handleSubmit,a=e.handleToggle,n=e.title,s=e.setTitle,r=e.type,o=e.contentState,i=e.plainText,l=e.onChange;Object(c.useEffect)((function(){if(i){var e=Object(At.convertToRaw)(At.ContentState.createFromText(i));l(e)}}),[]);var u=Object(c.useState)(i||""),d=Object(ye.a)(u,2),b=d[0],j=d[1];return Object(Re.jsxs)("div",{className:"CreatePost",children:[Object(Re.jsx)("button",{className:"btn__cancel",onClick:a,children:"Cancel"}),"edit"!==r&&Object(Re.jsxs)("h1",{className:"CreatePost__title",children:["Submit a new ",r]}),Object(Re.jsxs)("div",{className:"CreatePost__form",children:[Object(Re.jsx)("label",{htmlFor:"title",className:"CreatePost__label",children:"Title:"}),Object(Re.jsx)("input",{id:"title",type:"text",name:"title",placeholder:"Insert Title",value:n,onChange:function(e){return s(e.target.value)},maxLength:80,required:!0}),Object(Re.jsxs)("div",{className:"CreatePost__editor",children:[Object(Re.jsx)("textarea",{type:"text",name:"editor",id:"editor",value:b,onChange:function(e){j(e.target.value);var t=Object(At.convertToRaw)(At.ContentState.createFromText(e.target.value));l(t)},required:!0}),Object(Re.jsx)("button",{className:"btn btn__submit",onClick:function(){0!==b.length&&t(b)},children:"Submit"})]}),Object(Re.jsx)("div",{className:"CreatePost__textEditor",children:Object(Re.jsx)(Ut,{contentState:o,handleSubmit:t})})]})]})})),qt=["blockKey"],zt=Object(jt.a)({component:function(e){var t=e.blockKey,a=Object(Fe.a)(e,qt);return Object(Re.jsx)("a",Object(m.a)(Object(m.a)({},a),{},{blockkey:t,target:"_blank"}))}}),Wt=Object(pt.a)(),Zt=Object(ht.a)(),Vt=Object(Ot.a)(),Ht=Object(bt.a)(Wt.decorator,Zt.decorator,Vt.decorator),Xt=[zt,Zt,Vt,Wt,Object(mt.a)({decorator:Ht})],$t=vt(Xt),ea=function(e){Object(it.a)(a,e);var t=Object(lt.a)(a);function a(){return Object(rt.a)(this,a),t.apply(this,arguments)}return Object(ot.a)(a,[{key:"render",value:function(){var e,t=this.props.contentState;e=null!==t?At.EditorState.createWithContent(Object(At.convertFromRaw)(JSON.parse(t)),$t):At.EditorState.createEmpty();return Object(Re.jsx)("div",{className:"RichEditor-ReadOnly",onClick:function(){Dt.focus()},children:Object(Re.jsx)(bt.b,{onChange:function(){},plugins:Xt,editorState:e,ref:function(e){Dt=e},readOnly:!0})})}}]),a}(r.a.Component),ta=Object(l.b)((function(e){return{users:e.users,announcements:e.announcements,textEditor:e.textEditor,alerts:e.alerts}}),{toggleEdit:function(){return function(e){e(Be()),e({type:ee})}},createAnnouncement:function(e){var t=e.title,a=e.contentState,n=e.plainText;return Pe("announcement",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(s){var c,r;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Be()),c=JSON.stringify(a),s({type:ce}),e.next=5,_e.a.post("/api/announcements",{title:t,contentState:c,plainText:n});case 5:r=e.sent,s({type:te,payload:r.data}),s(Te("New announcement posted!","success"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},updateAnnouncement:function(e){var t=e.id,a=e.newTitle,n=e.newContentState,s=e.plainText;return Pe("announcement",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(c){var r,o;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Be()),c({type:ce}),r=JSON.stringify(n),e.next=5,_e.a.patch("/api/announcements/".concat(t),{title:a,contentState:r,plainText:s});case 5:o=e.sent,c({type:se,payload:o.data}),c(Te("Announcement updated","success"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteAnnouncement:function(e){return Pe("announcement",function(){var t=Object(we.a)(Object(Ee.a)().mark((function t(a){return Object(Ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete the announcement?")){t.next=9;break}return a(Be()),a({type:ce}),t.next=5,_e.a.delete("/api/announcements/".concat(e));case 5:a({type:ne,payload:e}),a(Te("Announcement removed","success")),t.next=10;break;case 9:return t.abrupt("return");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})((function(e){var t=e.users.Moderator,a=e.toggleEdit,n=e.createAnnouncement,s=e.updateAnnouncement,r=e.deleteAnnouncement,o=e.announcements,i=o.edit,l=o.announcements,u=e.textEditor.contentState,d=e.alerts,b=Object(c.useState)(""),j=Object(ye.a)(b,2),m=j[0],p=j[1],h=Object(c.useState)(null),O=Object(ye.a)(h,2),A=O[0],x=O[1],g=Object(c.useState)("announcement"),f=Object(ye.a)(g,2),v=f[0],N=f[1],y=Object(c.useState)(null),C=Object(ye.a)(y,2),E=C[0],w=C[1],S=Object(c.useState)(null),_=Object(ye.a)(S,2),k=_[0],T=_[1];Object(c.useEffect)((function(){i&&0===d.msg.length&&a()}),[]);return i?Object(Re.jsx)("div",{className:"Dashboard__editor",children:Object(Re.jsx)(Yt,{handleToggle:function(){N("announcement"),a(),p("")},title:m,setTitle:p,handleSubmit:"edit"===v?function(e){s({id:A,newTitle:m,newContentState:u,plainText:e})}:function(e){n({title:m,contentState:u,plainText:e}),p("")},contentState:"edit"===v&&E,type:v,plainText:"edit"===v&&k})}):Object(Re.jsxs)("div",{className:"Dashboard__left",children:[Object(Re.jsxs)("div",{className:"Dashboard__top",children:[Object(Re.jsx)("h1",{className:"Dashboard__title",children:"Announcements"}),t&&Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("button",{className:"btn__announcement",onClick:a,children:"Post new announcement"}),Object(Re.jsx)(Xe.d,{className:"btn__announcement-small",onClick:a})]})]}),Object(Re.jsx)("div",{className:"Dashboard__announcements",children:l.map((function(e){return Object(Re.jsxs)("div",{className:"Dashboard__announcement",children:[Object(Re.jsx)("h1",{className:"Dashboard__announcement-title",children:e.title}),Object(Re.jsx)(ea,{contentState:e.contentState}),Object(Re.jsx)("div",{className:"Dashboard__announcement-bottom",children:e.lastEdited>e.date?Object(Re.jsxs)("span",{children:["Edited: \xa0",Object(Re.jsx)(ct.a,{tz:"Australia/Perth",format:"ddd MMM DD YYYY HH:mm",children:e.lastEdited})]}):Object(Re.jsx)(ct.a,{tz:"Australia/Perth",format:"ddd MMM DD YYYY HH:mm",children:e.date})}),t&&Object(Re.jsxs)("div",{className:"Dashboard__announcement-buttons",children:[Object(Re.jsx)("button",{className:"btn btn__edit-xs",onClick:function(){return t=e._id,n=e.title,s=e.contentState,c=e.plainText,N("edit"),p(n),x(t),w(s),T(c),void a();var t,n,s,c},children:"Edit"}),Object(Re.jsx)("button",{className:"btn btn__delete-xs",onClick:function(){return r(e._id)},children:"Delete"})]})]},e._id)}))})]})})),aa=function(e){var t=e.currentUser,a=e.isModified,n="".concat(t.photo,"?")+Date.now();return Object(Re.jsxs)("div",{className:"Dashboard__right",children:[t.photo?Object(Re.jsx)("img",{className:"Dashboard__user-photo",src:a?n:t.photo,alt:"user avatar"}):Object(Re.jsx)("img",{className:"Dashboard__user-photo",src:$e,alt:"user avatar"}),Object(Re.jsxs)("div",{className:"Dashboard__user-details",children:[Object(Re.jsxs)("p",{className:"Dashboard__user-name",children:["Hi ",Object(Re.jsx)("strong",{children:t.firstName})]}),Object(Re.jsxs)("div",{className:"Dashboard__links",children:[Object(Re.jsxs)(Ce.b,{to:"/user/update",className:"Dashboard__links-link",children:[Object(Re.jsx)(Xe.g,{})," ",Object(Re.jsx)("span",{children:"Update Profile"})]}),Object(Re.jsxs)(Ce.b,{to:"/user/changepassword",className:"Dashboard__links-link",children:[Object(Re.jsx)(Xe.c,{})," ",Object(Re.jsx)("span",{children:"Change Password"})]})]})]})]})},na=Object(l.b)((function(e){return{auth:e.auth,announcements:e.announcements}}),{getAnnouncements:function(){return Pe("announcement",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(t){var a;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.get("/api/announcements?sort=-lastEdited&limit=".concat(10));case 2:a=e.sent,t({type:ae,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.auth,a=t.currentUser,n=t.isModified,s=e.announcements,r=s.loading,o=s.edit,i=e.getAnnouncements;return Object(c.useEffect)((function(){i()}),[]),r?Object(Re.jsx)(Je,{}):Object(Re.jsxs)("div",{className:"Dashboard",children:[Object(Re.jsx)(ta,{}),!o&&Object(Re.jsx)(aa,{currentUser:a,isModified:n})]})})),sa=a(380),ca=a.n(sa),ra=6,oa=function(e){var t=e.createPost,a=e.contentState,n=e.edit,s=e.toggleCreatePost,r=e.history,o=e.searchPost,i=e.setPage,l=e.setIsSearch,u=e.loading,d=e.getAllPost,b=Object(c.useState)(""),j=Object(ye.a)(b,2),m=j[0],p=j[1],h=Object(c.useState)(""),O=Object(ye.a)(h,2),A=O[0],x=O[1];return Object(Re.jsx)("div",{className:"Discussion__head",children:n?!u&&Object(Re.jsx)("div",{className:"Discussion__editor",children:Object(Re.jsx)(Yt,{handleSubmit:function(e){t({title:m,contentState:a,history:r,plainText:e})},handleToggle:function(){p(""),s()},title:m,setTitle:p,type:"post"})}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("button",{className:"btn btn__submit Discussion__create",onClick:s,children:"Create post"}),Object(Re.jsx)(Xe.d,{className:"Discussion__create-small",onClick:s}),Object(Re.jsxs)("div",{className:"Discussion__search",children:[Object(Re.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(A),o(A),i(1)},children:[Object(Re.jsx)("input",{type:"text",placeholder:"Search all posts",value:A,onChange:function(e){return x(e.target.value)}}),Object(Re.jsx)("button",{className:"Discussion__search-searchIcon",children:Object(Re.jsx)(Xe.e,{})})]}),Object(Re.jsx)("button",{className:"Discussion__search-reset btn",onClick:function(e){x(""),l(!1),d(),i(1)},children:"Reset"})]})]})})},ia=function(e){var t=e.img,a=e.count,n=e.id,s=e.title,c=e.date,r=e.text,o=e.firstName,i=e.lastName;return Object(Re.jsxs)(Ce.b,{to:"/discussion/post/".concat(n),className:"Discussion__post",children:[Object(Re.jsxs)("div",{className:"Discussion__postUser",children:[Object(Re.jsx)("img",{src:t,alt:"user-logo",className:"Discussion__postUser-img"}),Object(Re.jsxs)("span",{className:"Discussion__postUser-name",children:[Object(Re.jsxs)("span",{children:[o,"\xa0"]}),(o.length<=10||i.length<=10)&&Object(Re.jsx)("span",{children:i})]})]}),Object(Re.jsxs)("div",{className:"Discussion__postBody",children:[Object(Re.jsxs)("div",{className:"Discussion__postBody-header",children:[Object(Re.jsxs)("h3",{className:"Discussion__postBody-title",children:[" ",s]}),Object(Re.jsx)("span",{className:"Discussion__postBody-chat",children:a>0&&Object(Re.jsxs)(Re.Fragment,{children:[a," ",Object(Re.jsx)(ut.a,{})]})})]}),Object(Re.jsx)("p",{className:"Discussion__postBody-text",children:r}),Object(Re.jsx)("span",{className:"Discussion__postBody-date",children:Object(Re.jsx)(ct.a,{tz:"Australia/Perth",format:"DD MMM YYYY",children:c})})]})]})},la=function(){return Object(Re.jsx)(c.Fragment,{children:Object(Re.jsx)("img",{src:Ge,style:{width:"75px",margin:"0 auto 0 auto",display:"block"},alt:"Loading..."})})},ua=Object(l.b)((function(e){return{post:e.post,contentState:e.textEditor.contentState}}),{getAllPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Pe("post",function(){var t=Object(we.a)(Object(Ee.a)().mark((function t(a){var n;return Object(Ee.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:w}),a(Be()),t.next=4,_e.a.get("/api/posts?page=".concat(e,"&limit=").concat(ra,"&sort=-lastEdited,-lastComment"));case 4:n=t.sent,a({type:P,payload:Object(m.a)(Object(m.a)({},n.data),{},{limit:ra})});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},createPost:function(e){var t=e.title,a=e.contentState,n=e.history,s=e.plainText;return Pe("post",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(c){var r,o,i,l;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Be()),c({type:K}),r=JSON.stringify(a),o={title:t,contentState:r,plainText:s},e.next=6,_e.a.post("/api/posts",o);case 6:i=e.sent,l=i.data._id,c({type:E,payload:i.data}),n.push("/discussion/post/".concat(l));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toggleCreatePost:function(){return function(e){e(Be()),e({type:I})}},searchPost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Pe("post",function(){var a=Object(we.a)(Object(Ee.a)().mark((function a(n){var s;return Object(Ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Be()),n({type:w}),a.next=4,_e.a.post("/api/posts/search/text?page=".concat(t,"&limit=").concat(ra,"&sort=-lastComment,-date"),{text:e});case 4:s=a.sent,n({type:D,payload:Object(m.a)(Object(m.a)({},s.data),{},{limit:ra})});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},postNextPage:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Pe("post",function(){var n=Object(we.a)(Object(Ee.a)().mark((function n(s){var c;return Object(Ee.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=6;break}return n.next=3,_e.a.post("/api/posts/search/text?page=".concat(e+1,"&limit=").concat(ra,"&sort=-lastEdited,-lastComment"),{text:a});case 3:c=n.sent,n.next=9;break;case 6:return n.next=8,_e.a.get("/api/posts?page=".concat(e+1,"&limit=").concat(ra,"&sort=-lastEdited,-lastComment"));case 8:c=n.sent;case 9:c.data.posts.length>=1?(s({type:M,payload:Object(m.a)(Object(m.a)({},c.data),{},{limit:ra})}),t(e+1)):s({type:G});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}})((function(e){var t=e.post,a=t.posts,n=t.edit,s=t.totalPages,r=t.loading,o=e.getAllPost,i=e.contentState,l=e.createPost,u=e.toggleCreatePost,d=e.history,b=e.searchPost,j=e.postNextPage;Object(c.useEffect)((function(){n&&u(),o()}),[]);var m=Object(c.useState)(1),p=Object(ye.a)(m,2),h=p[0],O=p[1],A=Object(c.useState)(!1),x=Object(ye.a)(A,2),g=x[0],f=x[1],v=a.map((function(e){return Object(Re.jsx)(ia,{title:e.title,id:e._id,img:e.user.photo||$e,date:e.date,count:e.comments.length,text:e.plainText,firstName:e.user.firstName,lastName:e.user.lastName},e._id)}));return Object(Re.jsxs)("div",{className:"Discussion",children:[Object(Re.jsx)(oa,{edit:n,contentState:i,createPost:l,toggleCreatePost:u,history:d,searchPost:b,setPage:O,loading:r,setIsSearch:f,getAllPost:o}),!n&&Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(ca.a,{pageStart:h,loadMore:function(){h<s&&j(h,O,g)},hasMore:h<s,threshold:50,loader:Object(Re.jsx)(la,{},"loader"),children:v})})]})})),da=function(e){var t=e.img,a=e.contentState,n=e.user,s=e.postId,c=e.id,r=e.date,o=e.deleteComment,i=e.history,l=e.page,u=e.setPage,d=e.currentUser,b=e.Moderator,j=n.firstName.length+n.lastName.length,m=n.firstName+" "+n.lastName[0].toUpperCase();return j>20&&(m=n.firstName[0].toUpperCase()+n.lastName[0].toUpperCase()),Object(Re.jsxs)("div",{className:"Post__comment",children:[Object(Re.jsxs)("div",{className:"Post__commentUser",children:[Object(Re.jsx)("img",{src:n.photo||t,alt:"user-logo",className:"Post__commentUser-img"}),Object(Re.jsx)("span",{className:"Post__commentUser-name",children:j>12&&window.screen.width>1e3?Object(Re.jsx)("span",{children:m}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("span",{children:[n.firstName,"\xa0"]}),Object(Re.jsx)("span",{children:n.lastName})]})})]}),Object(Re.jsxs)("div",{className:"Post__commentBody",children:[Object(Re.jsx)("div",{className:"Post__commentBody-text",children:Object(Re.jsx)(ea,{contentState:a})}),Object(Re.jsxs)("div",{className:"Post__commentBottom",children:[Object(Re.jsx)("span",{className:"Post__commentBody-date",children:Object(Re.jsx)(ct.a,{tz:"Australia/Perth",format:"ddd MMM DD YYYY HH:mm",children:r})}),(d._id===n._id||b&&"admin"===d.role)&&Object(Re.jsx)("button",{className:"Post__comment-trash",onClick:function(){return o({postId:s,commentId:c,history:i,page:l,setPage:u})},children:Object(Re.jsx)(ut.b,{})})]})]})]})},ba=function(e){var t=e.post,a=e.img,n=e.currentUser,s=e.toggleEditPost,c=e.handleDeletePost,r=e.Moderator,o=t.user.firstName.length+t.user.lastName.length,i=t.user.firstName+" "+t.user.lastName[0].toUpperCase();return o>20&&(i=t.user.firstName[0].toUpperCase()+t.user.lastName[0].toUpperCase()),Object(Re.jsxs)("div",{className:"Post__post",children:[Object(Re.jsxs)("div",{className:"Post__postUser",children:[Object(Re.jsx)("img",{src:t.user.photo||a,alt:"user-logo",className:"Post__postUser-img"}),Object(Re.jsx)("span",{className:"Post__postUser-name",children:o>12&&window.screen.width>1e3?Object(Re.jsx)("span",{children:i}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("span",{children:[t.user.firstName,"\xa0"]}),Object(Re.jsx)("span",{children:t.user.lastName})]})})]}),Object(Re.jsxs)("div",{className:"Post__postBody",children:[Object(Re.jsx)("div",{className:"Post__postBody-text",children:Object(Re.jsx)(ea,{contentState:t.contentState})}),Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("span",{className:"Post__postBody-date",children:["Posted:",Object(Re.jsx)(ct.a,{tz:"Australia/Perth",format:"ddd MMM DD YYYY HH:mm",children:t.date})]}),t.lastEdited!==t.date&&Object(Re.jsxs)("span",{className:"Post__postBody-edited",children:["Last edited:",Object(Re.jsx)(ct.a,{tz:"Australia/Perth",format:"ddd MMM DD YYYY HH:mm",children:t.lastEdited})]}),Object(Re.jsxs)("div",{className:"Post__postButtons",children:[n._id===t.user._id&&Object(Re.jsx)("button",{className:"btn btn__edit-xs",onClick:s,children:"Edit"}),(n._id===t.user._id||r&&"admin"===n.role)&&Object(Re.jsx)("button",{className:"btn btn__delete-xs",onClick:c,children:"Delete"})]})]})]})]})},ja=function(e){var t,a,n=e.page,s=e.setPage,c=e.totalPages,r=e.postId;return c>1&&n!==c&&(t=Object(Re.jsx)(Ce.b,{to:"/discussion/post/".concat(r,"?page=").concat(n+1),className:"Post__page-buttons Post__page-next",onClick:function(){s(n+1),ke()},children:"Next"})),n>1&&(a=Object(Re.jsx)(Ce.b,{to:"/discussion/post/".concat(r,"?page=").concat(n-1),className:"Post__page-buttons Post__page-prev",onClick:function(){s(n-1),ke()},children:"Previous"})),Object(Re.jsxs)("div",{className:"Post__page",children:[a,n>1||c>1?Object(Re.jsxs)(Re.Fragment,{children:["Page ",n]}):"",t]})},ma=Object(l.b)((function(e){return{postEdit:e.post.postEdit,post:e.post,textEditor:e.textEditor,currentUser:e.auth.currentUser,users:e.users,postLoading:e.post.postLoading}}),{getPost:function(e){var t=e.id,a=e.currentPage,n=e.history,s=e.setPage;return Pe("post",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(c){var r,o,i;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:S}),e.next=3,_e.a.get("/api/posts/".concat(t));case 3:r=e.sent,o=r.data.comments,i=Math.ceil(o.length/6)||1,c({type:B,payload:Object(m.a)(Object(m.a)({},r.data),{},{totalPages:i})}),(isNaN(a)||a>i)&&(n.push("/discussion/post/".concat(t)),s(1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addComment:function(e){var t=e.contentState,a=e.postId,n=e.history,s=e.setPage;return Pe("post",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(c){var r,o,i,l;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Be()),r=JSON.stringify(t),e.next=4,_e.a.post("/api/posts/".concat(a),{contentState:r});case 4:o=e.sent,i=o.data,l=Math.ceil(i.length/6)||1,c({type:_,payload:{comments:i,totalPages:l}}),n.push("/discussion/post/".concat(a,"?page=").concat(l)),s(l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toggleEditPost:function(){return function(e){e(Be()),e({type:Q})}},deletePost:function(e,t){return Pe("post",function(){var a=Object(we.a)(Object(Ee.a)().mark((function a(n){return Object(Ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.confirm("Are you sure you want to delete post?")){a.next=9;break}return n({type:K}),a.next=4,_e.a.delete("/api/posts/".concat(e));case 4:n({type:R}),t.push("/discussion"),n(Te("Post Deleted","success")),a.next=10;break;case 9:return a.abrupt("return");case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},deleteComment:function(e){var t=e.postId,a=e.commentId,n=e.history,s=e.page,c=e.setPage;return Pe("post",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(r){var o,i,l;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Be()),e.next=3,_e.a.put("/api/posts/".concat(t,"/comments/").concat(a));case 3:o=e.sent,i=o.data,l=Math.ceil(i.length/6)||1,r({type:k,payload:{comments:i,totalPages:l}}),s>l&&(n.push("/discussion/post/".concat(t,"?page=").concat(l)),c(l)),r(Te("Comment removed","success"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},updatePost:function(e){var t=e.postId,a=e.newTitle,n=e.newContentState,s=e.plainText;return Pe("post",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(c){var r,o,i;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Be()),c({type:K}),r=JSON.stringify(n),o={title:a,contentState:r,plainText:s},e.next=6,_e.a.patch("/api/posts/".concat(t),o);case 6:i=e.sent,c({type:U,payload:i.data});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onChange:Nt})((function(e){var t=e.match.params.postId,a=e.getPost,n=e.toggleEditPost,s=e.deletePost,r=e.postEdit,o=e.updatePost,i=e.addComment,l=e.deleteComment,u=e.post,d=u.post,b=u.postError,j=e.textEditor,m=e.onChange,p=e.history,h=e.location,O=e.currentUser,A=e.postLoading,x=e.users.Moderator;Object(c.useEffect)((function(){a({id:t,currentPage:g,history:p,setPage:y})}),[]);var g=parseInt(h.search.split("?page=")[1])||1,f=Object(c.useState)(g),v=Object(ye.a)(f,2),N=v[0],y=v[1],C=Object(c.useState)(""),E=Object(ye.a)(C,2),w=E[0],S=E[1],_=Object(c.useState)(""),k=Object(ye.a)(_,2),T=k[0],B=k[1],P=function(){return i({contentState:j.contentState,postId:t,history:p,setPage:y})},M=function(){S(d.title),n()},U=6*(N-1),R=6*N;return null===d||A?b?Object(Re.jsx)(Ne.a,{to:"/discussion"}):Object(Re.jsx)(Je,{}):r?Object(Re.jsx)("div",{className:"Post__editor",children:Object(Re.jsx)(Yt,{handleToggle:M,title:w,setTitle:S,handleSubmit:function(e){o({postId:t,newTitle:w,newContentState:j.contentState,plainText:e})},contentState:d.contentState,plainText:d.plainText,type:"edit"})}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(Ce.b,{to:"/discussion",className:"Post__goBack",children:Object(Re.jsx)("button",{children:"Go Back"})}),Object(Re.jsx)("div",{className:"Post__title-container",children:Object(Re.jsx)("h1",{className:"Post__title",children:d.title})}),Object(Re.jsx)(ba,{Moderator:x,img:$e,post:d,currentUser:O,toggleEditPost:M,handleDeletePost:function(){return s(t,p)}}),d&&Object(Re.jsxs)(Re.Fragment,{children:[d.comments.slice(U,R).length>3&&Object(Re.jsx)(ja,{page:N,setPage:y,totalPages:d.totalPages,postId:t}),Object(Re.jsx)("div",{className:"Post__comments",children:d.comments.slice(U,R).map((function(e){return Object(Re.jsx)(da,{img:$e,contentState:e.contentState,id:e._id,postId:t,date:e.date,user:e.user,deleteComment:l,page:N,history:p,setPage:y,currentUser:O,Moderator:x},e._id)}))}),Object(Re.jsx)(ja,{page:N,setPage:y,totalPages:d.totalPages,postId:t}),Object(Re.jsxs)("div",{className:"Post__addComment",children:[Object(Re.jsxs)("div",{className:"Post__addComment-top",children:[Object(Re.jsx)("img",{src:O.photo||$e,alt:"current user",className:"Post__commentUser-img"}),Object(Re.jsx)("h2",{className:"Post__addComment-title",children:"Add Comment"})]}),Object(Re.jsxs)("div",{className:"CreatePost__editor",children:[Object(Re.jsx)("textarea",{placeholder:"Add comment....",className:"CreatePost__editor",type:"text",name:"editor",id:"editor",value:T,onChange:function(e){B(e.target.value);var t=Object(At.convertToRaw)(At.ContentState.createFromText(e.target.value));m(t)},required:!0}),Object(Re.jsx)("button",{className:"btn btn__submit",onClick:function(){0!==T.length&&(B(""),P())},children:"Submit"})]}),Object(Re.jsx)("div",{className:"CreatePost__textEditor",children:Object(Re.jsx)(Ut,{handleSubmit:P})})]})]})]})})),pa=Object(l.b)((function(e){return{auth:e.auth}}),{forgotPassword:function(e,t){return Pe("auth",function(){var a=Object(we.a)(Object(Ee.a)().mark((function a(n){return Object(Ee.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Be()),n({type:N}),a.next=4,_e.a.post("/api/auth/forgotPassword",{email:e,url:t});case 4:n({type:x}),n(Te("Success! Please check your email to reset your password.","success"));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}})((function(e){var t=e.forgotPassword,a=e.auth.loading,n=Object(c.useState)(""),s=Object(ye.a)(n,2),r=s[0],o=s[1];return a?Object(Re.jsx)(Je,{}):Object(Re.jsxs)("div",{className:"Form",children:[Object(Re.jsx)("h1",{children:"Forgot your password?"}),Object(Re.jsx)("p",{className:"Form__text",children:"Please enter the email address registered to your account and we will send you the link to reset your password."}),Object(Re.jsx)("hr",{}),Object(Re.jsxs)("form",{className:"Form__form",onSubmit:function(e){e.preventDefault(),t(r,document.location.href)},children:[Object(Re.jsx)("label",{children:Object(Re.jsx)("input",{type:"email",placeholder:"Enter Email",name:"email",value:r,onChange:function(e){return o(e.target.value)},required:!0})}),Object(Re.jsx)("input",{type:"submit",className:"btn btn__submit",value:"Send Email"})]})]})})),ha=Object(l.b)((function(e){return{auth:e.auth}}),{resetPassword:function(e){var t=e.password,a=e.resetToken,n=e.history;return Pe("auth",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(s){var c;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Be()),s({type:N}),e.next=4,_e.a.patch("/api/auth/resetPassword/".concat(a),{password:t});case 4:c=e.sent,s({type:g,payload:c.data}),n.push("/dashboard"),s(Te("Success! New passsword has been set.","success"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setAlert:Te,resetAlert:Be})((function(e){var t=e.setAlert,a=e.resetAlert,n=e.resetPassword,s=e.match.params.resetToken,c=e.history,r=e.auth.loading,o=e.initialFormState,i={password:"",confirmPassword:""},l=We(o||i,n,{resetToken:s,history:c}),u=l.formData,d=l.handleChange,b=l.handleSubmit,j=Object.keys(o||i);return Ft=[{label:"Password",placeholder:"Enter a new Password",name:j[0],value:u[j[0]]},{label:"Confirm password",placeholder:"Confirm password",name:j[1],value:u[j[1]]}],r?Object(Re.jsx)(Je,{}):Object(Re.jsxs)("div",{className:"Form",children:[Object(Re.jsx)("h1",{children:"Reset your password"}),Object(Re.jsx)("p",{className:"Form__text",children:"Please enter a new password below."}),Object(Re.jsx)("hr",{}),Object(Re.jsxs)("form",{className:"Form__form",onSubmit:u[j[0]]!==u[j[1]]?function(e){a(),e.preventDefault(),t("Passwords does not match","fail")}:b,children:[Ft.map((function(e){return Object(Re.jsxs)("label",{children:[Object(Re.jsx)("b",{children:e.label}),Object(Re.jsx)("input",{type:"password",placeholder:e.placeholder,value:e.value,name:e.name,onChange:d,autoComplete:"on",minLength:"6",required:!0})]},e.label)})),Object(Re.jsx)("div",{className:"Form__btns",children:Object(Re.jsx)("input",{type:"submit",className:"btn btn__submit",value:"Reset Password"})})]})]})})),Oa=Object(l.b)((function(e){return{auth:e.auth}}),{updateMe:function(e){var t=e.formData,a=e.file,n=e.history;return Pe("update",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(s){var c,r;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(Be()),s({type:N}),!a){e.next=9;break}return e.next=5,_e.a.post("/api/upload",{type:a.type});case 5:return c=e.sent,e.next=8,_e.a.put(c.data.url,a,{headers:{"Content-Type":a.type}});case 8:t.photo="https://toastmaster-user-photo.s3-ap-southeast-2.amazonaws.com/".concat(c.data.key);case 9:return e.next=11,_e.a.patch("/api/users/updateMe",t);case 11:r=e.sent,s({type:J,payload:r.data}),n.push("/dashboard"),s(Te("User updated","success"));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.auth.currentUser,a=e.updateMe,n=e.history,s=Object(c.useState)(""),r=Object(ye.a)(s,2),o=r[0],i=r[1],l=t.firstName,u=t.lastName,d=t.email,b=We({firstName:l,lastName:u,email:d},a,{file:o,history:n}),j=b.formData,m=b.handleChange,p=b.handleSubmit;return Object(Re.jsxs)("div",{className:"Form",children:[Object(Re.jsx)("button",{className:"Form__goBack btn__cancel",onClick:function(){n.push("/dashboard")},children:"Cancel"}),Object(Re.jsx)("h1",{children:"Update your profile"}),Object(Re.jsxs)("form",{className:"Form__form",onSubmit:p,children:[Object(Re.jsxs)("label",{children:[Object(Re.jsx)("strong",{children:"Profile photo"}),Object(Re.jsx)("input",{type:"file",accept:"image/*",name:"image",onChange:function(e){i(e.target.files[0])}})]}),Object(Re.jsxs)("label",{children:[Object(Re.jsx)("strong",{children:"First Name"}),Object(Re.jsx)("input",{type:"text",name:"firstName",value:j.firstName,maxLength:15,onChange:m})]}),Object(Re.jsxs)("label",{children:[Object(Re.jsx)("strong",{children:"Last Name"}),Object(Re.jsx)("input",{type:"text",name:"lastName",value:j.lastName,maxLength:15,onChange:m})]}),Object(Re.jsxs)("label",{children:[Object(Re.jsx)("strong",{children:"Email"}),Object(Re.jsx)("input",{type:"email",name:"email",value:j.email,onChange:m})]}),Object(Re.jsx)("button",{className:"btn btn__submit",children:"Submit"})]})]})})),Aa=Object(l.b)((function(e){return{auth:e.auth}}),{changePassword:function(e){var t=e.formData,a=t.currentPassword,n=t.newPassword,s=e.history;return Pe("update",function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(t){var c;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Be()),t({type:N}),e.next=4,_e.a.post("/api/users/updatePassword",{currentPassword:a,newPassword:n});case 4:c=e.sent,t({type:f,payload:c.data}),s.push("/dashboard"),t(Te("Success! Password changed.","success"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setAlert:Te,resetAlert:Be})((function(e){var t=e.setAlert,a=e.resetAlert,n=e.changePassword,s=e.history,c=e.auth.loading,r=e.initialFormState,o={currentPassword:"",newPassword:"",confirmPassword:""},i=We(r||o,n,{history:s}),l=i.formData,u=i.handleChange,d=i.handleSubmit,b=Object.keys(r||o);return Lt=[{label:"Current Password",placeholder:"Enter your current Password",name:b[0],value:l[b[0]]},{label:"New Password",placeholder:"Enter your new Password",name:b[1],value:l[b[1]]},{label:"Confirm Password",placeholder:"Confirm password",name:b[2],value:l[b[2]]}],c?Object(Re.jsx)(Je,{}):Object(Re.jsxs)("div",{className:"Form",children:[Object(Re.jsx)("button",{className:"Form__goBack btn__cancel",onClick:function(){s.push("/dashboard")},children:"Cancel"}),Object(Re.jsx)("h1",{children:"Change Your Password"}),Object(Re.jsx)("p",{className:"Form__text",children:"Changing your password will log you out from other devices."}),Object(Re.jsx)("hr",{}),Object(Re.jsxs)("form",{className:"Form__form",onSubmit:l[b[1]]!==l[b[2]]?function(e){a(),e.preventDefault(),t("Passwords does not match","fail")}:d,children:[Lt.map((function(e){return Object(Re.jsxs)("label",{children:[Object(Re.jsx)("b",{children:e.label}),Object(Re.jsx)("input",{type:"password",placeholder:e.placeholder,value:e.value,name:e.name,onChange:u,autoComplete:"on",minLength:"6",required:!0})]},e.label)})),Object(Re.jsx)("input",{type:"submit",className:"btn btn__submit",value:"Submit"})]})]})})),xa=function(){return Object(Re.jsxs)(Ne.d,{children:[Object(Re.jsx)(qe,{exact:!0,path:"/register",component:Ze}),Object(Re.jsx)(Ke,{exact:!0,path:"/login",component:Ve}),Object(Re.jsx)(Ke,{exact:!0,path:"/forgotpassword",component:pa}),Object(Re.jsx)(Ke,{exact:!0,path:"/forgotpassword/reset/:resetToken",component:ha}),Object(Re.jsx)(qe,{exact:!0,path:"/members",component:nt}),Object(Re.jsx)(qe,{exact:!0,path:"/discussion",component:ua}),Object(Re.jsx)(qe,{exact:!0,path:"/dashboard",component:na}),Object(Re.jsx)(qe,{exact:!0,path:"/user/update",component:Oa}),Object(Re.jsx)(qe,{exact:!0,path:"/user/changepassword",component:Aa}),Object(Re.jsx)(qe,{exact:!0,path:"/discussion/post/:postId",component:ma}),Object(Re.jsx)(Ne.a,{to:"/dashboard"})]})},ga=(a(761),Object(l.b)((function(e){return{auth:e.auth,users:e.users}}),{toggleView:function(){return function(e){return e({type:z})}}})((function(e){var t=e.auth.currentUser,a=e.toggleView,n=e.users.Moderator;return Object(c.useEffect)((function(){n&&a()}),[t]),t&&"user"!==t.role&&Object(Re.jsxs)("div",{className:"Moderator".concat(n?" Moderator__checked":""),children:[Object(Re.jsxs)("span",{className:"Moderator__mode",children:["View as:\xa0",n?"admin"===t.role?"admin":"committee":"user"]}),Object(Re.jsx)("input",{className:"Moderator__checkbox",id:"moderator",type:"checkbox",value:n,onChange:a}),Object(Re.jsx)("label",{htmlFor:"moderator",className:"Moderator__slider"})]})}))),fa=Object(Ne.g)((function(){return Object(c.useEffect)((function(){ve.dispatch(function(){var e=Object(we.a)(Object(Ee.a)().mark((function e(t){var a,n;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e.a.get("/api/auth/checkUser");case 3:a=e.sent,n=a.data,t({type:h,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:v});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(Re.jsxs)(l.a,{store:ve,children:[Object(Re.jsx)(De,{}),Object(Re.jsx)(ga,{}),Object(Re.jsx)(Ne.b,{exact:!0,path:"/",render:function(){return Object(Re.jsx)(Ne.a,{to:"/dashboard"})}}),Object(Re.jsx)(xa,{})]})}));a(762),a(763),a(764),a(765);i.a.render(Object(Re.jsx)(Ce.a,{children:Object(Re.jsx)(fa,{})}),document.getElementById("root"))}},[[766,1,2]]]);
//# sourceMappingURL=main.a55de21f.chunk.js.map