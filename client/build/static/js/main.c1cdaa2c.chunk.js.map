{"version":3,"sources":["components/auth/Register.js","components/auth/Login.js","actions/types.js","reducers/users.js","reducers/auth.js","reducers/alerts.js","reducers/post.js","reducers/textEditor.js","reducers/announcements.js","reducers/index.js","store.js","utils/scrollToTop.js","actions/alerts.js","utils/catchAsync.js","actions/auth.js","img/logo.png","components/layout/Navbar.js","components/layout/Container.js","components/layout/Alert.js","components/routing/NewRoute.js","img/spinner.gif","components/utils/Spinner.js","components/routing/PrivateRoute.js","hooks/useForms.js","actions/users.js","components/pages/Members/Members.js","components/pages/Members/Table.js","components/pages/Members/SmallList.js","components/pages/Members/MemberList.js","components/utils/draft-js/ImageAdd/ImageAdd.js","img/notfound.png","components/utils/draft-js/pluginDecorator.js","actions/textEditor.js","components/utils/draft-js/TextEditor.js","components/utils/draft-js/ReadOnly.js","components/auth/ResetPassword.js","components/auth/ChangePassword.js","components/utils/ContentEditor.js","components/pages/Dashboard/Announcements.js","actions/announcements.js","components/pages/Dashboard/User.js","components/pages/Dashboard/Dashboard.js","components/utils/SpinnerSmall.js","components/pages/Discussion/DiscussionHead.js","components/pages/Discussion/DiscussionPost.js","components/pages/Discussion/Discussion.js","actions/post.js","components/pages/Post/Comments.js","components/pages/Post/PageButtons.js","components/pages/Post/PostHead.js","components/pages/Post/Post.js","components/auth/ForgotPassword.js","utils/fileToBase64.js","components/pages/Dashboard/Update.js","components/routing/Routes.js","components/layout/Moderator.js","App.js","index.js"],"names":["inputs","REGISTER_SUCCESS","LOGIN_SUCCESS","LOGOUT","CLEAR_LOGIN","FORGOT_PASSWORD","RESET_PASSWORD","CHANGE_PASSWORD","AUTH_ERROR","LOADING_AUTH","SET_ALERT","RESET_ALERT","POST_CREATE","POST_RESET","CLEAR_POST","ADD_COMMENT","DELETE_COMMENT","ON_CHANGE","GET_POST","GET_ALL_POST","POST_NEXT_PAGE","UPDATE_POST","DELETE_POST","SEARCH_POSTS","POST_ERROR","ERROR","TOGGLE_CREATE_POST","TOGGLE_EDIT_POST","LOADING_SUBMIT_POST","GET_POST_ERROR","UPDATE_ME","UPDATE_FAILED","GET_ALL_USERS","TOGGLE_MODERATOR","USER_ERROR","DEACTIVATE_USER","ACTIVATE_USER","LOADING_USER","MAKE_COMMITTEE","REMOVE_COMMITTEE","TOGGLE_CREATE_ANNOUNCEMENT","CREATE_ANNOUNCEMENT","GET_ALL_ANNOUNCEMENT","DELETE_ANNOUNCEMENT","UPDATE_ANNOUNCEMENT","LOADING_ANNOUNCEMENT_SUBMIT","ANNOUNCEMENT_ERROR","initialState","users","loading","error","Moderator","usersReducer","state","arguments","length","undefined","action","type","payload","_objectSpread","concat","_toConsumableArray","id","userArray","newUser","index","findIndex","el","_id","replaceUser","currentUser","isAuthenticated","isModified","authReducer","photo","faker","image","avatar","msg","alertType","alertsReducer","postLoading","posts","post","edit","postEdit","totalPages","postError","postReducer","Math","ceil","numPosts","limit","contentState","textEditorReducer","announcements","announcementReducer","filterAnnouncement","filter","reducers","combineReducers","auth","alerts","textEditor","middleware","thunk","composeEnhancers","composeWithDevTools","trace","store","createStore","rootReducer","applyMiddleware","apply","scrollToTop","document","body","scrollTop","documentElement","setAlert","dispatch","resetAlert","catchAsync","fn","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","catch","_ref2","_callee","err","_context","response","status","abrupt","data","message","logoutUser","stop","_x2","_x","_ref4","_callee3","_context3","axios","get","_x3","connect","_useState","useState","_useState2","_slicedToArray","nav","setNav","toggleNav","_jsx","_Fragment","children","_jsxs","className","Link","to","style","textDecoration","src","logo","alt","name","checked","onChange","htmlFor","onClick","Container","Object","keys","map","alert","Component","component","rest","_objectWithoutProperties","_excluded","Route","render","props","Alert","Spinner","Fragment","spinner","width","margin","display","_ref$auth","useEffect","active","NewRoute","Redirect","useForms","blankForm","args","formData","setFormData","handleChange","e","_defineProperty","target","value","handleSubmit","preventDefault","handleCancel","registerUser","url","res","sent","firstName","lastName","_ref$users","history","initialFormState","email","location","href","replace","_useForms","names","label","placeholder","role","push","onSubmit","maxLength","autoComplete","required","loginUser","password","gap","marginBottom","Members","user","deActivateUser","activateUser","changeRole","alignItems","justifyContent","MdEmail","defaultValue","FaUserTimes","FaUserPlus","Table","setActive","SmallList","getAllUsers","_ref5","userId","_ref6","_callee4","_context4","patch","_x4","_ref7","_callee5","_context5","_x5","isCommittee","_ref8","_callee6","_res","_context6","_x6","activeUsers","unActiveUsers","ImageAdd","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","Array","_key","call","open","onPopoverClick","preventNextClose","openPopover","setState","closePopover","addImage","some","includes","_this$props","editorState","modifier","changeUrl","evt","_createClass","key","addEventListener","this","removeEventListener","popoverClassName","buttonClassName","GoFileMedia","fontSize","onMouseUp","pluginDecorator","listOfPlugins","CompositeDecorator","plugin","_step","decorators","_iterator","_createForOfIteratorHelper","s","n","done","f","getPluginDecoratorArray","hasCommandModifier","KeyBindingUtil","linkifyPlugin","createLinkifyPlugin","blockKey","blockkey","focusPlugin","createFocusPlugin","blockDndPlugin","createBlockDndPlugin","resizeablePlugin","createResizeablePlugin","imageDecorator","composeDecorators","decorator","createImagePlugin","TextEditor","focus","editor","plainText","getCurrentContent","getPlainText","convertToRaw","handleBeforeInput","chars","currentContentState","selectionState","getSelection","EditorState","Modifier","replaceText","handleKeyCommand","command","newState","RichUtils","mapKeyToEditorCommand","keyCode","getDefaultKeyBinding","toggleBlockType","blockType","toggleInlineStyle","inlineStyle","text","createEmpty","createWithContent","convertFromRaw","JSON","parse","forceUpdate","_this2","hasText","getBlockMap","first","getType","InlineStyleControls","onToggle","BlockStyleControls","Editor","blockStyleFn","getBlockStyle","keyBindingFn","ref","element","spellCheck","plugins","block","StyleButton","_React$Component","_super2","_this3","onMouseDown","React","BLOCK_TYPES","IoMdQuote","GoListUnordered","GoListOrdered","selection","getBlockForKey","getStartKey","i","INLINE_STYLES","FaBold","FaItalic","FaUnderline","currentStyle","getCurrentInlineStyle","has","handleToggle","title","setTitle","textToContentState","ContentState","createFromText","content","setContent","ReadOnly","convertedState","readOnly","toggleEdit","createAnnouncement","jsonContentState","stringify","updateAnnouncement","newTitle","newContentState","deleteAnnouncement","window","confirm","delete","_ref$announcements","_useState3","_useState4","setId","_useState5","_useState6","setType","_useState7","_useState8","contentEdit","setContentEdit","_useState9","_useState10","plainTextEdit","setPlainTextEdit","ContentEditor","FaPlusCircle","lastEdited","date","Moment","tz","format","postId","currentTitle","postContentState","postPlainText","User","FaUserAlt","FaKey","getAnnouncements","_ref3","Announcements","SpinnerSmall","DiscussionHead","createPost","toggleCreatePost","searchPost","setPage","setIsSearch","getAllPost","search","setSearch","FaSearch","DiscussionPost","count","fakePhoto","useMemo","IoIosChatboxes","page","_ref14","_callee9","_context9","_x9","postNextPage","isSearch","_ref$post","renderPosts","comments","InfiniteScroll","pageStart","loadMore","hasMore","threshold","loader","PostComment","deleteComment","userNameLength","convertedName","toUpperCase","screen","commentId","IoIosTrash","PageButtons","nextPage","previousPage","PostHead","toggleEditPost","handleDeletePost","getPost","currentPage","isNaN","addComment","_ref10","_ref11","_callee7","_context7","_x7","deletePost","_ref9","_ref12","_ref13","_callee8","_context8","put","_x8","updatePost","match","params","parseInt","split","handleToggleEditPost","start","end","img","slice","c","Comments","forgotPassword","setEmail","resetPassword","resetToken","confirmPassword","input","minLength","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","updateMe","uploadConfig","headers","setFile","handleFileChange","fileBase64","files","accept","changePassword","_ref8$formData","currentPassword","newPassword","Routes","Switch","PrivateRoute","exact","path","Register","Login","ForgotPassword","ResetPassword","MemberList","Discussion","Dashboard","Update","ChangePassword","Post","toggleView","withRouter","t0","Provider","Navbar","ReactDOM","Router","App","getElementById"],"mappings":"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","file":"static/js/main.c1cdaa2c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { registerUser } from \"../../actions/users\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport let inputs;\r\n\r\nexport const Register = ({\r\n\tregisterUser,\r\n\tusers: { loading, Moderator },\r\n\tauth: { currentUser },\r\n\thistory,\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = { firstName: \"\", lastName: \"\", email: \"\" };\r\n\r\n\t// replace register with login to send url by email to user\r\n\tconst url = document.location.href.replace(\"register\", \"login\");\r\n\r\n\tconst { formData, handleChange, handleSubmit, handleCancel } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tregisterUser,\r\n\t\t{\r\n\t\t\turl,\r\n\t\t}\r\n\t);\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"First Name\",\r\n\t\t\tplaceholder: \"Enter first name\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Last Name\",\r\n\t\t\tplaceholder: \"Enter last name\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Email\",\r\n\t\t\tplaceholder: \"Enter Email\",\r\n\t\t\tname: names[2],\r\n\t\t\tvalue: formData[names[2]],\r\n\t\t},\r\n\t];\r\n\r\n\treturn currentUser.role === \"user\" || !Moderator ? (\r\n\t\t<Redirect to=\"/dashboard\" />\r\n\t) : loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"Form__goBack btn__cancel\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/members\");\r\n\t\t\t\t}}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t<h1>Register a User</h1>\r\n\t\t\t<p className=\"Form__text\">Please fill the form as per member's details</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t<label key={inputs[0].label}>\r\n\t\t\t\t\t\t\t\t<b>{inputs[0].label}</b>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={inputs[0].placeholder}\r\n\t\t\t\t\t\t\t\t\tvalue={inputs[0].value}\r\n\t\t\t\t\t\t\t\t\tname={inputs[0].name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label key={inputs[1].label}>\r\n\t\t\t\t\t\t\t\t<b>{inputs[1].label}</b>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={inputs[1].placeholder}\r\n\t\t\t\t\t\t\t\t\tvalue={inputs[1].value}\r\n\t\t\t\t\t\t\t\t\tname={inputs[1].name}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t<label key={inputs[2].label}>\r\n\t\t\t\t\t<b>{inputs[2].label}</b>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder={inputs[2].placeholder}\r\n\t\t\t\t\t\tvalue={inputs[2].value}\r\n\t\t\t\t\t\tname={inputs[2].name}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t<div className=\"Form__btns\">\r\n\t\t\t\t\t<button className=\"btn\" onClick={handleCancel}>\r\n\t\t\t\t\t\tClear\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Register\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRegister.propTypes = {\r\n\tregisterUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: state.users,\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { registerUser })(Register);\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { loginUser } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport let inputs;\r\n\r\nexport const Login = ({\r\n\tloginUser,\r\n\thistory,\r\n\tauth: { isAuthenticated, loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t};\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tloginUser,\r\n\t\t{ history }\r\n\t);\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Email\",\r\n\t\t\tplaceholder: \"Enter email\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Password\",\r\n\t\t\tplaceholder: \"Enter Password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t];\r\n\r\n\t// Redirect if logged in\r\n\tif (isAuthenticated) {\r\n\t\treturn <Redirect to=\"/dashboard\" />;\r\n\t}\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tPlease login with your email address and password\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<b>{inputs[0].label}</b>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder={inputs[0].placeholder}\r\n\t\t\t\t\t\tname={inputs[0].name}\r\n\t\t\t\t\t\tvalue={inputs[0].value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<b>{inputs[1].label}</b>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder={inputs[1].placeholder}\r\n\t\t\t\t\t\tname={inputs[1].name}\r\n\t\t\t\t\t\tvalue={inputs[1].value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div style={{ display: \"flex\", gap: \"2rem\", marginBottom: \"4rem\" }}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\tawait loginUser({\r\n\t\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t\temail: \"test@example.com\",\r\n\t\t\t\t\t\t\t\t\tpassword: \"test123\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\thistory,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"btn btn__submit-trial\">\r\n\t\t\t\t\t\tTEST USER\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Login\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Link className=\"Form__link\" to=\"/forgotpassword\">\r\n\t\t\t\t\tForgot your password?\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nLogin.propTypes = {\r\n\tloginUser: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loginUser })(Login);\r\n","// Auth\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const CLEAR_LOGIN = 'CLEAR_LOGIN';\r\nexport const FORGOT_PASSWORD = 'FORGOT_PASSWORD';\r\nexport const RESET_PASSWORD = 'RESET_PASSWORD';\r\nexport const CHANGE_PASSWORD = 'CHANGE_PASSWORD';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOADING_AUTH = 'LOADING_AUTH';\r\n\r\n// Alerts\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const RESET_ALERT = 'RESET_ALERT';\r\n\r\n// Post and discussion\r\nexport const POST_CREATE = 'POST_CREATE';\r\nexport const POST_RESET = 'POST_RESET';\r\nexport const CLEAR_POST = 'CLEAR_POST';\r\nexport const ADD_COMMENT = 'ADD_COMMENT';\r\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\r\nexport const ON_CHANGE = 'ON_CHANGE';\r\nexport const GET_POST = 'GET_POST';\r\nexport const GET_ALL_POST = 'GET_ALL_POST';\r\nexport const POST_NEXT_PAGE = 'POST_NEXT_PAGE';\r\nexport const UPDATE_POST = 'UPDATE_POST';\r\nexport const DELETE_POST = 'DELETE_POST';\r\nexport const SEARCH_POSTS = 'SEARCH_POSTS';\r\nexport const POST_LOADING = 'POST_LOADING';\r\nexport const POST_ERROR = 'POST_ERROR';\r\nexport const ERROR = 'ERROR';\r\nexport const TOGGLE_CREATE_POST = 'TOGGLE_CREATE_POST';\r\nexport const TOGGLE_EDIT_POST = 'TOGGLE_EDIT_POST';\r\nexport const LOADING_SUBMIT_POST = 'LOADING_SUBMIT_POST';\r\nexport const GET_POST_ERROR = 'GET_POST_ERROR'\r\n\r\n// User\r\nexport const UPDATE_ME = 'UPDATE_ME';\r\nexport const UPDATE_FAILED = 'UPDATE_FAILED';\r\nexport const GET_ALL_USERS = 'GET_ALL_USERS';\r\nexport const TOGGLE_MODERATOR = 'TOGGLE_MODERATOR';\r\nexport const USER_ERROR = 'USER_ERROR';\r\nexport const DEACTIVATE_USER = 'DEACTIVATE_USER';\r\nexport const ACTIVATE_USER = 'ACTIVATE_USER';\r\nexport const LOADING_USER = 'LOADING_USER';\r\nexport const MAKE_COMMITTEE = 'MAKE_COMMITTEE';\r\nexport const REMOVE_COMMITTEE = 'REMOVE_COMMITTEE';\r\n\r\n// Announcements\r\nexport const TOGGLE_CREATE_ANNOUNCEMENT = 'TOGGLE_CREATE_ANNOUNCEMENT';\r\nexport const CREATE_ANNOUNCEMENT = 'CREATE_ANNOUNCEMENT';\r\nexport const GET_ALL_ANNOUNCEMENT = 'GET_ALL_ANNOUNCEMENT';\r\nexport const DELETE_ANNOUNCEMENT = 'DELETE_ANNOUNCEMENT';\r\nexport const UPDATE_ANNOUNCEMENT = 'UPDATE_ANNOUNCEMENT';\r\nexport const LOADING_ANNOUNCEMENT_SUBMIT = 'LOADING_ANNOUNCEMENT_SUBMIT';\r\nexport const ANNOUNCEMENT_ERROR = 'ANNOUNCEMENT_ERROR';\r\n","import {\r\n\tREGISTER_SUCCESS,\r\n\tGET_ALL_USERS,\r\n\tTOGGLE_MODERATOR,\r\n\tUSER_ERROR,\r\n\tDEACTIVATE_USER,\r\n\tACTIVATE_USER,\r\n\tLOADING_USER,\r\n\tMAKE_COMMITTEE,\r\n\tREMOVE_COMMITTEE,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tusers: [],\r\n\tloading: true,\r\n\terror: {},\r\n\tModerator: false,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\r\n\tconst replaceUser = (id, userArray, newUser) => {\r\n\t\tconst index = userArray.findIndex((el) => el._id === id);\r\n\t\tuserArray[index] = newUser;\r\n\t\treturn userArray;\r\n\t};\r\n\r\n\tswitch (type) {\r\n\t\tcase USER_ERROR:\r\n\t\t\treturn { ...state, loading: false };\r\n\t\tcase LOADING_USER:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase REGISTER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t//State needs to be first\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...state.users, payload],\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase GET_ALL_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: payload,\r\n\t\t\t};\r\n\t\tcase TOGGLE_MODERATOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tModerator: !state.Moderator,\r\n\t\t\t};\r\n\r\n\t\tcase DEACTIVATE_USER:\r\n\t\tcase ACTIVATE_USER:\r\n\t\tcase MAKE_COMMITTEE:\r\n\t\tcase REMOVE_COMMITTEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: replaceUser(payload._id, state.users, payload),\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default usersReducer;\r\n","import { faker } from \"@faker-js/faker\";\r\nimport {\r\n  AUTH_ERROR,\r\n  CHANGE_PASSWORD,\r\n  CLEAR_LOGIN,\r\n  FORGOT_PASSWORD,\r\n  LOADING_AUTH,\r\n  LOGIN_SUCCESS,\r\n  LOGOUT,\r\n  RESET_PASSWORD,\r\n  UPDATE_FAILED,\r\n  UPDATE_ME,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n  currentUser: null,\r\n  isAuthenticated: false,\r\n  loading: true,\r\n  isModified: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  if (payload && !payload.photo) {\r\n    payload.photo = faker.image.avatar();\r\n  }\r\n\r\n  switch (type) {\r\n    case LOADING_AUTH:\r\n      return { ...state, loading: true };\r\n    case CLEAR_LOGIN:\r\n      return {\r\n        ...state,\r\n        currentUser: null,\r\n        isAuthenticated: false,\r\n        loading: true,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n    case RESET_PASSWORD:\r\n    case CHANGE_PASSWORD:\r\n      return {\r\n        //State needs to be first\r\n        ...state,\r\n        currentUser: payload,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n      };\r\n    case FORGOT_PASSWORD:\r\n    case LOGOUT:\r\n    case AUTH_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n\r\n    case UPDATE_ME:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        currentUser: payload,\r\n        isModified: true,\r\n      };\r\n    case UPDATE_FAILED:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { SET_ALERT, RESET_ALERT, ERROR } from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tmsg: [],\r\n\talertType: null,\r\n\terror: {},\r\n};\r\n\r\nconst alertsReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase SET_ALERT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmsg: [...state.msg, payload.msg],\r\n\t\t\t\talertType: payload.alertType,\r\n\t\t\t};\r\n\t\tcase RESET_ALERT:\r\n\t\t\treturn {\r\n\t\t\t\t...initialState,\r\n\t\t\t};\r\n\t\tcase ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default alertsReducer;\r\n","import {\r\n\tPOST_CREATE,\r\n\tGET_POST,\r\n\tGET_ALL_POST,\r\n\tUPDATE_POST,\r\n\tDELETE_POST,\r\n\tTOGGLE_CREATE_POST,\r\n\tTOGGLE_EDIT_POST,\r\n\tADD_COMMENT,\r\n\tDELETE_COMMENT,\r\n\tPOST_RESET,\r\n\tSEARCH_POSTS,\r\n\tPOST_ERROR,\r\n\tLOADING_SUBMIT_POST,\r\n\tPOST_NEXT_PAGE,\r\n\tCLEAR_POST,\r\n\tGET_POST_ERROR\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tloading: true,\r\n\tpostLoading: true,\r\n\tposts: [],\r\n\tpost: null,\r\n\tedit: false,\r\n\tpostEdit: false,\r\n\ttotalPages: null,\r\n\tpostError: false\r\n};\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase LOADING_SUBMIT_POST:\r\n\t\t\treturn { ...state, loading: true, postLoading: true };\r\n\t\tcase CLEAR_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpost: null,\r\n\t\t\t};\r\n\t\tcase POST_RESET:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tposts: [],\r\n\t\t\t\tpost: null,\r\n\t\t\t\ttotalPages: null,\r\n\t\t\t\tpostError: false\r\n\t\t\t};\r\n\t\tcase TOGGLE_CREATE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: !state.edit,\r\n\t\t\t};\r\n\t\tcase TOGGLE_EDIT_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: !state.postEdit,\r\n\t\t\t};\r\n\t\tcase POST_CREATE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tposts: [payload, ...state.posts],\r\n\t\t\t};\r\n\t\tcase GET_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tpost: payload,\r\n\t\t\t\tpostError: false\r\n\t\t\t};\r\n\t\tcase GET_ALL_POST:\r\n\t\tcase SEARCH_POSTS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tpost: null,\r\n\t\t\t\tposts: payload.posts,\r\n\t\t\t\ttotalPages: Math.ceil(payload.numPosts / payload.limit),\r\n\t\t\t};\r\n\t\tcase POST_NEXT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tposts: [...state.posts, ...payload.posts]\r\n\t\t\t};\r\n\t\tcase UPDATE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tpost: payload,\r\n\t\t\t};\r\n\r\n\t\tcase DELETE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpost: null,\r\n\t\t\t\tpostLoading: true,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ADD_COMMENT:\r\n\t\tcase DELETE_COMMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpost: {\r\n\t\t\t\t\t...state.post,\r\n\t\t\t\t\t...payload,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\tcase POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase GET_POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\ttotalPages: null,\r\n\t\t\t\tpostError: true\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default postReducer;\r\n","import { ON_CHANGE } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\t// This state is for creating/editing announcements,post and comments\r\n\t// For the current editor on page\r\n\t// ONLY one editor per page!\r\n\tcontentState: {},\r\n};\r\n\r\nconst textEditorReducer = (state = initialState, action) => {\r\n\tconst { payload, type } = action;\r\n\tswitch (type) {\r\n\t\tcase ON_CHANGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcontentState: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default textEditorReducer;\r\n","import {\r\n\tTOGGLE_CREATE_ANNOUNCEMENT,\r\n\tCREATE_ANNOUNCEMENT,\r\n\tGET_ALL_ANNOUNCEMENT,\r\n\tDELETE_ANNOUNCEMENT,\r\n\tUPDATE_ANNOUNCEMENT,\r\n\tLOADING_ANNOUNCEMENT_SUBMIT,\r\n\tANNOUNCEMENT_ERROR,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tloading: true,\r\n\tedit: false,\r\n\tannouncements: [],\r\n};\r\n\r\nconst announcementReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase ANNOUNCEMENT_ERROR:\r\n\t\t\treturn { ...state, loading: false };\r\n\t\tcase LOADING_ANNOUNCEMENT_SUBMIT:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase TOGGLE_CREATE_ANNOUNCEMENT:\r\n\t\t\treturn { ...state, edit: !state.edit };\r\n\t\tcase CREATE_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tannouncements: [payload, ...state.announcements],\r\n\t\t\t};\r\n\t\tcase UPDATE_ANNOUNCEMENT:\r\n\t\t\tconst filterAnnouncement = state.announcements.filter(\r\n\t\t\t\t(el) => payload._id !== el._id\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tannouncements: [payload, ...filterAnnouncement], //top of array\r\n\t\t\t};\r\n\t\tcase DELETE_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tannouncements: state.announcements.filter((el) => payload !== el._id),\r\n\t\t\t};\r\n\t\tcase GET_ALL_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tannouncements: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default announcementReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport users from \"./users\";\r\nimport auth from \"./auth\";\r\nimport alerts from \"./alerts\";\r\nimport post from \"./post\";\r\nimport textEditor from \"./textEditor\";\r\nimport announcements from \"./announcements\";\r\n\r\nconst reducers = combineReducers({\r\n\tusers,\r\n\tannouncements,\r\n\tpost,\r\n\tauth,\r\n\talerts,\r\n\ttextEditor,\r\n});\r\n\r\nexport default reducers;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nexport const middleware = [thunk];\r\nexport const composeEnhancers = composeWithDevTools({ trace: true }); //allows tracing\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n\r\n// REDUX\r\n// 1) Set up store store = createStore(rootReducer, initialState, compose(applyMiddleware(...middleware)))\r\n// 2) Add provider and parameter store inside it, inside app.js\r\n// 3) create rootReducer that uses combineReducer\r\n// 4) Create reducer with initial state, action ---- action takes in a type and pay load /// Add switch case statement for each cases that return a payload from actions\r\n// 5) To make sure strings are immutable, store types into a variable in a file under the folder actions/types\r\n// 6) Create action with argument of dispatch and using thunk, add arguments to be used in the payload.\r\n// 7) Go to component that will use the action and add connect()(Component). --- it takes in connect(mapStateToProps?, mapDispatchToProps?, mergeProps?, options?)\r\n// 8) Add proptypes of Component and inside, the actions you imported: 'pt/f/r' and then use actions passing in the arguments required.\r\n// 9) Create a component for the action by adding connect with mapStateToProps, creating the function that passes a state --- this is done through connect and root reducer.\r\n// 10) Now have access to the state and can include conditionals of what to display/input based on state.\r\n// 11) Add component and it should work\r\n","const scrollToTop = () => {\r\n\tdocument.body.scrollTop = 0;\r\n\tdocument.documentElement.scrollTop = 0;\r\n};\r\n\r\nexport default scrollToTop;\r\n","import { SET_ALERT, RESET_ALERT } from \"./types\";\r\nimport scrollToTop from \"../utils/scrollToTop\";\r\n\r\nexport const setAlert = (msg, alertType) => (dispatch) => {\r\n\t// Dispatch alert message\r\n\tdispatch({\r\n\t\ttype: SET_ALERT,\r\n\t\tpayload: { msg, alertType },\r\n\t});\r\n\t// Scroll to top of page\r\n\tscrollToTop();\r\n};\r\n\r\nexport const resetAlert = () => (dispatch) => {\r\n\tdispatch({ type: RESET_ALERT });\r\n};\r\n","import { setAlert } from \"../actions/alerts\";\r\nimport {\r\n\tERROR,\r\n\tPOST_ERROR,\r\n\tANNOUNCEMENT_ERROR,\r\n\tAUTH_ERROR,\r\n\tUPDATE_FAILED,\r\n\tUSER_ERROR,\r\n\tGET_POST_ERROR,\r\n\tLOGOUT\r\n} from \"../actions/types\";\r\nimport { logoutUser } from \"../actions/auth\";\r\n\r\n// So when only one argument is provided, it will be fn\r\nconst catchAsync = (type, fn = type) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait fn(dispatch).catch(async (err) => {\r\n\t\t\t// If server fails logout user\r\n\t\t\tif (err.response.status === 500) return dispatch({ type: LOGOUT })\r\n\t\t\t\r\n\t\t\t// The types handles when loading is still true\r\n\t\t\tif (err.response.data.message) dispatch(setAlert(err.response.data.message, \"fail\"));\r\n\t\t\tif (type === \"post\") dispatch({ type: POST_ERROR });\r\n\t\t\tif (type === \"getpost\") dispatch({ type: GET_POST_ERROR });\r\n\t\t\tif (type === \"auth\") dispatch({ type: AUTH_ERROR });\r\n\t\t\tif (type === \"update\") dispatch({ type: UPDATE_FAILED });\r\n\t\t\tif (type === \"announcement\") dispatch({ type: ANNOUNCEMENT_ERROR });\r\n\t\t\tif (type === \"user\") dispatch({ type: USER_ERROR });\r\n\t\t\t// Log user out if deactivated --- 401 Unauthorized\r\n\t\t\t// Log out user if roles changed --- 403  Forbidden\r\n\t\t\tif (err.response.status === 401 || err.response.status === 403) {\r\n\t\t\t\t// Remove the cookie\r\n\t\t\t\tawait dispatch(logoutUser());\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ERROR,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tmsg: err.response.data.message,\r\n\t\t\t\t\tstatus: err.response.status,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n};\r\n\r\nexport default catchAsync;","import axios from \"axios\";\r\nimport {\r\n\tLOGIN_SUCCESS,\r\n\tCLEAR_LOGIN,\r\n\tLOGOUT,\r\n\tAUTH_ERROR,\r\n\tFORGOT_PASSWORD,\r\n\tLOADING_AUTH,\r\n\tRESET_PASSWORD,\r\n\tCHANGE_PASSWORD,\r\n} from \"../actions/types\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\nimport { resetAlert, setAlert } from \"./alerts\";\r\n\r\nexport const loginUser = ({ formData, history }) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Need to be in every post/put/patch action with alert\r\n\t\t// If request fails there may be an alert for the error\r\n\t\tdispatch(resetAlert());\r\n\t\t// ENSURE auth is empty and change loading state to true\r\n\t\tdispatch({ type: CLEAR_LOGIN });\r\n\t\t// Send login form\r\n\t\tconst res = await axios.post(\"/api/auth/login\", formData);\r\n\t\t// Dispatch login action authenticating user\r\n\t\t// Change login state to false\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\t// Navigate user to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t});\r\n\r\nexport const checkUser = () => async (dispatch) => {\r\n\ttry {\r\n\t\t// Check if user is logged in at the start of the app\r\n\t\tconst res = await axios.get(\"/api/auth/checkUser\");\r\n\t\t// Log user in if user has a JWT cookie from browser client\r\n\t\tconst user = res.data;\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: user,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// If not logged in, dispatch authenticate error action\r\n\t\tdispatch({ type: AUTH_ERROR });\r\n\t}\r\n};\r\n\r\nexport const logoutUser = () =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// ENSURE auth is empty and change loading state to true\r\n\t\tdispatch({ type: CLEAR_LOGIN });\r\n\t\t// Make request to logout user\r\n\t\tawait axios.get(\"/api/auth/logout\");\r\n\t\t// Dispatch logout action and change loading state to false\r\n\t\tdispatch({ type: LOGOUT });\r\n\t});\r\n\r\nexport const forgotPassword = (email, url) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Reset any previous alert that may be set\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tawait axios.post(\"/api/auth/forgotPassword\", { email, url });\r\n\t\t// Change loading state to false due to forgot password\r\n\t\tdispatch({ type: FORGOT_PASSWORD });\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t\"Success! Please check your email to reset your password.\",\r\n\t\t\t\t\"success\"\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\nexport const resetPassword = ({ password, resetToken, history }) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Clear any previous alert that may be set\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tconst res = await axios.patch(`/api/auth/resetPassword/${resetToken}`, {\r\n\t\t\tpassword,\r\n\t\t});\r\n\t\t// Authenticate user details and change loading state to false\r\n\t\tdispatch({ type: RESET_PASSWORD, payload: res.data });\r\n\t\t// Navigate user to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Success! New passsword has been set.\", \"success\"));\r\n\t});\r\n\r\nexport const changePassword = ({\r\n\tformData: { currentPassword, newPassword },\r\n\thistory,\r\n}) =>\r\n\tcatchAsync(\"update\", async (dispatch) => {\r\n\t\t// Clear any previous alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tconst res = await axios.post(`/api/users/updatePassword`, {\r\n\t\t\tcurrentPassword,\r\n\t\t\tnewPassword,\r\n\t\t});\r\n\t\t// Change loading state to false\r\n\t\tdispatch({ type: CHANGE_PASSWORD, payload: res.data });\r\n\t\t// Navigate user back to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Success! Password changed.\", \"success\"));\r\n\t});\r\n","export default __webpack_public_path__ + \"static/media/logo.f70f221d.png\";","import PropTypes from \"prop-types\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logoutUser } from \"../../actions/auth\";\r\nimport logo from \"../../img/logo.png\";\r\n\r\nexport const Navbar = ({ auth: { isAuthenticated }, logoutUser }) => {\r\n\tconst [nav, setNav] = useState(false);\r\n\tconst toggleNav = () => setNav(!nav);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ul className={`Navbar ${!isAuthenticated ? \"Navbar-withLogin\" : \"\"}`}>\r\n\t\t\t\t\t<div className=\"Navbar__left\">\r\n\t\t\t\t\t\t<Link to=\"/\" style={{ textDecoration: \"none\" }}> \r\n\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t<img className=\"Navbar__logo\" src={logo} alt=\"logo\" />\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<div className=\"Navbar__header\">\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item Navbar__header-text\">\r\n\t\t\t\t\t\t\t\tSouthern River Toastmasters\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item Navbar__header-caption\">\r\n\t\t\t\t\t\t\t\tA President Distinguished Club\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tname=\"checkbox\"\r\n\t\t\t\t\t\t\tid=\"hamburger\"\r\n\t\t\t\t\t\t\tchecked={nav}\r\n\t\t\t\t\t\t\tonChange={toggleNav}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{isAuthenticated && (\r\n\t\t\t\t\t\t\t<label htmlFor=\"hamburger\" className=\"Navbar__button\">\r\n\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t<div className=\"Navbar__right\">\r\n\t\t\t\t\t{isAuthenticated ? (\r\n\t\t\t\t\t\t<ul id=\"nav\" className={nav ? \"Navbar__open\" : \"Navbar__closed\"}>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/dashboard\">\r\n\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/discussion\">\r\n\t\t\t\t\t\t\t\t\tDiscussion\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/members\">\r\n\t\t\t\t\t\t\t\t\tMembers\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tto=\"/login\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\ttoggleNav();\r\n\t\t\t\t\t\t\t\t\t\tlogoutUser();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t<Link className=\"Navbar__link\" to=\"/login\">\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</ul>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nNavbar.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tlogoutUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logoutUser })(Navbar);\r\n","import React from \"react\";\r\n\r\nexport const Container = ({ children }) => {\r\n\treturn <div className=\"Container\">{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Alert = ({ msg, alertType, error }) => {\r\n\treturn (\r\n\t\talertType !== null && (\r\n\t\t\t<div className={`Alert Alert__${alertType}`}>\r\n\t\t\t\t<strong>{alertType === \"fail\" ? \"Warning: \" : \"Success: \"}</strong>\r\n\t\t\t\t{Object.keys(error).length === 0 ? msg.map((alert) => (\r\n\t\t\t\t\t<p key={alert}>{alert} </p>\r\n\t\t\t\t)) : <p key={error.status}>{error.msg}</p>}\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nAlert.propTypes = {\r\n\tmsg: PropTypes.array.isRequired,\r\n\talertType: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tmsg: state.alerts.msg,\r\n\talertType: state.alerts.alertType,\r\n\terror: state.alerts.error\r\n});\r\n\r\nexport default connect(mapStateToProps)(Alert);\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { resetAlert } from '../../actions/alerts';\r\nimport Container from '../layout/Container';\r\nimport Alert from '../layout/Alert';\r\n\r\nconst NewRoute = ({ resetAlert, component: Component, ...rest }) => {\r\n\t//\r\n\t//\r\n\t// Added resetAlert here so whenever component is rendered, it removes existing Alerts.\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props => (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t{resetAlert()}\r\n\t\t\t\t\t<Alert />\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t</Container>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nNewRoute.propTypes = {\r\n\tresetAlert: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(\r\n\tnull,\r\n\t{ resetAlert }\r\n)(NewRoute);\r\n","export default \"data:image/gif;base64,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\"","import React, { Fragment } from \"react\";\r\nimport spinner from \"../../img/spinner.gif\";\r\n\r\nconst Spinner = () => (\r\n\t<Fragment>\r\n\t\t<img\r\n\t\t\tsrc={spinner}\r\n\t\t\tstyle={{ width: \"150px\", margin: \"20% auto 0 auto\", display: \"block\" }}\r\n\t\t\talt=\"Loading...\"\r\n\t\t/>\r\n\t</Fragment>\r\n);\r\n\r\nexport default Spinner;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport NewRoute from './NewRoute';\r\nimport Spinner from '../utils/Spinner';\r\nimport Container from '../layout/Container';\r\nimport { logoutUser } from '../../actions/auth';\r\n\r\nconst PrivateRoute = ({\r\n\tauth: { isAuthenticated, currentUser, loading },\r\n\tcomponent: Component,\r\n\tlogoutUser,\r\n\t...rest //refers to exact,path and other props\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\t// if unactive user is logged in\r\n\t\tif (currentUser && !currentUser.active) logoutUser();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn !isAuthenticated && !loading ? (\r\n\t\t<Redirect to=\"/login\" />\r\n\t) : !loading ? (\r\n\t\t<NewRoute {...rest} component={Component} />\r\n\t) : (\r\n\t\t<Container>\r\n\t\t\t<Spinner />\r\n\t\t</Container>\r\n\t);\r\n};\r\n//...rest takes in the rest of the object/ props passed on to component\r\n\r\nPrivateRoute.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tlogoutUser: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ logoutUser }\r\n)(PrivateRoute);\r\n","import { useState } from \"react\";\r\n\r\nconst useForms = (blankForm, action, args) => {\r\n\tconst [formData, setFormData] = useState({ ...blankForm });\r\n\r\n\treturn {\r\n\t\tformData,\r\n\t\thandleChange: (e) => {\r\n\t\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t\t},\r\n\t\thandleSubmit: (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\taction({ formData, ...args });\r\n\t\t\tsetFormData({ ...blankForm });\r\n\t\t},\r\n\t\thandleCancel: () => {\r\n\t\t\tsetFormData({ ...blankForm });\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default useForms;\r\n","import axios from \"axios\";\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  UPDATE_ME,\r\n  LOADING_AUTH,\r\n  GET_ALL_USERS,\r\n  TOGGLE_MODERATOR,\r\n  DEACTIVATE_USER,\r\n  ACTIVATE_USER,\r\n  LOADING_USER,\r\n  MAKE_COMMITTEE,\r\n  REMOVE_COMMITTEE,\r\n} from \"../actions/types\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\nexport const registerUser = ({ formData, url }) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Reset alert if there is register user error alert\r\n    dispatch(resetAlert());\r\n    // Deploy loading screen\r\n    dispatch({ type: LOADING_USER });\r\n    // send form data and current page url to send link with jwt token to user email\r\n    const res = await axios.post(\"/api/users/register\", { ...formData, url });\r\n    // dispatch register action\r\n    dispatch({ type: REGISTER_SUCCESS, payload: res.data });\r\n\r\n    // send alert to user\r\n    dispatch(\r\n      setAlert(\r\n        `${formData.firstName} ${formData.lastName} was successfully registered and temporary password sent to user's email`,\r\n        \"success\"\r\n      )\r\n    );\r\n  });\r\n\r\nexport const updateMe = ({ formData, file, history }) =>\r\n  catchAsync(\"update\", async (dispatch) => {\r\n    // Reset alert if there was error\r\n    dispatch(resetAlert());\r\n    // Deploy loading screen\r\n    dispatch({ type: LOADING_AUTH });\r\n    if (file) {\r\n      // Send request for aws s3 url config\r\n      const uploadConfig = await axios.post(\"/api/upload\", { type: file.type });\r\n      // Upload photo to AWS S3 bucket\r\n      await axios.put(uploadConfig.data.url, file, {\r\n        headers: {\r\n          \"Content-Type\": file.type,\r\n        },\r\n      });\r\n      // Set photo link to update user details\r\n      formData.photo = `https://toastmaster-user-photo.s3-ap-southeast-2.amazonaws.com/${uploadConfig.data.key}`;\r\n    }\r\n    // Send updated user details\r\n    const res = await axios.patch(\"/api/users/updateMe\", formData);\r\n    // Dispatch updated user details\r\n    dispatch({\r\n      type: UPDATE_ME,\r\n      payload: res.data,\r\n    });\r\n    // Navigate user  back to dashboard\r\n    history.push(\"/dashboard\");\r\n    // Send alert to user that details as updated\r\n    dispatch(setAlert(\"User updated\", \"success\"));\r\n  });\r\n\r\nexport const getAllUsers = () =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Send request to get all user sorted by first name\r\n    const res = await axios.get(`/api/users?sort=firstName`);\r\n\r\n    // Dispatch results to redux state\r\n    dispatch({\r\n      type: GET_ALL_USERS,\r\n      payload: res.data,\r\n    });\r\n  });\r\n\r\nexport const toggleView = () => (dispatch) =>\r\n  // Change view state if user is committee or admin\r\n  dispatch({ type: TOGGLE_MODERATOR });\r\n\r\nexport const deActivateUser = (userId) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Remove any previous alert or alert from error\r\n    dispatch(resetAlert());\r\n    // Dispatch loading page\r\n    dispatch({ type: LOADING_USER });\r\n    // Send request to deactivate user\r\n    const res = await axios.patch(`/api/users/deActivateUser/${userId}`);\r\n    // Dispatch deactivate user action\r\n    dispatch({ type: DEACTIVATE_USER, payload: res.data });\r\n    // Dispatch user deactivation to current user\r\n    dispatch(\r\n      setAlert(\r\n        `${res.data.firstName} ${res.data.lastName} has been deactivated!`,\r\n        \"success\"\r\n      )\r\n    );\r\n  });\r\n\r\nexport const activateUser = (userId) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Reset any previous alerts possibly from error alert\r\n    dispatch(resetAlert());\r\n    // Dispatch loading page\r\n    dispatch({ type: LOADING_USER });\r\n    // Make request to reactivate user\r\n    const res = await axios.patch(`/api/users/activateUser/${userId}`);\r\n    // Dispatch new user details to user list\r\n    dispatch({ type: ACTIVATE_USER, payload: res.data });\r\n    // Dispatch success alert to user\r\n    dispatch(\r\n      setAlert(\r\n        `${res.data.firstName} ${res.data.lastName} has been activated!`,\r\n        \"success\"\r\n      )\r\n    );\r\n  });\r\n\r\nexport const changeRole = (userId, isCommittee) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Remove and previous alert possible from errors\r\n    dispatch(resetAlert());\r\n    // Dispatch loading page\r\n    dispatch({ type: LOADING_USER });\r\n    if (isCommittee === \"true\") {\r\n      // Make request to promote non-committee user\r\n      const res = await axios.patch(`/api/users/makeCommittee/${userId}`);\r\n      // Dispatch updated user detail to user list\r\n      dispatch({ type: MAKE_COMMITTEE, payload: res.data });\r\n      // Dispatch alert to user\r\n      dispatch(\r\n        setAlert(\r\n          `${res.data.firstName} ${res.data.lastName} is now a committee member`,\r\n          \"success\"\r\n        )\r\n      );\r\n    } else {\r\n      // Make request to demote a committee member\r\n      const res = await axios.patch(`/api/users/removeCommittee/${userId}`);\r\n      // Dispatch updated user detail to user list\r\n      dispatch({ type: REMOVE_COMMITTEE, payload: res.data });\r\n      // Dispatch alert to user\r\n      dispatch(\r\n        setAlert(\r\n          `${res.data.firstName} ${res.data.lastName} is back to a normal member`,\r\n          \"success\"\r\n        )\r\n      );\r\n    }\r\n  });\r\n","import React from \"react\";\r\nimport { MdEmail } from \"react-icons/md\";\r\nimport { FaUserTimes, FaUserPlus } from \"react-icons/fa\";\r\nimport { faker } from \"@faker-js/faker\";\r\n\r\nexport const Members = ({\r\n  user,\r\n  Moderator,\r\n  active,\r\n  deActivateUser,\r\n  activateUser,\r\n  currentUser,\r\n  changeRole,\r\n}) => {\r\n  return (\r\n    <tr key={user._id} className=\"MemberList__member\">\r\n      <td>\r\n        <img\r\n          className=\"MemberList__member-photo\"\r\n          src={user.photo || faker.image.avatar()}\r\n          alt=\"user avatar\"\r\n        />\r\n      </td>\r\n      <td>\r\n        <span className=\"MemberList__member-name\">{user.firstName}</span>\r\n      </td>\r\n      <td>\r\n        <span className=\"MemberList__member-name\">{user.lastName}</span>\r\n      </td>\r\n      {(Moderator || active) && (\r\n        <td>\r\n          <span\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <a\r\n              href={`mailto:${user.email}`}\r\n              target=\"_top\"\r\n              className=\"MemberList__member-email\"\r\n            >\r\n              <MdEmail />\r\n            </a>\r\n            {user.email}\r\n          </span>\r\n        </td>\r\n      )}\r\n      {Moderator && currentUser.role === \"admin\" && active && (\r\n        <td>\r\n          <select\r\n            defaultValue={user.role === \"committee\" || user.role === \"admin\"}\r\n            onChange={(e) => changeRole(user._id, e.target.value)}\r\n          >\r\n            <option value={true}>Yes</option>\r\n            <option value={false}>No</option>\r\n          </select>\r\n        </td>\r\n      )}\r\n      {Moderator &&\r\n        (active ? (\r\n          <td>\r\n            <button\r\n              className=\"btn btn__delete-xs\"\r\n              onClick={() => deActivateUser(user._id)}\r\n            >\r\n              <FaUserTimes className=\"MemberList__deactivate\" />\r\n            </button>\r\n          </td>\r\n        ) : (\r\n          <td>\r\n            <button className=\"btn btn__activate-xs\">\r\n              <FaUserPlus\r\n                className=\"MemberList__activate\"\r\n                onClick={() => activateUser(user._id)}\r\n              />\r\n            </button>\r\n          </td>\r\n        ))}\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Members;\r\n","import React, { useEffect } from 'react';\r\nimport Members from './Members';\r\n\r\nconst Table = ({\r\n\tusers,\r\n\tModerator,\r\n\tactive,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tcurrentUser,\r\n\tsetActive,\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangeRole\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tif (users.length === 0) {\r\n\t\t\tresetAlert();\r\n\t\t\tsetActive(true);\r\n\t\t\tsetAlert('Currently there are no unactive users', 'fail');\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [users]);\r\n\treturn (\r\n\t\t<table className=\"MemberList__list\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Photo</th>\r\n\t\t\t\t\t<th>First Name</th>\r\n\t\t\t\t\t<th>Last Name</th>\r\n\t\t\t\t\t{(Moderator || active) && <th>Email</th>}\r\n\t\t\t\t\t{Moderator && currentUser.role === 'admin' && active && (\r\n\t\t\t\t\t\t<th>Committee</th>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{Moderator && (active ? <th>Deactivate</th> : <th>Activate</th>)}\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users.map(user => (\r\n\t\t\t\t\t<Members\r\n\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\tModerator={Moderator}\r\n\t\t\t\t\t\tactive={active}\r\n\t\t\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\tchangeRole={changeRole}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default Table;\r\n","import { faker } from \"@faker-js/faker\";\r\nimport React, { useEffect } from \"react\";\r\nimport { MdEmail } from \"react-icons/md\";\r\n\r\nconst SmallList = ({\r\n  users,\r\n  Moderator,\r\n  active,\r\n  deActivateUser,\r\n  activateUser,\r\n  currentUser,\r\n  setActive,\r\n  setAlert,\r\n  resetAlert,\r\n  changeRole,\r\n}) => {\r\n  useEffect(() => {\r\n    if (users.length === 0) {\r\n      resetAlert();\r\n      setActive(true);\r\n      setAlert(\"Currently there are no unactive users\", \"fail\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [users]);\r\n\r\n  return (\r\n    <div className=\"SmallList\">\r\n      {users.map((user) => (\r\n        <div className=\"SmallList__user\" key={user._id}>\r\n          <img\r\n            className=\"SmallList__photo\"\r\n            src={user.photo || faker.image.avatar()}\r\n            alt=\"avatar\"\r\n          />\r\n          <div className=\"SmallList__body\">\r\n            <div className=\"SmallList__details\">\r\n              <span className=\"SmallList__name\">\r\n                {user.firstName}&nbsp;{user.lastName}\r\n              </span>\r\n              {(active || Moderator) && (\r\n                <a\r\n                  className=\"SmallList__email\"\r\n                  href={`mailto:${user.email}`}\r\n                  target=\"_top\"\r\n                >\r\n                  <MdEmail />\r\n                  <span>{user.email}</span>\r\n                </a>\r\n              )}\r\n            </div>\r\n            {Moderator && (\r\n              <div className=\"SmallList__moderator\">\r\n                {Moderator && currentUser.role === \"admin\" && active && (\r\n                  <div className=\"SmallList__committee\">\r\n                    <strong>Committee</strong>\r\n                    <select\r\n                      defaultValue={\r\n                        user.role === \"committee\" || user.role === \"admin\"\r\n                      }\r\n                      onChange={(e) => changeRole(user._id, e.target.value)}\r\n                    >\r\n                      <option value={true}>Yes</option>\r\n                      <option value={false}>No</option>\r\n                    </select>\r\n                  </div>\r\n                )}\r\n                {active ? (\r\n                  <div\r\n                    className=\"SmallList__deactivate\"\r\n                    onClick={() => deActivateUser(user._id)}\r\n                  >\r\n                    Deactivate\r\n                  </div>\r\n                ) : (\r\n                  <div\r\n                    className=\"SmallList__activate\"\r\n                    onClick={() => activateUser(user._id)}\r\n                  >\r\n                    Activate\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SmallList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n\tgetAllUsers,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tchangeRole\r\n} from '../../../actions/users';\r\nimport { setAlert, resetAlert } from '../../../actions/alerts';\r\nimport Spinner from '../../utils/Spinner';\r\nimport Table from './Table';\r\nimport SmallList from './SmallList';\r\n\r\nexport const MemberList = ({\r\n\tgetAllUsers,\r\n\tusers: { users, loading, Moderator },\r\n\tauth: { currentUser },\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangeRole\r\n}) => {\r\n\tconst [active, setActive] = useState(true);\r\n\tuseEffect(() => {\r\n\t\tgetAllUsers(active);\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst activeUsers = users.filter(user => user.active === true);\r\n\tconst unActiveUsers = users.filter(user => user.active === false);\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"MemberList\">\r\n\t\t\t<h1 className=\"MemberList__title\">Member List</h1>\r\n\t\t\t<div className=\"MemberList__top\">\r\n\t\t\t\t<Link className=\"MemberList__register\" to=\"/register\">\r\n\t\t\t\t\t{Moderator && <button className=\"btn\">Register User</button>}\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<div className=\"MemberList__switch\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tname=\"users\"\r\n\t\t\t\t\t\tid=\"active\"\r\n\t\t\t\t\t\tonChange={() => setActive(!active)}\r\n\t\t\t\t\t\tchecked={active}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"active\">Active</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tname=\"users\"\r\n\t\t\t\t\t\tid=\"unactive\"\r\n\t\t\t\t\t\tonChange={() => setActive(!active)}\r\n\t\t\t\t\t\tchecked={!active}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"unactive\">Unactive</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* // window.screen.width doesnt take into account the landscape of phone and thus wont rerender, better to use css */}\r\n\t\t\t<Table\r\n\t\t\t\tModerator={Moderator}\r\n\t\t\t\tusers={active ? activeUsers : unActiveUsers}\r\n\t\t\t\tactive={active}\r\n\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\tsetActive={setActive}\r\n\t\t\t\tsetAlert={setAlert}\r\n\t\t\t\tresetAlert={resetAlert}\r\n\t\t\t\tchangeRole={changeRole}\r\n\t\t\t/>\r\n\t\t\t<SmallList\r\n\t\t\t\tclassName=\"MemberList__smallList\"\r\n\t\t\t\tModerator={Moderator}\r\n\t\t\t\tusers={active ? activeUsers : unActiveUsers}\r\n\t\t\t\tactive={active}\r\n\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\tsetActive={setActive}\r\n\t\t\t\tsetAlert={setAlert}\r\n\t\t\t\tresetAlert={resetAlert}\r\n\t\t\t\tchangeRole={changeRole}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nMemberList.propTypes = {\r\n\tgetAllUsers: PropTypes.func.isRequired,\r\n\tusers: PropTypes.object.isRequired,\r\n\tdeActivateUser: PropTypes.func.isRequired,\r\n\tactivateUser: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tchangeRole: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tusers: state.users,\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tgetAllUsers,\r\n\t\tdeActivateUser,\r\n\t\tactivateUser,\r\n\t\tsetAlert,\r\n\t\tresetAlert,\r\n\t\tchangeRole\r\n\t}\r\n)(MemberList);\r\n","import React, { Component } from 'react';\r\nimport { GoFileMedia } from 'react-icons/go';\r\nimport img from '../../../../img/notfound.png';\r\n\r\nexport default class ImageAdd extends Component {\r\n\t// Start the popover closed\r\n\tstate = {\r\n\t\turl: '',\r\n\t\topen: false\r\n\t};\r\n\r\n\t// When the popover is open and users click anywhere on the page,\r\n\t// the popover should close\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('click', this.closePopover);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('click', this.closePopover);\r\n\t}\r\n\r\n\t// Note: make sure whenever a click happens within the popover it is not closed\r\n\tonPopoverClick = () => {\r\n\t\tthis.preventNextClose = true;\r\n\t};\r\n\r\n\topenPopover = () => {\r\n\t\tif (!this.state.open) {\r\n\t\t\tthis.preventNextClose = true;\r\n\t\t\tthis.setState({\r\n\t\t\t\topen: true\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tclosePopover = () => {\r\n\t\tif (!this.preventNextClose && this.state.open) {\r\n\t\t\tthis.setState({\r\n\t\t\t\topen: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.preventNextClose = false;\r\n\t};\r\n\r\n\taddImage = () => {\r\n\t\tlet image = img;\r\n\t\tconst imageFiles = ['jpeg', 'jpg', 'gif', 'png'];\r\n\r\n\t\tif (imageFiles.some(el => this.state.url.includes(el))) {\r\n\t\t\timage = this.state.url;\r\n\t\t}\r\n\t\tconst { editorState, onChange } = this.props;\r\n\t\tonChange(this.props.modifier(editorState, image));\r\n\t};\r\n\r\n\tchangeUrl = evt => {\r\n\t\tthis.setState({ url: evt.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst popoverClassName = this.state.open\r\n\t\t\t? 'RichEditor__addImage-addImagePopover'\r\n\t\t\t: 'RichEditor__addImage-addImageClosedPopover';\r\n\t\tconst buttonClassName = this.state.open\r\n\t\t\t? 'RichEditor-styleButton RichEditor-activeButton'\r\n\t\t\t: 'RichEditor-styleButton';\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"RichEditor__addImage\">\r\n\t\t\t\t<GoFileMedia\r\n\t\t\t\t\tstyle={{ fontSize: '2rem' }}\r\n\t\t\t\t\tclassName={buttonClassName}\r\n\t\t\t\t\tonMouseUp={this.openPopover}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={popoverClassName} onClick={this.onPopoverClick}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Paste the image url …\"\r\n\t\t\t\t\t\tclassName=\"RichEditor__addImage-addImageInput\"\r\n\t\t\t\t\t\tonChange={this.changeUrl}\r\n\t\t\t\t\t\tvalue={this.state.url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"RichEditor__addImage-addImageConfirmButton\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={this.addImage}>\r\n\t\t\t\t\t\tAdd\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","export default \"data:image/png;base64,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\"","import { CompositeDecorator } from \"draft-js\";\r\n\r\nconst getPluginDecoratorArray = (listOfPlugins) => {\r\n\tlet decorators = [];\r\n\tlet plugin;\r\n\t// check each plugin that will be used in the editor for decorators\r\n\t// (retrieve listOfPlugins however makes sense in your code)\r\n\tfor (plugin of listOfPlugins) {\r\n\t\tif (plugin.decorators !== null && plugin.decorators !== undefined) {\r\n\t\t\t// if the plugin has any decorators, add them to a list of all decorators from all plugins\r\n\t\t\tdecorators = decorators.concat(plugin.decorators);\r\n\t\t}\r\n\t}\r\n\treturn decorators;\r\n};\r\n\r\nconst pluginDecorator = (listOfPlugins) => {\r\n\t// I can't quite remember why I had to wrap things in this exact way, but found that I ran into\r\n\t// errors if I did not both have a MultiDecorator and a CompositeDecorator wrapping\r\n\treturn new CompositeDecorator(getPluginDecoratorArray(listOfPlugins))\r\n\t\r\n};\r\n\r\nexport default pluginDecorator;\r\n","import { ON_CHANGE } from \"./types\";\r\n// This state is for creating/editing announcements,post and comments\r\n// For the current editor on page\r\n// ONLY one editor per page!\r\nexport const onChange = (editorState) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: ON_CHANGE,\r\n\t\tpayload: editorState,\r\n\t});\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { IoMdQuote } from 'react-icons/io';\r\nimport { GoListOrdered, GoListUnordered } from 'react-icons/go';\r\nimport { FaBold, FaItalic, FaUnderline } from 'react-icons/fa';\r\nimport Editor, { composeDecorators } from '@draft-js-plugins/editor';\r\nimport createLinkifyPlugin from '@draft-js-plugins/linkify';\r\nimport createImagePlugin from '@draft-js-plugins/image';\r\nimport createFocusPlugin from '@draft-js-plugins/focus';\r\nimport createBlockDndPlugin from '@draft-js-plugins/drag-n-drop';\r\nimport createResizeablePlugin from '@draft-js-plugins/resizeable';\r\nimport {\r\n\tconvertToRaw,\r\n\tconvertFromRaw,\r\n\tEditorState,\r\n\tRichUtils,\r\n\tgetDefaultKeyBinding,\r\n\tKeyBindingUtil,\r\n\tModifier\r\n} from 'draft-js';\r\nimport ImageAdd from './ImageAdd/ImageAdd';\r\nimport pluginDecorator from './pluginDecorator';\r\nimport { onChange } from '../../../actions/textEditor';\r\n\r\n// This fixes cannot delete child from node error when backspace of links\r\nconst HANDLED = 'handled';\r\nconst { hasCommandModifier } = KeyBindingUtil;\r\nconst linkifyPlugin = createLinkifyPlugin({\r\n\t//This gets rid of blockkey error warnings\r\n\tcomponent: ({ blockKey, ...rest }) => (\r\n\t\t// eslint-disable-next-line no-alert, jsx-a11y/anchor-has-content\r\n\t\t<a {...rest} blockkey={blockKey} target=\"_blank\" />\r\n\t)\r\n});\r\nconst focusPlugin = createFocusPlugin();\r\nconst blockDndPlugin = createBlockDndPlugin();\r\nconst resizeablePlugin = createResizeablePlugin();\r\nconst imageDecorator = composeDecorators(\r\n\tfocusPlugin.decorator,\r\n\tblockDndPlugin.decorator,\r\n\tresizeablePlugin.decorator\r\n);\r\nconst imagePlugin = createImagePlugin({ decorator: imageDecorator });\r\nconst listOfPlugins = [\r\n\tlinkifyPlugin,\r\n\tblockDndPlugin,\r\n\tresizeablePlugin,\r\n\tfocusPlugin,\r\n\timagePlugin\r\n];\r\nconst decorator = pluginDecorator(listOfPlugins);\r\n\r\nclass TextEditor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\teditorState: this.props.contentState\r\n\t\t\t\t? EditorState.createWithContent(\r\n\t\t\t\t\t\tconvertFromRaw(JSON.parse(this.props.contentState)),\r\n\t\t\t\t\t\tdecorator\r\n\t\t\t\t  )\r\n\t\t\t\t: EditorState.createEmpty(),\r\n\t\t\tplainText: ''\r\n\t\t}; //Always makes a new content whenever rendered\r\n\t}\r\n\tcomponentDidCatch() {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\r\n\tfocus = () => this.editor.focus();\r\n\r\n\tonChange = editorState => {\r\n\t\tthis.setState({\r\n\t\t\teditorState,\r\n\t\t\tplainText: this.state.editorState.getCurrentContent().getPlainText()\r\n\t\t});\r\n\t\tthis.props.onChange(\r\n\t\t\tconvertToRaw(editorState.getCurrentContent()) // Sends the content to redux state\r\n\t\t);\r\n\t};\r\n\r\n\thandleBeforeInput = (chars, editorState) => {\r\n\t\tconst currentContentState = editorState.getCurrentContent();\r\n\t\tconst selectionState = editorState.getSelection();\r\n\r\n\t\tthis.onChange(\r\n\t\t\tEditorState.push(\r\n\t\t\t\teditorState,\r\n\t\t\t\tModifier.replaceText(currentContentState, selectionState, chars)\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\treturn HANDLED;\r\n\t};\r\n\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\tmapKeyToEditorCommand = e => {\r\n\t\tif (e.keyCode === 83 /* `S` key */ && hasCommandModifier(e)) {\r\n\t\t\treturn 'myeditor-save';\r\n\t\t}\r\n\t\treturn getDefaultKeyBinding(e);\r\n\t};\r\n\ttoggleBlockType = blockType => {\r\n\t\tthis.onChange(RichUtils.toggleBlockType(this.state.editorState, blockType));\r\n\t};\r\n\ttoggleInlineStyle = inlineStyle => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleInlineStyle(this.state.editorState, inlineStyle)\r\n\t\t);\r\n\t};\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst text = this.state.plainText;\r\n\t\tif (text.length === 0) return;\r\n\t\t// prevent closure memory leak\r\n\t\tthis.props.handleSubmit(text);\r\n\t\tthis.setState({ editorState: EditorState.createEmpty() }); // Whenever submit is pressed, the current state of editor will reset\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { editorState } = this.state;\r\n\t\t// If the user changes block type before entering any text, we can\r\n\t\t// either style the placeholder or hide it. Let's just hide it now.\r\n\t\tlet className = 'RichEditor-editor';\r\n\t\tvar contentState = editorState.getCurrentContent();\r\n\t\tif (!contentState.hasText()) {\r\n\t\t\tif (\r\n\t\t\t\tcontentState\r\n\t\t\t\t\t.getBlockMap()\r\n\t\t\t\t\t.first()\r\n\t\t\t\t\t.getType() !== 'unstyled'\r\n\t\t\t) {\r\n\t\t\t\tclassName += ' RichEditor-hidePlaceholder';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"RichEditor-root\">\r\n\t\t\t\t\t<div className=\"RichEditor-root__controls\">\r\n\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={className} onClick={this.focus}>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tblockStyleFn={getBlockStyle}\r\n\t\t\t\t\t\t\t// handleBeforeInput={this.handleBeforeInput}\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\tkeyBindingFn={this.mapKeyToEditorCommand}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Write something...\"\r\n\t\t\t\t\t\t\tref={element => {\r\n\t\t\t\t\t\t\t\tthis.editor = element;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tspellCheck={true}\r\n\t\t\t\t\t\t\tplugins={listOfPlugins}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"btn btn__submit\" onClick={this.handleSubmit}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tnull,\r\n\t{ onChange }\r\n)(TextEditor);\r\n// Custom overrides for \"code\" style.\r\n\r\nfunction getBlockStyle(block) {\r\n\tswitch (block.getType()) {\r\n\t\tcase 'blockquote':\r\n\t\t\treturn 'RichEditor-blockquote';\r\n\t\tdefault:\r\n\t\t\treturn null;\r\n\t}\r\n}\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = e => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\trender() {\r\n\t\tlet className = 'RichEditor-styleButton';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' RichEditor-activeButton';\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<span className={className} onMouseDown={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{ label: 'H1', style: 'header-one' },\r\n\t{ label: 'H2', style: 'header-two' },\r\n\t{ label: 'H3', style: 'header-three' },\r\n\t{ label: <IoMdQuote />, style: 'blockquote' },\r\n\t{ label: <GoListUnordered />, style: 'unordered-list-item' },\r\n\t{\r\n\t\tlabel: <GoListOrdered />,\r\n\t\tstyle: 'ordered-list-item'\r\n\t}\r\n];\r\nconst BlockStyleControls = props => {\r\n\tconst { editorState, onChange } = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t\t.getCurrentContent()\r\n\t\t.getBlockForKey(selection.getStartKey())\r\n\t\t.getType();\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type, i) => (\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={`${type.label}-${i}`}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t\t<ImageAdd\r\n\t\t\t\teditorState={editorState}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\tmodifier={createImagePlugin().addImage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\nvar INLINE_STYLES = [\r\n\t{ label: <FaBold />, style: 'BOLD' },\r\n\t{ label: <FaItalic />, style: 'ITALIC' },\r\n\t{ label: <FaUnderline />, style: 'UNDERLINE' }\r\n];\r\nconst InlineStyleControls = props => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type, i) => (\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={`${type.label}-${i}`}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { EditorState, convertFromRaw } from 'draft-js';\r\nimport Editor, { composeDecorators } from '@draft-js-plugins/editor';\r\nimport createLinkifyPlugin from '@draft-js-plugins/linkify';\r\nimport createImagePlugin from '@draft-js-plugins/image';\r\nimport createFocusPlugin from '@draft-js-plugins/focus';\r\nimport createBlockDndPlugin from '@draft-js-plugins/drag-n-drop';\r\nimport createResizeablePlugin from '@draft-js-plugins/resizeable';\r\nimport pluginDecorator from './pluginDecorator';\r\n\r\nlet editor;\r\nconst linkifyPlugin = createLinkifyPlugin({\r\n\t//This gets rid of blockkey error warnings\r\n\tcomponent: ({ blockKey, ...rest }) => (\r\n\t\t// eslint-disable-next-line no-alert, jsx-a11y/anchor-has-content\r\n\t\t<a {...rest} blockkey={blockKey} target=\"_blank\" />\r\n\t)\r\n});\r\nconst focusPlugin = createFocusPlugin();\r\nconst blockDndPlugin = createBlockDndPlugin();\r\nconst resizeablePlugin = createResizeablePlugin();\r\nconst imageDecorator = composeDecorators(\r\n\tfocusPlugin.decorator,\r\n\tblockDndPlugin.decorator,\r\n\tresizeablePlugin.decorator\r\n);\r\nconst imagePlugin = createImagePlugin({ decorator: imageDecorator });\r\nconst listOfPlugins = [\r\n\tlinkifyPlugin,\r\n\tblockDndPlugin,\r\n\tresizeablePlugin,\r\n\tfocusPlugin,\r\n\timagePlugin\r\n];\r\nconst decorator = pluginDecorator(listOfPlugins);\r\n\r\nexport default class ReadOnly extends React.Component {\r\n\trender() {\r\n\t\tconst { contentState } = this.props;\r\n\t\tlet convertedState;\r\n\t\tif (contentState !== null) {\r\n\t\t\tconvertedState = EditorState.createWithContent(\r\n\t\t\t\tconvertFromRaw(JSON.parse(contentState)),\r\n\t\t\t\tdecorator\r\n\t\t\t\t// THIS CAN PARSE JSON OBJECT and display\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconvertedState = EditorState.createEmpty();\r\n\t\t}\r\n\r\n\t\tconst focus = () => {\r\n\t\t\teditor.focus();\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className=\"RichEditor-ReadOnly\" onClick={focus}>\r\n\t\t\t\t<Editor\r\n\t\t\t\t\tonChange={() => {}}\r\n\t\t\t\t\tplugins={listOfPlugins}\r\n\t\t\t\t\teditorState={convertedState}\r\n\t\t\t\t\tref={element => {\r\n\t\t\t\t\t\teditor = element;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\treadOnly={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { resetPassword } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\nimport { setAlert, resetAlert } from \"../../actions/alerts\";\r\n\r\nexport let inputs;\r\n\r\nexport const ResetPassword = ({\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tresetPassword,\r\n\tmatch: {\r\n\t\tparams: { resetToken },\r\n\t},\r\n\thistory,\r\n\tauth: { loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\tpassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t};\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tresetPassword,\r\n\t\t{ resetToken, history }\r\n\t);\r\n\r\n\tconst passwordNotMatch = (e) => {\r\n\t\tresetAlert();\r\n\t\te.preventDefault();\r\n\t\tsetAlert(\"Passwords does not match\", \"fail\");\r\n\t};\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Password\",\r\n\t\t\tplaceholder: \"Enter a new Password\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Confirm password\",\r\n\t\t\tplaceholder: \"Confirm password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t];\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Reset your password</h1>\r\n\t\t\t<p className=\"Form__text\">Please enter a new password below.</p>\r\n\t\t\t<hr />\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"Form__form\"\r\n\t\t\t\tonSubmit={\r\n\t\t\t\t\tformData[names[0]] !== formData[names[1]]\r\n\t\t\t\t\t\t? passwordNotMatch\r\n\t\t\t\t\t\t: handleSubmit\r\n\t\t\t\t}>\r\n\t\t\t\t{inputs.map((input) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<label key={input.label}>\r\n\t\t\t\t\t\t\t<b>{input.label}</b>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder={input.placeholder}\r\n\t\t\t\t\t\t\t\tvalue={input.value}\r\n\t\t\t\t\t\t\t\tname={input.name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t<div className=\"Form__btns\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"btn btn__submit\"\r\n\t\t\t\t\t\tvalue=\"Reset Password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nResetPassword.propTypes = {\r\n\tresetPassword: PropTypes.func.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tresetPassword,\r\n\tsetAlert,\r\n\tresetAlert,\r\n})(ResetPassword);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { changePassword } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\nimport { setAlert, resetAlert } from \"../../actions/alerts\";\r\n\r\nexport let inputs;\r\n\r\nexport const ChangePassword = ({\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangePassword,\r\n\thistory,\r\n\tauth: { loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\tcurrentPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t};\r\n\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tchangePassword,\r\n\t\t{ history }\r\n\t);\r\n\tconst passwordNotMatch = (e) => {\r\n\t\tresetAlert();\r\n\t\te.preventDefault();\r\n\t\tsetAlert(\"Passwords does not match\", \"fail\");\r\n\t};\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Current Password\",\r\n\t\t\tplaceholder: \"Enter your current Password\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"New Password\",\r\n\t\t\tplaceholder: \"Enter your new Password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Confirm Password\",\r\n\t\t\tplaceholder: \"Confirm password\",\r\n\t\t\tname: names[2],\r\n\t\t\tvalue: formData[names[2]],\r\n\t\t},\r\n\t];\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"Form__goBack btn__cancel\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/dashboard\");\r\n\t\t\t\t}}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t<h1>Change Your Password</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tChanging your password will log you out from other devices.\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"Form__form\"\r\n\t\t\t\tonSubmit={\r\n\t\t\t\t\tformData[names[1]] !== formData[names[2]]\r\n\t\t\t\t\t\t? passwordNotMatch\r\n\t\t\t\t\t\t: handleSubmit\r\n\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t{inputs.map((input) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<label key={input.label}>\r\n\t\t\t\t\t\t\t<b>{input.label}</b>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder={input.placeholder}\r\n\t\t\t\t\t\t\t\tvalue={input.value}\r\n\t\t\t\t\t\t\t\tname={input.name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Submit\" />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nChangePassword.propTypes = {\r\n\tchangePassword: PropTypes.func.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tchangePassword,\r\n\tsetAlert,\r\n\tresetAlert,\r\n})(ChangePassword);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport TextEditor from \"./draft-js/TextEditor\";\r\nimport { onChange } from \"../../actions/textEditor\";\r\nimport { ContentState, convertToRaw } from \"draft-js\";\r\n\r\n// Test all component props that utilise ContentEditor\r\n\r\nexport const ContentEditor = ({\r\n\thandleSubmit,\r\n\thandleToggle,\r\n\ttitle,\r\n\tsetTitle,\r\n\ttype,\r\n\tcontentState,\r\n\tplainText,\r\n\tonChange,\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\t// This is to prevent a blank post when submitting with no changes during edit\r\n\t\tif (plainText) {\r\n\t\t\tconst textToContentState = convertToRaw(\r\n\t\t\t\tContentState.createFromText(plainText)\r\n\t\t\t);\r\n\t\t\tonChange(textToContentState);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\t// need to handlereadme\r\n\t// Handled editting by plainText\r\n\t// Handle submit contentState to be just a string instead\r\n\t// If editing from mobile, need to use plain text only\r\n\r\n\t// content is the input text value that is initialised as the post's plaintext\r\n\tconst [content, setContent] = useState(plainText ? plainText : \"\");\r\n\tconst handleChange = (e) => {\r\n\t\tsetContent(e.target.value);\r\n\t\tconst textToContentState = convertToRaw(\r\n\t\t\tContentState.createFromText(e.target.value)\r\n\t\t);\r\n\t\tonChange(textToContentState);\r\n\t};\r\n\r\n\t// Added Draftjs to convert plainText to contentState\r\n\tconst submitPost = () => {\r\n\t\tif (content.length === 0) return;\r\n\t\thandleSubmit(content);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"CreatePost\">\r\n\t\t\t<button className=\"btn__cancel\" onClick={handleToggle}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t{type !== \"edit\" && (\r\n\t\t\t\t<h1 className=\"CreatePost__title\">Submit a new {type}</h1>\r\n\t\t\t)}\r\n\t\t\t<div className=\"CreatePost__form\">\r\n\t\t\t\t<label htmlFor=\"title\" className=\"CreatePost__label\">\r\n\t\t\t\t\tTitle:\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\tplaceholder=\"Insert Title\"\r\n\t\t\t\t\tvalue={title}\r\n\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\r\n\t\t\t\t\tmaxLength={80} // so it doesnt pollute the post too much\r\n\t\t\t\t\trequired\r\n\t\t\t\t/> \r\n\t\t\t\t\t<div className=\"CreatePost__editor\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"editor\"\r\n\t\t\t\t\t\t\tid=\"editor\"\r\n\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\trequired></textarea>\r\n\t\t\t\t\t\t<button className=\"btn btn__submit\" onClick={submitPost}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"CreatePost__textEditor\">\r\n\t\t\t\t\t\t<TextEditor\r\n\t\t\t\t\t\tcontentState={contentState} // context\r\n\t\t\t\t\t\thandleSubmit={handleSubmit} // submit function\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nContentEditor.propTypes = {\r\n\tonChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, { onChange })(ContentEditor);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport { FaPlusCircle } from \"react-icons/fa\";\r\nimport {\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n} from \"../../../actions/announcements\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nexport const Announcements = ({\r\n\tusers: { Moderator },\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n\tannouncements: { edit, announcements },\r\n\ttextEditor: { contentState },\r\n\talerts,\r\n}) => {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [id, setId] = useState(null);\r\n\tconst [type, setType] = useState(\"announcement\");\r\n\tconst [contentEdit, setContentEdit] = useState(null);\r\n\tconst [plainTextEdit, setPlainTextEdit] = useState(null);\r\n\tuseEffect(() => {\r\n\t\t// Refresh editor\r\n\t\tif (edit && alerts.msg.length === 0) toggleEdit();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\t// Announcement handlers\r\n\tconst handleToggle = () => {\r\n\t\t// When new post or canceled is pressed\r\n\t\tsetType(\"announcement\");\r\n\t\ttoggleEdit();\r\n\t\tsetTitle(\"\");\r\n\t};\r\n\r\n\tconst handleSubmit = (plainText) => {\r\n\t\t// dont need plainText\r\n\t\t// title from state, contentState from redux TextEditor\r\n\t\tcreateAnnouncement({ title, contentState, plainText });\r\n\t\tsetTitle(\"\");\r\n\t};\r\n\r\n\tconst handleEdit = (\r\n\t\tpostId,\r\n\t\tcurrentTitle,\r\n\t\tpostContentState,\r\n\t\tpostPlainText\r\n\t) => {\r\n\t\tsetType(\"edit\");\r\n\t\tsetTitle(currentTitle);\r\n\t\tsetId(postId);\r\n\t\tsetContentEdit(postContentState);\r\n\t\tsetPlainTextEdit(postPlainText);\r\n\t\ttoggleEdit();\r\n\t};\r\n\r\n\tconst handleUpdate = (plainText) => {\r\n\t\t// dont need plainText\r\n\t\t// title from state, contentState from textEditor\r\n\t\tupdateAnnouncement({\r\n\t\t\tid,\r\n\t\t\tnewTitle: title,\r\n\t\t\tnewContentState: contentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\t};\r\n\r\n\treturn edit ? (\r\n\t\t<div className=\"Dashboard__editor\">\r\n\t\t\t<ContentEditor\r\n\t\t\t\thandleToggle={handleToggle}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\thandleSubmit={type === \"edit\" ? handleUpdate : handleSubmit}\r\n\t\t\t\tcontentState={type === \"edit\" && contentEdit}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tplainText={type === \"edit\" && plainTextEdit}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"Dashboard__left\">\r\n\t\t\t<div className=\"Dashboard__top\">\r\n\t\t\t\t<h1 className=\"Dashboard__title\">Announcements</h1>\r\n\t\t\t\t\t{Moderator && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t<button className=\"btn__announcement\" onClick={toggleEdit}>\r\n\t\t\t\t\t\t\tPost new announcement\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<FaPlusCircle className=\"btn__announcement-small\" onClick={toggleEdit}/>\r\n\t\t\t</>\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Dashboard__announcements\">\r\n\t\t\t\t{announcements.map((el) => (\r\n\t\t\t\t\t<div key={el._id} className=\"Dashboard__announcement\">\r\n\t\t\t\t\t\t<h1 className=\"Dashboard__announcement-title\">{el.title}</h1>\r\n\t\t\t\t\t\t<ReadOnly contentState={el.contentState} />\r\n\t\t\t\t\t\t<div className=\"Dashboard__announcement-bottom\">\r\n\t\t\t\t\t\t\t{el.lastEdited > el.date ? (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\tEdited: &nbsp;\r\n\t\t\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t\t\t{el.lastEdited}\r\n\t\t\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t\t{el.date}\r\n\t\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{Moderator && (\r\n\t\t\t\t\t\t\t<div className=\"Dashboard__announcement-buttons\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__edit-xs\"\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\thandleEdit(el._id, el.title, el.contentState, el.plainText)\r\n\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__delete-xs\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => deleteAnnouncement(el._id)}>\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nAnnouncements.propTypes = {\r\n\tusers: PropTypes.object.isRequired,\r\n\ttoggleEdit: PropTypes.func.isRequired,\r\n\tcreateAnnouncement: PropTypes.func.isRequired,\r\n\tupdateAnnouncement: PropTypes.func.isRequired,\r\n\tdeleteAnnouncement: PropTypes.func.isRequired,\r\n\tannouncements: PropTypes.object.isRequired,\r\n\ttextEditor: PropTypes.object.isRequired,\r\n\talerts: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: state.users,\r\n\tannouncements: state.announcements,\r\n\ttextEditor: state.textEditor,\r\n\talerts: state.alerts,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n})(Announcements);\r\n","import axios from \"axios\";\r\nimport {\r\n\tTOGGLE_CREATE_ANNOUNCEMENT,\r\n\tCREATE_ANNOUNCEMENT,\r\n\tGET_ALL_ANNOUNCEMENT,\r\n\tDELETE_ANNOUNCEMENT,\r\n\tUPDATE_ANNOUNCEMENT,\r\n\tLOADING_ANNOUNCEMENT_SUBMIT,\r\n} from \"./types\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\n// TOGGLE BETWEEN Text editor or dashboard\r\nexport const toggleEdit = () => (dispatch) => {\r\n\t// Resets alert if already exist from dashboard\r\n\tdispatch(resetAlert());\r\n\tdispatch({ type: TOGGLE_CREATE_ANNOUNCEMENT });\r\n};\r\n\r\nexport const createAnnouncement = ({ title, contentState, plainText }) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Convert contentState object to JSON to send down to server\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\t// Call loading state to add spinner for UX\r\n\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\r\n\t\t// Send title, contentstate and plainText version of contentstate to server\r\n\t\tconst res = await axios.post(\"/api/announcements\", {\r\n\t\t\ttitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\r\n\t\t// Dispatch create announcement action and update announcement state\r\n\t\tdispatch({\r\n\t\t\ttype: CREATE_ANNOUNCEMENT,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(setAlert(\"New announcement posted!\", \"success\"));\r\n\t});\r\n\r\n// Send to test\r\nexport const limit = 10;\r\n\r\nexport const getAnnouncements = () =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t// Only show the 10 recently updated announcements! (eg. by date)\r\n\t\t// @todo show all with pagination\r\n\t\t//limit to 10 docs\r\n\t\tconst res = await axios.get(\r\n\t\t\t`/api/announcements?sort=-lastEdited&limit=${limit}`\r\n\t\t);\r\n\t\tdispatch({ type: GET_ALL_ANNOUNCEMENT, payload: res.data });\r\n\t});\r\n\r\nexport const updateAnnouncement = ({\r\n\tid,\r\n\tnewTitle,\r\n\tnewContentState,\r\n\tplainText,\r\n}) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Call loading state to add spinner for UX\r\n\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\t\t// Convert contentState object to JSON to send down to server\r\n\t\tconst jsonContentState = JSON.stringify(newContentState);\r\n\t\t// Using announcement id, patch announcement including title, contentstate and plainText\r\n\t\tconst res = await axios.patch(`/api/announcements/${id}`, {\r\n\t\t\ttitle: newTitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\t\t// Dispatch create announcement action and update announcement state\r\n\t\tdispatch({ type: UPDATE_ANNOUNCEMENT, payload: res.data });\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(setAlert(\"Announcement updated\", \"success\"));\r\n\t});\r\n\r\nexport const deleteAnnouncement = (id) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t// Create a user prompt before deleting as protection\r\n\t\tif (window.confirm(\"Are you sure you want to delete the announcement?\")) {\r\n\t\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\t\tdispatch(resetAlert());\r\n\t\t\t// Call loading state to add spinner for UX\r\n\t\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\t\t\t// Delete announcement given announcement id\r\n\t\t\tawait axios.delete(`/api/announcements/${id}`);\r\n\t\t\t// Update announcement state\r\n\t\t\tdispatch({ type: DELETE_ANNOUNCEMENT, payload: id });\r\n\t\t\t// Dispatch alert to user\r\n\t\t\tdispatch(setAlert(\"Announcement removed\", \"success\"));\r\n\t\t} else return;\r\n\t});\r\n","import React from \"react\";\r\nimport { FaKey, FaUserAlt } from \"react-icons/fa\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const User = ({ currentUser, isModified }) => {\r\n  return (\r\n    <div className=\"Dashboard__right\">\r\n      <img\r\n        className=\"Dashboard__user-photo\"\r\n        src={currentUser?.photo}\r\n        alt=\"user avatar\"\r\n      />\r\n\r\n      <div className=\"Dashboard__user-details\">\r\n        <p className=\"Dashboard__user-name\">\r\n          Hi <strong>{currentUser.firstName}</strong>\r\n        </p>\r\n        <div className=\"Dashboard__links\">\r\n          <Link to=\"/user/update\" className=\"Dashboard__links-link\">\r\n            <FaUserAlt /> <span>Update Profile</span>\r\n          </Link>\r\n          <Link to=\"/user/changepassword\" className=\"Dashboard__links-link\">\r\n            <FaKey /> <span>Change Password</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport Announcements from './Announcements';\r\nimport User from './User';\r\nimport Spinner from '../../utils/Spinner';\r\nimport { getAnnouncements } from '../../../actions/announcements';\r\n\r\nexport const Dashboard = ({\r\n\tauth: { currentUser, isModified },\r\n\tannouncements: { loading, edit },\r\n\tgetAnnouncements\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tgetAnnouncements();\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Dashboard\">\r\n\t\t\t<Announcements />\r\n\t\t\t{!edit && <User currentUser={currentUser} isModified={isModified} />}\r\n\t\t</div>\r\n\t);\r\n};\r\nDashboard.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tgetAnnouncements: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n\tannouncements: state.announcements\r\n});\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getAnnouncements }\r\n)(Dashboard);\r\n","import React, { Fragment } from \"react\";\r\nimport spinner from \"../../img/spinner.gif\";\r\n\r\nconst SpinnerSmall = () => (\r\n\t<Fragment>\r\n\t\t<img\r\n\t\t\tsrc={spinner}\r\n\t\t\tstyle={{ width: \"75px\", margin: \"0 auto 0 auto\", display: \"block\" }}\r\n\t\t\talt=\"Loading...\"\r\n\t\t/>\r\n\t</Fragment>\r\n);\r\n\r\nexport default SpinnerSmall;\r\n","import React, { useState } from \"react\";\r\nimport { FaSearch, FaPlusCircle } from \"react-icons/fa\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\n\r\nexport const DiscussionHead = ({\r\n\tcreatePost,\r\n\tcontentState,\r\n\tedit,\r\n\ttoggleCreatePost,\r\n\thistory,\r\n\tsearchPost,\r\n\tsetPage,\r\n\tsetIsSearch,\r\n\tloading,\r\n\tgetAllPost,\r\n}) => {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [search, setSearch] = useState(\"\");\r\n\r\n\tconst handleToggle = () => {\r\n\t\tsetTitle(\"\"); //when create post is canceled\r\n\t\ttoggleCreatePost();\r\n\t};\r\n\r\n\tconst handleSubmit = (plainText) => {\r\n\t\tcreatePost({ title, contentState, history, plainText });\r\n\t};\r\n\r\n\tconst handleSearch = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// Configures next page api request\r\n\t\tsetIsSearch(search);\r\n\t\t// Search post\r\n\t\tsearchPost(search);\r\n\t\t// Reset page number\r\n\t\tsetPage(1);\r\n\t};\r\n\r\n\tconst handleReset = (e) => {\r\n\t\t// Clear search bar\r\n\t\tsetSearch(\"\");\r\n\t\t// Configures next page api request back to normal\r\n\t\tsetIsSearch(false);\r\n\t\t// Get all post again\r\n\t\tgetAllPost();\r\n\t\t// Reset page number\r\n\t\tsetPage(1);\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"Discussion__head\">\r\n\t\t\t{!edit ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn btn__submit Discussion__create\"\r\n\t\t\t\t\t\tonClick={toggleCreatePost}>\r\n\t\t\t\t\t\tCreate post\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<FaPlusCircle className=\"Discussion__create-small\" onClick={toggleCreatePost}/>\r\n\t\t\t\t\t<div className=\"Discussion__search\">\r\n\t\t\t\t\t\t<form onSubmit={handleSearch}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search all posts\"\r\n\t\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button className=\"Discussion__search-searchIcon\">\r\n\t\t\t\t\t\t\t\t<FaSearch />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"Discussion__search-reset btn\"\r\n\t\t\t\t\t\t\tonClick={handleReset}>\r\n\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t!loading && (\r\n\t\t\t\t\t<div className=\"Discussion__editor\">\r\n\t\t\t\t\t\t<ContentEditor\r\n\t\t\t\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\t\t\t\thandleToggle={handleToggle}\r\n\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\t\t\t\ttype={\"post\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DiscussionHead;\r\n","import { faker } from \"@faker-js/faker\";\r\nimport \"moment-timezone\";\r\nimport React, { useMemo } from \"react\";\r\nimport { IoIosChatboxes } from \"react-icons/io\";\r\nimport Moment from \"react-moment\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const DiscussionPost = ({\r\n  user,\r\n  count,\r\n  id,\r\n  title,\r\n  date,\r\n  text,\r\n  firstName,\r\n  lastName,\r\n  currentUser,\r\n}) => {\r\n  const fakePhoto = useMemo(() => faker.image.avatar(), []);\r\n  let photo = user.photo || fakePhoto;\r\n  if (user._id === currentUser._id) {\r\n    photo = currentUser.photo;\r\n  }\r\n  return (\r\n    <Link to={`/discussion/post/${id}`} className=\"Discussion__post\">\r\n      <div className=\"Discussion__postUser\">\r\n        <img\r\n          src={photo || fakePhoto}\r\n          alt=\"user-logo\"\r\n          className=\"Discussion__postUser-img\"\r\n        />\r\n        <span className=\"Discussion__postUser-name\">\r\n          <span>{firstName}&nbsp;</span>\r\n          {(firstName.length <= 10 || lastName.length <= 10) && (\r\n            <span>{lastName}</span>\r\n          )}\r\n        </span>\r\n      </div>\r\n      <div className=\"Discussion__postBody\">\r\n        <div className=\"Discussion__postBody-header\">\r\n          <h3 className=\"Discussion__postBody-title\"> {title}</h3>\r\n          <span className=\"Discussion__postBody-chat\">\r\n            {count > 0 && (\r\n              <>\r\n                {count} <IoIosChatboxes />\r\n              </>\r\n            )}\r\n          </span>\r\n        </div>\r\n        <p className=\"Discussion__postBody-text\">{text}</p>\r\n        <span className=\"Discussion__postBody-date\">\r\n          <Moment tz=\"Australia/Perth\" format=\"DD MMM YYYY\">\r\n            {date}\r\n          </Moment>\r\n        </span>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default DiscussionPost;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  createPost,\r\n  getAllPost,\r\n  postNextPage,\r\n  searchPost,\r\n  toggleCreatePost,\r\n} from \"../../../actions/post\";\r\nimport SpinnerSmall from \"../../../components/utils/SpinnerSmall\";\r\nimport DiscussionHead from \"./DiscussionHead\";\r\nimport DiscussionPost from \"./DiscussionPost\";\r\n\r\nexport const Discussion = ({\r\n  post: { posts, edit, totalPages, loading },\r\n  getAllPost,\r\n  contentState,\r\n  createPost,\r\n  toggleCreatePost,\r\n  history,\r\n  searchPost,\r\n  postNextPage,\r\n  currentUser,\r\n}) => {\r\n  useEffect(() => {\r\n    if (edit) {\r\n      toggleCreatePost();\r\n    }\r\n    getAllPost();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [isSearch, setIsSearch] = useState(false); // boolean or string\r\n\r\n  const renderPosts = posts.map((post) => (\r\n    <DiscussionPost\r\n      key={post._id}\r\n      title={post.title}\r\n      id={post._id}\r\n      user={post.user}\r\n      date={post.date}\r\n      count={post.comments.length}\r\n      text={post.plainText}\r\n      firstName={post.user.firstName}\r\n      lastName={post.user.lastName}\r\n      currentUser={currentUser}\r\n    />\r\n  ));\r\n  return (\r\n    <div className=\"Discussion\">\r\n      <DiscussionHead\r\n        edit={edit}\r\n        contentState={contentState}\r\n        createPost={createPost}\r\n        toggleCreatePost={toggleCreatePost}\r\n        history={history}\r\n        searchPost={searchPost}\r\n        setPage={setPage}\r\n        loading={loading}\r\n        setIsSearch={setIsSearch}\r\n        getAllPost={getAllPost}\r\n      />\r\n      {!edit && (\r\n        <>\r\n          <InfiniteScroll\r\n            pageStart={page}\r\n            loadMore={() => {\r\n              if (page < totalPages) postNextPage(page, setPage, isSearch);\r\n            }}\r\n            hasMore={page < totalPages}\r\n            threshold={50}\r\n            loader={<SpinnerSmall key=\"loader\" />}\r\n          >\r\n            {renderPosts}\r\n          </InfiniteScroll>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nDiscussion.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n  contentState: PropTypes.object,\r\n  getAllPost: PropTypes.func.isRequired,\r\n  createPost: PropTypes.func.isRequired,\r\n  toggleCreatePost: PropTypes.func.isRequired,\r\n  searchPost: PropTypes.func.isRequired,\r\n  postNextPage: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  post: state.post,\r\n  contentState: state.textEditor.contentState,\r\n  currentUser: state.auth.currentUser,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllPost,\r\n  createPost,\r\n  toggleCreatePost,\r\n  searchPost,\r\n  postNextPage,\r\n})(Discussion);\r\n","import {\r\n\tPOST_CREATE,\r\n\tGET_POST,\r\n\tGET_ALL_POST,\r\n\tUPDATE_POST,\r\n\tDELETE_POST,\r\n\tTOGGLE_CREATE_POST,\r\n\tTOGGLE_EDIT_POST,\r\n\tADD_COMMENT,\r\n\tDELETE_COMMENT,\r\n\tPOST_RESET,\r\n\tLOADING_SUBMIT_POST,\r\n\tSEARCH_POSTS,\r\n\tPOST_NEXT_PAGE,\r\n\tCLEAR_POST,\r\n\tGET_POST_ERROR,\r\n} from \"./types\";\r\nimport axios from \"axios\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\n// Pagination limit for get all post and post next page\r\n// IDEALLY EVEN NUMBER!\r\nexport const postLimitPerPage = 6;\r\nexport const commentsLimitPerPage = 6;\r\n\r\nexport const toggleCreatePost = () => (dispatch) => {\r\n\t// Clear any previous alert\r\n\tdispatch(resetAlert());\r\n\t// Change create post state\r\n\tdispatch({ type: TOGGLE_CREATE_POST });\r\n};\r\nexport const toggleEditPost = () => (dispatch) => {\r\n\t// Clear any previous alert\r\n\tdispatch(resetAlert());\r\n\t// Change edit post state\r\n\tdispatch({ type: TOGGLE_EDIT_POST });\r\n};\r\n\r\nexport const createPost = ({ title, contentState, history, plainText }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Need to be in every post/put/patch action with alert\r\n\t\t// If request fails there may be an alert for the error\r\n\t\tdispatch(resetAlert());\r\n\t\t// This makes it more UX friendly calling a spinner instantly\r\n\t\t// Change loading state within postLoading and post group\r\n\t\t// Post group loading to update and load all the posts again\r\n\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t// Send request with appropriate body\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\tconst body = { title, contentState: jsonContentState, plainText };\r\n\t\tconst res = await axios.post(\"/api/posts\", body);\r\n\t\t// Obtain post id from response\r\n\t\tconst postId = res.data._id;\r\n\t\t// Dispatch post create and change postLoading to false\r\n\t\tdispatch({\r\n\t\t\ttype: POST_CREATE,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\t// Navigate user to the new post page\r\n\t\thistory.push(`/discussion/post/${postId}`);\r\n\t});\r\n\r\nexport const getAllPost = (page = 1) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tdispatch({type: POST_RESET});\r\n\t\t// Resets alert if searching for empty posts beforehand\r\n\t\t// Empty posts from search will result in an error alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Gets post by page with limit, sorts by last comment then date.\r\n\t\tconst res = await axios.get(\r\n\t\t\t`/api/posts?page=${page}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`\r\n\t\t);\r\n\t\t// Dispatch data and change posts state\r\n\t\tdispatch({\r\n\t\t\ttype: GET_ALL_POST,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\tlimit: postLimitPerPage,\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n\r\n// With and without searching\r\n// isSearch is boolean || string\r\n// setPage from component state is passed to trigger the loader from InfiniteScroll component\r\nexport const postNextPage = (page, setPage, isSearch = false) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tlet res;\r\n\t\t// Gets post by page with limit ,sorts by last comment then date.\r\n\t\tif (isSearch) {\r\n\t\t\tres = await axios.post(\r\n\t\t\t\t`/api/posts/search/text?page=${\r\n\t\t\t\t\tpage + 1\r\n\t\t\t\t}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`,\r\n\t\t\t\t{ text: isSearch }\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tres = await axios.get(\r\n\t\t\t\t`/api/posts?page=${\r\n\t\t\t\t\tpage + 1\r\n\t\t\t\t}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t\r\n\t\tif (res.data.posts.length >= 1) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: POST_NEXT_PAGE,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\t...res.data,\r\n\t\t\t\t\tlimit: postLimitPerPage\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t// Change page state only after request has been made\r\n\t\t\t// If request fails, state does not change\r\n\t\t\t// Page number remains the same\r\n\t\t\tsetPage(page + 1);\r\n\t\t} else\r\n\t\t\tdispatch({type: GET_POST_ERROR})\r\n\r\n\t\t\r\n\t});\r\n\r\nexport const getPost = ({ id, currentPage, history, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Clear previous post state\r\n\t\tdispatch({\r\n\t\t\ttype: CLEAR_POST,\r\n\t\t});\r\n\t\t// Make request with post id\r\n\t\tconst res = await axios.get(`/api/posts/${id}`);\r\n\t\t// Calculate total amount pages (client-side pagination)\r\n\t\tconst comments = res.data.comments;\r\n\t\t// Consider if there's no comments made\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1;\r\n\t\t// Update post state\r\n\t\tdispatch({\r\n\t\t\ttype: GET_POST,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// Redirect user if attempting to access invalid page query\r\n\t\tif (isNaN(currentPage) || currentPage > totalPages) {\r\n\t\t\thistory.push(`/discussion/post/${id}`);\r\n\t\t\tsetPage(1);\r\n\t\t}\r\n\t});\r\n\r\nexport const updatePost = ({ postId, newTitle, newContentState, plainText }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tdispatch(resetAlert());\r\n\t\t// This makes it more UX friendly calling a spinner instantly\r\n\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t// Convert contentstate object to JSON\r\n\t\tconst jsonContentState = JSON.stringify(newContentState);\r\n\t\t// Make request to update post\r\n\t\tconst body = {\r\n\t\t\ttitle: newTitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t};\r\n\t\tconst res = await axios.patch(`/api/posts/${postId}`, body);\r\n\t\t// Dispatch update post action and change loading state\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_POST,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t});\r\n\r\nexport const deletePost = (postId, history) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Prompt user to confirm deletion\r\n\t\tif (window.confirm(\"Are you sure you want to delete post?\")) {\r\n\t\t\t// This considers if somehow the request takes a long time\r\n\t\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t\t// Make request to delete post\r\n\t\t\tawait axios.delete(`/api/posts/${postId}`);\r\n\t\t\t// Dispatch delete post and stop loading\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_POST,\r\n\t\t\t});\r\n\t\t\t// Navigate user back to discussion board\r\n\t\t\thistory.push(\"/discussion\");\r\n\t\t\t// Send alert to user post was deleted\r\n\t\t\tdispatch(setAlert(\"Post Deleted\", \"success\"));\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\t});\r\n\r\nexport const addComment = ({ contentState, postId, history, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Require to reset alert possibly from removing comment\r\n\t\tdispatch(resetAlert());\r\n\t\t// Convert contentstate object to JSON\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\t// Make request to add comment to server\r\n\t\tconst res = await axios.post(`/api/posts/${postId}`, {\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t});\r\n\t\t// Calculate total pages after new comment was added\r\n\t\tconst comments = res.data;\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1;\r\n\t\t// Dispatch add comment action\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_COMMENT,\r\n\t\t\tpayload: {\r\n\t\t\t\tcomments,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t}); // loads whilst posting comment\r\n\r\n\t\t// Redirect to the last page when sending comment\r\n\t\thistory.push(`/discussion/post/${postId}?page=${totalPages}`);\r\n\t\tsetPage(totalPages);\r\n\t});\r\n\r\nexport const deleteComment = ({ postId, commentId, history, page, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Require to reset alert from removing comment\r\n\t\tdispatch(resetAlert());\r\n\t\t// Send request to delete comment from post with postId\r\n\t\tconst res = await axios.put(`/api/posts/${postId}/comments/${commentId}`);\r\n\t\t// Calculate total pages\r\n\t\tconst comments = res.data;\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1; // pagelimit = 10\r\n\t\t// Dispatch delete comment action\r\n\t\tdispatch({\r\n\t\t\ttype: DELETE_COMMENT,\r\n\t\t\tpayload: {\r\n\t\t\t\tcomments,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t});\r\n\t\t// If current page number is higher than total amount of pages\r\n\t\t// Redirect user\r\n\t\tif (page > totalPages) {\r\n\t\t\thistory.push(`/discussion/post/${postId}?page=${totalPages}`);\r\n\t\t\tsetPage(totalPages);\r\n\t\t}\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Comment removed\", \"success\"));\r\n\t});\r\n\r\nexport const searchPost = (text, page = 1) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Clear possible alert from empty searches\r\n\t\tdispatch(resetAlert());\r\n\t\t// Clear post list state\r\n\t\tdispatch({ type: POST_RESET });\r\n\t\t// Make request to search post\r\n\t\tconst res = await axios.post(\r\n\t\t\t`/api/posts/search/text?page=${page}&limit=${postLimitPerPage}&sort=-lastComment,-date`,\r\n\t\t\t{ text }\r\n\t\t);\r\n\t\t// Dispatch search post action and update state\r\n\t\tdispatch({\r\n\t\t\ttype: SEARCH_POSTS,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\tlimit: postLimitPerPage,\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n","import { faker } from \"@faker-js/faker\";\r\nimport \"moment-timezone\";\r\nimport React, { useMemo } from \"react\";\r\nimport { IoIosTrash } from \"react-icons/io\";\r\nimport Moment from \"react-moment\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nconst PostComment = ({\r\n  contentState,\r\n  user,\r\n  postId,\r\n  id,\r\n  date,\r\n  deleteComment,\r\n  history,\r\n  page,\r\n  setPage,\r\n  currentUser,\r\n  Moderator,\r\n}) => {\r\n  const fakePhoto = useMemo(() => faker.image.avatar(), []);\r\n  let userNameLength = user.firstName.length + user.lastName.length;\r\n  let convertedName = user.firstName + \" \" + user.lastName[0].toUpperCase();\r\n  if (userNameLength > 20) {\r\n    convertedName =\r\n      user.firstName[0].toUpperCase() + user.lastName[0].toUpperCase();\r\n  }\r\n\r\n  let photo = user.photo || fakePhoto;\r\n\r\n  if (user._id === currentUser._id) {\r\n    photo = currentUser.photo;\r\n  }\r\n  return (\r\n    <div className=\"Post__comment\">\r\n      <div className=\"Post__commentUser\">\r\n        <img src={photo} alt=\"user-logo\" className=\"Post__commentUser-img\" />\r\n        <span className=\"Post__commentUser-name\">\r\n          {userNameLength > 12 && window.screen.width > 1000 ? (\r\n            <span>{convertedName}</span>\r\n          ) : (\r\n            <>\r\n              <span>{user.firstName}&nbsp;</span>\r\n              <span>{user.lastName}</span>\r\n            </>\r\n          )}\r\n        </span>\r\n      </div>\r\n      <div className=\"Post__commentBody\">\r\n        <div className=\"Post__commentBody-text\">\r\n          <ReadOnly contentState={contentState} />\r\n        </div>\r\n        <div className=\"Post__commentBottom\">\r\n          <span className=\"Post__commentBody-date\">\r\n            <Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n              {date}\r\n            </Moment>\r\n          </span>\r\n          {(currentUser._id === user._id ||\r\n            (Moderator && currentUser.role === \"admin\")) && (\r\n            <button\r\n              className=\"Post__comment-trash\"\r\n              onClick={() =>\r\n                deleteComment({ postId, commentId: id, history, page, setPage })\r\n              }\r\n            >\r\n              <IoIosTrash />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostComment;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport scrollToTop from '../../../utils/scrollToTop';\r\n\r\nconst PageButtons = ({ page, setPage, totalPages, postId }) => {\r\n\t// Rendering page buttons\r\n\tlet nextPage, previousPage;\r\n\tif (totalPages > 1 && page !== totalPages)\r\n\t\tnextPage = (\r\n\t\t\t<Link\r\n\t\t\t\tto={`/discussion/post/${postId}?page=${page + 1}`}\r\n\t\t\t\tclassName=\"Post__page-buttons Post__page-next\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetPage(page + 1);\r\n\t\t\t\t\tscrollToTop();\r\n\t\t\t\t}}>\r\n\t\t\t\tNext\r\n\t\t\t</Link>\r\n\t\t);\r\n\tif (page > 1)\r\n\t\tpreviousPage = (\r\n\t\t\t<Link\r\n\t\t\t\tto={`/discussion/post/${postId}?page=${page - 1}`}\r\n\t\t\t\tclassName=\"Post__page-buttons Post__page-prev\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetPage(page - 1);\r\n\t\t\t\t\tscrollToTop();\r\n\t\t\t\t}}>\r\n\t\t\t\tPrevious\r\n\t\t\t</Link>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"Post__page\">\r\n\t\t\t{previousPage}\r\n\t\t\t{page > 1 || totalPages > 1 ? <>Page {page}</> : ''}\r\n\t\t\t{nextPage}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageButtons;\r\n","import { faker } from \"@faker-js/faker\";\r\nimport \"moment-timezone\";\r\nimport React, { useMemo } from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nconst PostHead = ({\r\n  post,\r\n  currentUser,\r\n  toggleEditPost,\r\n  handleDeletePost,\r\n  Moderator,\r\n}) => {\r\n  const fakePhoto = useMemo(() => faker.image.avatar(), []);\r\n  let userNameLength = post.user.firstName.length + post.user.lastName.length;\r\n  let convertedName =\r\n    post.user.firstName + \" \" + post.user.lastName[0].toUpperCase();\r\n  if (userNameLength > 20) {\r\n    convertedName =\r\n      post.user.firstName[0].toUpperCase() +\r\n      post.user.lastName[0].toUpperCase();\r\n  }\r\n\r\n  let photo = post.user.photo || fakePhoto;\r\n\r\n  if (post.user._id === currentUser._id) {\r\n    photo = currentUser.photo;\r\n  }\r\n\r\n  return (\r\n    <div className=\"Post__post\">\r\n      <div className=\"Post__postUser\">\r\n        <img src={photo} alt=\"user-logo\" className=\"Post__postUser-img\" />\r\n        <span className=\"Post__postUser-name\">\r\n          {userNameLength > 12 && window.screen.width > 1000 ? (\r\n            <span>{convertedName}</span>\r\n          ) : (\r\n            <>\r\n              <span>{post.user.firstName}&nbsp;</span>\r\n              <span>{post.user.lastName}</span>\r\n            </>\r\n          )}\r\n        </span>\r\n      </div>\r\n      <div className=\"Post__postBody\">\r\n        <div className=\"Post__postBody-text\">\r\n          <ReadOnly contentState={post.contentState} />\r\n        </div>\r\n        <>\r\n          <span className=\"Post__postBody-date\">\r\n            Posted:\r\n            <Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n              {post.date}\r\n            </Moment>\r\n          </span>\r\n          {post.lastEdited !== post.date && (\r\n            <span className=\"Post__postBody-edited\">\r\n              Last edited:\r\n              <Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n                {post.lastEdited}\r\n              </Moment>\r\n            </span>\r\n          )}\r\n          <div className=\"Post__postButtons\">\r\n            {currentUser._id === post.user._id && (\r\n              <button className=\"btn btn__edit-xs\" onClick={toggleEditPost}>\r\n                Edit\r\n              </button>\r\n            )}\r\n            {(currentUser._id === post.user._id ||\r\n              (Moderator && currentUser.role === \"admin\")) && (\r\n              <button className=\"btn btn__delete-xs\" onClick={handleDeletePost}>\r\n                Delete\r\n              </button>\r\n            )}\r\n          </div>\r\n        </>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostHead;\r\n","import { faker } from \"@faker-js/faker\";\r\nimport { ContentState, convertToRaw } from \"draft-js\";\r\nimport PropTypes from \"prop-types\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport {\r\n  addComment,\r\n  deleteComment,\r\n  deletePost,\r\n  getPost,\r\n  toggleEditPost,\r\n  updatePost,\r\n} from \"../../../actions/post\";\r\nimport { onChange } from \"../../../actions/textEditor\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\nimport Spinner from \"../../utils/Spinner\";\r\nimport TextEditor from \"../../utils/draft-js/TextEditor\";\r\nimport Comments from \"./Comments\";\r\nimport PageButtons from \"./PageButtons\";\r\nimport PostHead from \"./PostHead\";\r\n\r\nconst Post = ({\r\n  match: {\r\n    params: { postId },\r\n  },\r\n  getPost,\r\n  toggleEditPost,\r\n  deletePost,\r\n  postEdit,\r\n  updatePost,\r\n  addComment,\r\n  deleteComment,\r\n  post: { post, postError },\r\n  textEditor,\r\n  onChange,\r\n  history,\r\n  location,\r\n  currentUser,\r\n  postLoading,\r\n  users: { Moderator },\r\n}) => {\r\n  useEffect(() => {\r\n    // runs once and on updatePost\r\n    // pageQuery only works once totalPages has been defined\r\n    // totalPages defined after getPost\r\n    getPost({ id: postId, currentPage, history, setPage });\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // Sets default pageQuery if theres not set\r\n  const currentPage = parseInt(location.search.split(\"?page=\")[1]) || 1;\r\n  // Define page, title and content editor state\r\n  const [page, setPage] = useState(currentPage);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  // Change content state and raw text to be sent through actions\r\n  const handleChange = (e) => {\r\n    setContent(e.target.value);\r\n    const textToContentState = convertToRaw(\r\n      ContentState.createFromText(e.target.value)\r\n    );\r\n    onChange(textToContentState);\r\n  };\r\n\r\n  // Submit comment\r\n  const handleSubmit = () =>\r\n    addComment({\r\n      contentState: textEditor.contentState,\r\n      postId,\r\n      history,\r\n      setPage,\r\n    });\r\n\r\n  // Delete post handler\r\n  const handleDeletePost = () => deletePost(postId, history);\r\n\r\n  // Update post handler\r\n  const handleUpdate = (plainText) => {\r\n    // plain text from textEditor\r\n    updatePost({\r\n      postId,\r\n      newTitle: title,\r\n      newContentState: textEditor.contentState,\r\n      plainText,\r\n    });\r\n  };\r\n\r\n  const handleToggleEditPost = () => {\r\n    setTitle(post.title);\r\n    toggleEditPost();\r\n  };\r\n\r\n  // Client side pagination\r\n  // Set limit, start and end of a page\r\n  const limit = 6;\r\n  const start = (page - 1) * limit;\r\n  const end = page * limit;\r\n  const minTopPageButtonsAppear = 3;\r\n\r\n  return post === null || postLoading ? (\r\n    postError ? (\r\n      <Redirect to=\"/discussion\" />\r\n    ) : (\r\n      <Spinner />\r\n    )\r\n  ) : postEdit ? (\r\n    <div className=\"Post__editor\">\r\n      <ContentEditor\r\n        handleToggle={handleToggleEditPost}\r\n        title={title}\r\n        setTitle={setTitle}\r\n        handleSubmit={handleUpdate}\r\n        contentState={post.contentState}\r\n        plainText={post.plainText}\r\n        type={\"edit\"}\r\n      />\r\n    </div>\r\n  ) : (\r\n    <>\r\n      <Link to=\"/discussion\" className=\"Post__goBack\">\r\n        <button>Go Back</button>\r\n      </Link>\r\n      <div className=\"Post__title-container\">\r\n        <h1 className=\"Post__title\">{post.title}</h1>\r\n      </div>\r\n      <PostHead\r\n        Moderator={Moderator}\r\n        img={faker.image.avatar()}\r\n        post={post}\r\n        currentUser={currentUser}\r\n        toggleEditPost={handleToggleEditPost}\r\n        handleDeletePost={handleDeletePost}\r\n      />\r\n      {post && (\r\n        <>\r\n          {post.comments.slice(start, end).length > minTopPageButtonsAppear && (\r\n            <PageButtons\r\n              page={page}\r\n              setPage={setPage}\r\n              totalPages={post.totalPages}\r\n              postId={postId}\r\n            />\r\n          )}\r\n          <div className=\"Post__comments\">\r\n            {post.comments.slice(start, end).map((c) => (\r\n              <Comments\r\n                key={c._id}\r\n                contentState={c.contentState}\r\n                id={c._id}\r\n                postId={postId}\r\n                date={c.date}\r\n                user={c.user}\r\n                deleteComment={deleteComment}\r\n                page={page}\r\n                history={history}\r\n                setPage={setPage}\r\n                currentUser={currentUser}\r\n                Moderator={Moderator}\r\n              />\r\n            ))}\r\n          </div>\r\n          <PageButtons\r\n            page={page}\r\n            setPage={setPage}\r\n            totalPages={post.totalPages}\r\n            postId={postId}\r\n          />\r\n          <div className=\"Post__addComment\">\r\n            <div className=\"Post__addComment-top\">\r\n              <img\r\n                src={currentUser.photo || faker.image.avatar()}\r\n                alt=\"current user\"\r\n                className=\"Post__commentUser-img\"\r\n              />\r\n              <h2 className=\"Post__addComment-title\">Add Comment</h2>\r\n            </div>\r\n            <div className=\"CreatePost__editor\">\r\n              <textarea\r\n                placeholder=\"Add comment....\"\r\n                className=\"CreatePost__editor\"\r\n                type=\"text\"\r\n                name=\"editor\"\r\n                id=\"editor\"\r\n                value={content}\r\n                onChange={handleChange}\r\n                required\r\n              ></textarea>\r\n              <button\r\n                className=\"btn btn__submit\"\r\n                onClick={() => {\r\n                  if (content.length === 0) return;\r\n                  setContent(\"\");\r\n                  handleSubmit();\r\n                }}\r\n              >\r\n                Submit\r\n              </button>\r\n            </div>\r\n            <div className=\"CreatePost__textEditor\">\r\n              <TextEditor handleSubmit={handleSubmit} />\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nPost.propTypes = {\r\n  getPost: PropTypes.func.isRequired,\r\n  addComment: PropTypes.func.isRequired,\r\n  toggleEditPost: PropTypes.func.isRequired,\r\n  deletePost: PropTypes.func.isRequired,\r\n  deleteComment: PropTypes.func.isRequired,\r\n  updatePost: PropTypes.func.isRequired,\r\n  contentState: PropTypes.string, //Converted to JSON string before sending to database and reconverted by texteditor\r\n  textEditor: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  postEdit: PropTypes.bool.isRequired,\r\n  post: PropTypes.object,\r\n  currentUser: PropTypes.object,\r\n  postLoading: PropTypes.bool.isRequired,\r\n  users: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  postEdit: state.post.postEdit,\r\n  post: state.post,\r\n  textEditor: state.textEditor,\r\n  currentUser: state.auth.currentUser,\r\n  users: state.users,\r\n  postLoading: state.post.postLoading,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getPost,\r\n  addComment,\r\n  toggleEditPost,\r\n  deletePost,\r\n  deleteComment,\r\n  updatePost,\r\n  onChange,\r\n})(Post);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { forgotPassword } from \"../../actions/auth\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport const ForgotPassword = ({ forgotPassword, auth: { loading } }) => {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tforgotPassword(email, document.location.href);\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Forgot your password?</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tPlease enter the email address registered to your account and we will\r\n\t\t\t\tsend you the link to reset your password.\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Send Email\" />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nForgotPassword.propTypes = {\r\n\tforgotPassword: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { forgotPassword })(ForgotPassword);\r\n","const fileToBase64 = async (file) =>\r\n  new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = (e) => reject(e);\r\n  });\r\n\r\nexport default fileToBase64;\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport useForms from \"../../../hooks/useForms\";\r\nimport { updateMe } from \"../../../actions/users\";\r\nimport fileToBase64 from \"../../../utils/fileToBase64\";\r\n\r\nexport const Update = ({ auth: { currentUser }, updateMe, history }) => {\r\n  const [file, setFile] = useState(\"\");\r\n  const { firstName, lastName, email } = currentUser;\r\n  const blankForm = { firstName, lastName, email };\r\n  const { formData, handleChange, handleSubmit } = useForms(\r\n    blankForm,\r\n    updateMe,\r\n    { file, history }\r\n  );\r\n\r\n  const handleFileChange = async (e) => {\r\n    const fileBase64 = await fileToBase64(e.target.files[0]);\r\n    setFile(fileBase64);\r\n  };\r\n\r\n  //\r\n  //\r\n  // Refactor labelling\r\n\r\n  return (\r\n    <div className=\"Form\">\r\n      <button\r\n        className=\"Form__goBack btn__cancel\"\r\n        onClick={() => {\r\n          history.push(\"/dashboard\");\r\n        }}\r\n      >\r\n        Cancel\r\n      </button>\r\n      <h1>Update your profile</h1>\r\n      <form className=\"Form__form\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <strong>Profile photo</strong>\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            name=\"image\"\r\n            onChange={handleFileChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <strong>First Name</strong>\r\n          <input\r\n            type=\"text\"\r\n            name=\"firstName\"\r\n            value={formData.firstName}\r\n            maxLength={15}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <strong>Last Name</strong>\r\n          <input\r\n            type=\"text\"\r\n            name=\"lastName\"\r\n            value={formData.lastName}\r\n            maxLength={15}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <strong>Email</strong>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <button className=\"btn btn__submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nUpdate.propTypes = {\r\n  updateMe: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateMe })(Update);\r\n","import React from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport NewRoute from './NewRoute';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport Register from '../auth/Register';\r\nimport Login from '../auth/Login';\r\nimport MemberList from '../pages/Members/MemberList';\r\nimport Dashboard from '../pages/Dashboard/Dashboard';\r\nimport Discussion from '../pages/Discussion/Discussion';\r\nimport Post from '../pages/Post/Post';\r\nimport ForgotPassword from '../auth/ForgotPassword';\r\nimport ResetPassword from '../auth/ResetPassword';\r\nimport Update from '../pages/Dashboard/Update';\r\nimport ChangePassword from '../auth/ChangePassword';\r\n\r\nconst Routes = () => {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PrivateRoute exact path=\"/register\" component={Register} />\r\n\t\t\t<NewRoute exact path=\"/login\" component={Login} />\r\n\t\t\t<NewRoute exact path=\"/forgotpassword\" component={ForgotPassword} />\r\n\t\t\t<NewRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/forgotpassword/reset/:resetToken\"\r\n\t\t\t\tcomponent={ResetPassword}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute exact path=\"/members\" component={MemberList} />\r\n\t\t\t<PrivateRoute exact path=\"/discussion\" component={Discussion} />\r\n\t\t\t<PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\r\n\t\t\t<PrivateRoute exact path=\"/user/update\" component={Update} />\r\n\t\t\t<PrivateRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/user/changepassword\"\r\n\t\t\t\tcomponent={ChangePassword}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute exact path=\"/discussion/post/:postId\" component={Post} />\r\n\t\t\t<Redirect to=\"/dashboard\" />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n\r\n// dashboard\r\n// members list\r\n// Request a speech\r\n// Request a role\r\n// Discussion\r\n// Comment\r\n// Admin and comittee roles --- registering a user and deactivating account\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toggleView } from \"../../actions/users\";\r\n\r\nexport const Moderator = ({\r\n\tauth: { currentUser },\r\n\ttoggleView,\r\n\tusers: { Moderator },\r\n}) => {\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Moderator) toggleView();\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentUser]);\r\n\r\n\treturn (\r\n\t\tcurrentUser &&\r\n\t\tcurrentUser.role !== \"user\" && (\r\n\t\t\t<div className={`Moderator${Moderator ? \" Moderator__checked\" : \"\"}`}>\r\n\t\t\t\t<span className=\"Moderator__mode\">\r\n\t\t\t\t\tView as:&nbsp;\r\n\t\t\t\t\t{Moderator\r\n\t\t\t\t\t\t? currentUser.role === \"admin\" // Works with only two roles\r\n\t\t\t\t\t\t\t? \"admin\"\r\n\t\t\t\t\t\t\t: \"committee\"\r\n\t\t\t\t\t\t: \"user\"}\r\n\t\t\t\t</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"Moderator__checkbox\"\r\n\t\t\t\t\tid=\"moderator\"\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tvalue={Moderator}\r\n\t\t\t\t\tonChange={toggleView}\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor=\"moderator\" className=\"Moderator__slider\" />\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nModerator.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\ttoggleView: PropTypes.func.isRequired,\r\n\tusers: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tusers: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps, { toggleView })(Moderator);\r\n","import React, { useEffect } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport { Route, Redirect, withRouter } from 'react-router-dom';\r\nimport Navbar from './components/layout/Navbar';\r\n\r\nimport Routes from './components/routing/Routes';\r\nimport './styles/main.scss';\r\nimport { checkUser } from './actions/auth';\r\nimport Moderator from './components/layout/Moderator';\r\n\r\nconst App = () => {\r\n\tuseEffect(() => {\r\n\t\tstore.dispatch(checkUser()); // runs only once\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Provider store={store}>\r\n\t\t\t<Navbar />\r\n\t\t\t<Moderator />\r\n\t\t\t<Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\" />} />\r\n\t\t\t<Routes />\r\n\t\t</Provider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(App);\r\n","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'draft-js/dist/Draft.css';\r\nimport '@draft-js-plugins/linkify/lib/plugin.css';\r\nimport '@draft-js-plugins/image/lib/plugin.css';\r\nimport '@draft-js-plugins/focus/lib/plugin.css';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n\t<Router>\r\n\t\t<App />\r\n\t</Router>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}