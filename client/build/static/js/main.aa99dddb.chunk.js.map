{"version":3,"sources":["components/auth/Register.js","components/auth/Login.js","actions/types.js","reducers/users.js","reducers/auth.js","reducers/alerts.js","reducers/post.js","reducers/textEditor.js","reducers/announcements.js","reducers/index.js","store.js","utils/scrollToTop.js","actions/alerts.js","utils/catchAsync.js","actions/auth.js","img/logo.png","components/layout/Navbar.js","components/layout/Container.js","components/layout/Alert.js","components/routing/NewRoute.js","img/spinner.gif","components/utils/Spinner.js","components/routing/PrivateRoute.js","hooks/useForms.js","actions/users.js","components/pages/Members/Members.js","components/pages/Members/Table.js","components/pages/Members/SmallList.js","components/pages/Members/MemberList.js","img/notfound.png","components/utils/draft-js/ImageAdd/ImageAdd.js","components/utils/draft-js/pluginDecorator.js","actions/textEditor.js","components/utils/draft-js/TextEditor.js","components/utils/draft-js/ReadOnly.js","components/auth/ResetPassword.js","components/auth/ChangePassword.js","components/utils/ContentEditor.js","components/pages/Dashboard/Announcements.js","actions/announcements.js","components/pages/Dashboard/User.js","img/anonymous.png","components/pages/Dashboard/Dashboard.js","actions/post.js","components/pages/Discussion/DiscussionHead.js","components/pages/Discussion/DiscussionPost.js","components/utils/SpinnerSmall.js","components/pages/Discussion/Discussion.js","components/pages/Post/Comments.js","components/pages/Post/PostHead.js","components/pages/Post/PageButtons.js","components/pages/Post/Post.js","components/auth/ForgotPassword.js","utils/fileToBase64.js","components/pages/Dashboard/Update.js","components/routing/Routes.js","components/layout/Moderator.js","App.js","index.js"],"names":["inputs","REGISTER_SUCCESS","LOGIN_SUCCESS","LOGOUT","CLEAR_LOGIN","FORGOT_PASSWORD","RESET_PASSWORD","CHANGE_PASSWORD","AUTH_ERROR","LOADING_AUTH","SET_ALERT","RESET_ALERT","POST_CREATE","POST_RESET","CLEAR_POST","ADD_COMMENT","DELETE_COMMENT","ON_CHANGE","GET_POST","GET_ALL_POST","POST_NEXT_PAGE","UPDATE_POST","DELETE_POST","SEARCH_POSTS","POST_ERROR","ERROR","TOGGLE_CREATE_POST","TOGGLE_EDIT_POST","LOADING_SUBMIT_POST","GET_POST_ERROR","UPDATE_ME","UPDATE_FAILED","GET_ALL_USERS","TOGGLE_MODERATOR","USER_ERROR","DEACTIVATE_USER","ACTIVATE_USER","LOADING_USER","MAKE_COMMITTEE","REMOVE_COMMITTEE","TOGGLE_CREATE_ANNOUNCEMENT","CREATE_ANNOUNCEMENT","GET_ALL_ANNOUNCEMENT","DELETE_ANNOUNCEMENT","UPDATE_ANNOUNCEMENT","LOADING_ANNOUNCEMENT_SUBMIT","ANNOUNCEMENT_ERROR","initialState","users","loading","error","Moderator","usersReducer","state","arguments","length","undefined","action","type","payload","_objectSpread","concat","_toConsumableArray","id","userArray","newUser","index","findIndex","el","_id","replaceUser","currentUser","isAuthenticated","isModified","authReducer","msg","alertType","alertsReducer","postLoading","posts","post","edit","postEdit","totalPages","postError","postReducer","Math","ceil","numPosts","limit","contentState","textEditorReducer","announcements","announcementReducer","filterAnnouncement","filter","reducers","combineReducers","auth","alerts","textEditor","middleware","thunk","composeEnhancers","composeWithDevTools","trace","store","createStore","rootReducer","applyMiddleware","apply","scrollToTop","document","body","scrollTop","documentElement","setAlert","dispatch","resetAlert","catchAsync","fn","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","catch","_ref2","_callee","err","_context","response","status","abrupt","data","message","logoutUser","stop","_x2","_x","_ref4","_callee3","_context3","axios","get","_x3","connect","_useState","useState","_useState2","_slicedToArray","nav","setNav","toggleNav","_jsx","_Fragment","children","_jsxs","className","Link","to","style","textDecoration","src","logo","alt","name","checked","onChange","htmlFor","onClick","Container","Object","keys","map","alert","Component","component","rest","_objectWithoutProperties","_excluded","Route","render","props","Alert","Spinner","Fragment","spinner","width","margin","display","_ref$auth","useEffect","active","NewRoute","Redirect","useForms","blankForm","args","formData","setFormData","handleChange","e","_defineProperty","target","value","handleSubmit","preventDefault","handleCancel","registerUser","url","res","sent","firstName","lastName","_ref$users","history","initialFormState","email","location","href","replace","_useForms","names","label","placeholder","role","push","onSubmit","maxLength","autoComplete","required","loginUser","password","gap","marginBottom","Members","user","deActivateUser","activateUser","changeRole","photo","faker","image","avatar","alignItems","justifyContent","MdEmail","defaultValue","FaUserTimes","FaUserPlus","Table","setActive","SmallList","getAllUsers","_ref5","userId","_ref6","_callee4","_context4","patch","_x4","_ref7","_callee5","_context5","_x5","isCommittee","_ref8","_callee6","_res","_context6","_x6","activeUsers","unActiveUsers","ImageAdd","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","Array","_key","call","open","onPopoverClick","preventNextClose","openPopover","setState","closePopover","addImage","img","some","includes","_this$props","editorState","modifier","changeUrl","evt","_createClass","key","addEventListener","this","removeEventListener","popoverClassName","buttonClassName","GoFileMedia","fontSize","onMouseUp","pluginDecorator","listOfPlugins","CompositeDecorator","plugin","_step","decorators","_iterator","_createForOfIteratorHelper","s","n","done","f","getPluginDecoratorArray","HANDLED","hasCommandModifier","KeyBindingUtil","linkifyPlugin","createLinkifyPlugin","blockKey","blockkey","focusPlugin","createFocusPlugin","blockDndPlugin","createBlockDndPlugin","resizeablePlugin","createResizeablePlugin","imageDecorator","composeDecorators","decorator","createImagePlugin","TextEditor","focus","editor","plainText","getCurrentContent","getPlainText","convertToRaw","handleBeforeInput","chars","currentContentState","selectionState","getSelection","EditorState","Modifier","replaceText","handleKeyCommand","command","newState","RichUtils","mapKeyToEditorCommand","keyCode","getDefaultKeyBinding","toggleBlockType","blockType","toggleInlineStyle","inlineStyle","text","createEmpty","createWithContent","convertFromRaw","JSON","parse","forceUpdate","_this2","hasText","getBlockMap","first","getType","InlineStyleControls","onToggle","BlockStyleControls","Editor","blockStyleFn","getBlockStyle","keyBindingFn","ref","element","spellCheck","plugins","block","StyleButton","_React$Component","_super2","_this3","onMouseDown","React","BLOCK_TYPES","IoMdQuote","GoListUnordered","GoListOrdered","selection","getBlockForKey","getStartKey","i","INLINE_STYLES","FaBold","FaItalic","FaUnderline","currentStyle","getCurrentInlineStyle","has","handleToggle","title","setTitle","textToContentState","ContentState","createFromText","content","setContent","ReadOnly","convertedState","readOnly","toggleEdit","createAnnouncement","jsonContentState","stringify","updateAnnouncement","newTitle","newContentState","deleteAnnouncement","window","confirm","delete","_ref$announcements","_useState3","_useState4","setId","_useState5","_useState6","setType","_useState7","_useState8","contentEdit","setContentEdit","_useState9","_useState10","plainTextEdit","setPlainTextEdit","ContentEditor","FaPlusCircle","lastEdited","date","Moment","tz","format","postId","currentTitle","postContentState","postPlainText","User","placeholderPhoto","useMemo","FaUserAlt","FaKey","getAnnouncements","_ref3","Announcements","postLimitPerPage","DiscussionHead","createPost","toggleCreatePost","searchPost","setPage","setIsSearch","getAllPost","search","setSearch","FaSearch","DiscussionPost","count","IoIosChatboxes","SpinnerSmall","page","_ref14","_callee9","_context9","_x9","postNextPage","isSearch","_ref$post","renderPosts","comments","InfiniteScroll","pageStart","loadMore","hasMore","threshold","loader","PostComment","deleteComment","userNameLength","convertedName","toUpperCase","screen","commentId","IoIosTrash","PostHead","toggleEditPost","handleDeletePost","PageButtons","nextPage","previousPage","getPost","currentPage","isNaN","addComment","_ref10","_ref11","_callee7","_context7","_x7","deletePost","_ref9","_ref12","_ref13","_callee8","_context8","put","_x8","updatePost","match","params","parseInt","split","handleToggleEditPost","start","end","slice","c","Comments","forgotPassword","setEmail","resetPassword","resetToken","confirmPassword","input","minLength","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","updateMe","uploadConfig","headers","setFile","handleFileChange","fileBase64","files","accept","changePassword","_ref8$formData","currentPassword","newPassword","Routes","Switch","PrivateRoute","exact","path","Register","Login","ForgotPassword","ResetPassword","MemberList","Discussion","Dashboard","Update","ChangePassword","Post","toggleView","withRouter","t0","Provider","Navbar","ReactDOM","Router","App","getElementById"],"mappings":"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","file":"static/js/main.aa99dddb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { registerUser } from \"../../actions/users\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport let inputs;\r\n\r\nexport const Register = ({\r\n\tregisterUser,\r\n\tusers: { loading, Moderator },\r\n\tauth: { currentUser },\r\n\thistory,\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = { firstName: \"\", lastName: \"\", email: \"\" };\r\n\r\n\t// replace register with login to send url by email to user\r\n\tconst url = document.location.href.replace(\"register\", \"login\");\r\n\r\n\tconst { formData, handleChange, handleSubmit, handleCancel } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tregisterUser,\r\n\t\t{\r\n\t\t\turl,\r\n\t\t}\r\n\t);\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"First Name\",\r\n\t\t\tplaceholder: \"Enter first name\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Last Name\",\r\n\t\t\tplaceholder: \"Enter last name\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Email\",\r\n\t\t\tplaceholder: \"Enter Email\",\r\n\t\t\tname: names[2],\r\n\t\t\tvalue: formData[names[2]],\r\n\t\t},\r\n\t];\r\n\r\n\treturn currentUser.role === \"user\" || !Moderator ? (\r\n\t\t<Redirect to=\"/dashboard\" />\r\n\t) : loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"Form__goBack btn__cancel\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/members\");\r\n\t\t\t\t}}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t<h1>Register a User</h1>\r\n\t\t\t<p className=\"Form__text\">Please fill the form as per member's details</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t<label key={inputs[0].label}>\r\n\t\t\t\t\t\t\t\t<b>{inputs[0].label}</b>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={inputs[0].placeholder}\r\n\t\t\t\t\t\t\t\t\tvalue={inputs[0].value}\r\n\t\t\t\t\t\t\t\t\tname={inputs[0].name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label key={inputs[1].label}>\r\n\t\t\t\t\t\t\t\t<b>{inputs[1].label}</b>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={inputs[1].placeholder}\r\n\t\t\t\t\t\t\t\t\tvalue={inputs[1].value}\r\n\t\t\t\t\t\t\t\t\tname={inputs[1].name}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t<label key={inputs[2].label}>\r\n\t\t\t\t\t<b>{inputs[2].label}</b>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder={inputs[2].placeholder}\r\n\t\t\t\t\t\tvalue={inputs[2].value}\r\n\t\t\t\t\t\tname={inputs[2].name}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t<div className=\"Form__btns\">\r\n\t\t\t\t\t<button className=\"btn\" onClick={handleCancel}>\r\n\t\t\t\t\t\tClear\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Register\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRegister.propTypes = {\r\n\tregisterUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: state.users,\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { registerUser })(Register);\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { loginUser } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport let inputs;\r\n\r\nexport const Login = ({\r\n\tloginUser,\r\n\thistory,\r\n\tauth: { isAuthenticated, loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t};\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tloginUser,\r\n\t\t{ history }\r\n\t);\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Email\",\r\n\t\t\tplaceholder: \"Enter email\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Password\",\r\n\t\t\tplaceholder: \"Enter Password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t];\r\n\r\n\t// Redirect if logged in\r\n\tif (isAuthenticated) {\r\n\t\treturn <Redirect to=\"/dashboard\" />;\r\n\t}\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tPlease login with your email address and password\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<b>{inputs[0].label}</b>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder={inputs[0].placeholder}\r\n\t\t\t\t\t\tname={inputs[0].name}\r\n\t\t\t\t\t\tvalue={inputs[0].value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<b>{inputs[1].label}</b>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder={inputs[1].placeholder}\r\n\t\t\t\t\t\tname={inputs[1].name}\r\n\t\t\t\t\t\tvalue={inputs[1].value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div style={{ display: \"flex\", gap: \"2rem\", marginBottom: \"4rem\" }}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\tawait loginUser({\r\n\t\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t\temail: \"test@example.com\",\r\n\t\t\t\t\t\t\t\t\tpassword: \"test123\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\thistory,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"btn btn__submit-trial\">\r\n\t\t\t\t\t\tTEST USER\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Login\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Link className=\"Form__link\" to=\"/forgotpassword\">\r\n\t\t\t\t\tForgot your password?\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nLogin.propTypes = {\r\n\tloginUser: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loginUser })(Login);\r\n","// Auth\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const CLEAR_LOGIN = 'CLEAR_LOGIN';\r\nexport const FORGOT_PASSWORD = 'FORGOT_PASSWORD';\r\nexport const RESET_PASSWORD = 'RESET_PASSWORD';\r\nexport const CHANGE_PASSWORD = 'CHANGE_PASSWORD';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOADING_AUTH = 'LOADING_AUTH';\r\n\r\n// Alerts\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const RESET_ALERT = 'RESET_ALERT';\r\n\r\n// Post and discussion\r\nexport const POST_CREATE = 'POST_CREATE';\r\nexport const POST_RESET = 'POST_RESET';\r\nexport const CLEAR_POST = 'CLEAR_POST';\r\nexport const ADD_COMMENT = 'ADD_COMMENT';\r\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\r\nexport const ON_CHANGE = 'ON_CHANGE';\r\nexport const GET_POST = 'GET_POST';\r\nexport const GET_ALL_POST = 'GET_ALL_POST';\r\nexport const POST_NEXT_PAGE = 'POST_NEXT_PAGE';\r\nexport const UPDATE_POST = 'UPDATE_POST';\r\nexport const DELETE_POST = 'DELETE_POST';\r\nexport const SEARCH_POSTS = 'SEARCH_POSTS';\r\nexport const POST_LOADING = 'POST_LOADING';\r\nexport const POST_ERROR = 'POST_ERROR';\r\nexport const ERROR = 'ERROR';\r\nexport const TOGGLE_CREATE_POST = 'TOGGLE_CREATE_POST';\r\nexport const TOGGLE_EDIT_POST = 'TOGGLE_EDIT_POST';\r\nexport const LOADING_SUBMIT_POST = 'LOADING_SUBMIT_POST';\r\nexport const GET_POST_ERROR = 'GET_POST_ERROR'\r\n\r\n// User\r\nexport const UPDATE_ME = 'UPDATE_ME';\r\nexport const UPDATE_FAILED = 'UPDATE_FAILED';\r\nexport const GET_ALL_USERS = 'GET_ALL_USERS';\r\nexport const TOGGLE_MODERATOR = 'TOGGLE_MODERATOR';\r\nexport const USER_ERROR = 'USER_ERROR';\r\nexport const DEACTIVATE_USER = 'DEACTIVATE_USER';\r\nexport const ACTIVATE_USER = 'ACTIVATE_USER';\r\nexport const LOADING_USER = 'LOADING_USER';\r\nexport const MAKE_COMMITTEE = 'MAKE_COMMITTEE';\r\nexport const REMOVE_COMMITTEE = 'REMOVE_COMMITTEE';\r\n\r\n// Announcements\r\nexport const TOGGLE_CREATE_ANNOUNCEMENT = 'TOGGLE_CREATE_ANNOUNCEMENT';\r\nexport const CREATE_ANNOUNCEMENT = 'CREATE_ANNOUNCEMENT';\r\nexport const GET_ALL_ANNOUNCEMENT = 'GET_ALL_ANNOUNCEMENT';\r\nexport const DELETE_ANNOUNCEMENT = 'DELETE_ANNOUNCEMENT';\r\nexport const UPDATE_ANNOUNCEMENT = 'UPDATE_ANNOUNCEMENT';\r\nexport const LOADING_ANNOUNCEMENT_SUBMIT = 'LOADING_ANNOUNCEMENT_SUBMIT';\r\nexport const ANNOUNCEMENT_ERROR = 'ANNOUNCEMENT_ERROR';\r\n","import {\r\n\tREGISTER_SUCCESS,\r\n\tGET_ALL_USERS,\r\n\tTOGGLE_MODERATOR,\r\n\tUSER_ERROR,\r\n\tDEACTIVATE_USER,\r\n\tACTIVATE_USER,\r\n\tLOADING_USER,\r\n\tMAKE_COMMITTEE,\r\n\tREMOVE_COMMITTEE,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tusers: [],\r\n\tloading: true,\r\n\terror: {},\r\n\tModerator: false,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\r\n\tconst replaceUser = (id, userArray, newUser) => {\r\n\t\tconst index = userArray.findIndex((el) => el._id === id);\r\n\t\tuserArray[index] = newUser;\r\n\t\treturn userArray;\r\n\t};\r\n\r\n\tswitch (type) {\r\n\t\tcase USER_ERROR:\r\n\t\t\treturn { ...state, loading: false };\r\n\t\tcase LOADING_USER:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase REGISTER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t//State needs to be first\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...state.users, payload],\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase GET_ALL_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: payload,\r\n\t\t\t};\r\n\t\tcase TOGGLE_MODERATOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tModerator: !state.Moderator,\r\n\t\t\t};\r\n\r\n\t\tcase DEACTIVATE_USER:\r\n\t\tcase ACTIVATE_USER:\r\n\t\tcase MAKE_COMMITTEE:\r\n\t\tcase REMOVE_COMMITTEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: replaceUser(payload._id, state.users, payload),\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default usersReducer;\r\n","import {\r\n\tLOGIN_SUCCESS,\r\n\tLOGOUT,\r\n\tCLEAR_LOGIN,\r\n\tAUTH_ERROR,\r\n\tUPDATE_ME,\r\n\tUPDATE_FAILED,\r\n\tLOADING_AUTH,\r\n\tFORGOT_PASSWORD,\r\n\tRESET_PASSWORD,\r\n\tCHANGE_PASSWORD,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tcurrentUser: null,\r\n\tisAuthenticated: false,\r\n\tloading: true,\r\n\tisModified: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\r\n\tswitch (type) {\r\n\t\tcase LOADING_AUTH:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase CLEAR_LOGIN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\tcase RESET_PASSWORD:\r\n\t\tcase CHANGE_PASSWORD:\r\n\t\t\treturn {\r\n\t\t\t\t//State needs to be first\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase FORGOT_PASSWORD:\r\n\t\tcase LOGOUT:\r\n\t\tcase AUTH_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tcase UPDATE_ME:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcurrentUser: payload,\r\n\t\t\t\tisModified: true,\r\n\t\t\t};\r\n\t\tcase UPDATE_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n","import { SET_ALERT, RESET_ALERT, ERROR } from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tmsg: [],\r\n\talertType: null,\r\n\terror: {},\r\n};\r\n\r\nconst alertsReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase SET_ALERT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmsg: [...state.msg, payload.msg],\r\n\t\t\t\talertType: payload.alertType,\r\n\t\t\t};\r\n\t\tcase RESET_ALERT:\r\n\t\t\treturn {\r\n\t\t\t\t...initialState,\r\n\t\t\t};\r\n\t\tcase ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default alertsReducer;\r\n","import {\r\n\tPOST_CREATE,\r\n\tGET_POST,\r\n\tGET_ALL_POST,\r\n\tUPDATE_POST,\r\n\tDELETE_POST,\r\n\tTOGGLE_CREATE_POST,\r\n\tTOGGLE_EDIT_POST,\r\n\tADD_COMMENT,\r\n\tDELETE_COMMENT,\r\n\tPOST_RESET,\r\n\tSEARCH_POSTS,\r\n\tPOST_ERROR,\r\n\tLOADING_SUBMIT_POST,\r\n\tPOST_NEXT_PAGE,\r\n\tCLEAR_POST,\r\n\tGET_POST_ERROR\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tloading: true,\r\n\tpostLoading: true,\r\n\tposts: [],\r\n\tpost: null,\r\n\tedit: false,\r\n\tpostEdit: false,\r\n\ttotalPages: null,\r\n\tpostError: false\r\n};\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase LOADING_SUBMIT_POST:\r\n\t\t\treturn { ...state, loading: true, postLoading: true };\r\n\t\tcase CLEAR_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpost: null,\r\n\t\t\t};\r\n\t\tcase POST_RESET:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tposts: [],\r\n\t\t\t\tpost: null,\r\n\t\t\t\ttotalPages: null,\r\n\t\t\t\tpostError: false\r\n\t\t\t};\r\n\t\tcase TOGGLE_CREATE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: !state.edit,\r\n\t\t\t};\r\n\t\tcase TOGGLE_EDIT_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: !state.postEdit,\r\n\t\t\t};\r\n\t\tcase POST_CREATE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tposts: [payload, ...state.posts],\r\n\t\t\t};\r\n\t\tcase GET_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tpost: payload,\r\n\t\t\t\tpostError: false\r\n\t\t\t};\r\n\t\tcase GET_ALL_POST:\r\n\t\tcase SEARCH_POSTS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tpost: null,\r\n\t\t\t\tposts: payload.posts,\r\n\t\t\t\ttotalPages: Math.ceil(payload.numPosts / payload.limit),\r\n\t\t\t};\r\n\t\tcase POST_NEXT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tposts: [...state.posts, ...payload.posts]\r\n\t\t\t};\r\n\t\tcase UPDATE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tpost: payload,\r\n\t\t\t};\r\n\r\n\t\tcase DELETE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpost: null,\r\n\t\t\t\tpostLoading: true,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ADD_COMMENT:\r\n\t\tcase DELETE_COMMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpost: {\r\n\t\t\t\t\t...state.post,\r\n\t\t\t\t\t...payload,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\tcase POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase GET_POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\ttotalPages: null,\r\n\t\t\t\tpostError: true\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default postReducer;\r\n","import { ON_CHANGE } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\t// This state is for creating/editing announcements,post and comments\r\n\t// For the current editor on page\r\n\t// ONLY one editor per page!\r\n\tcontentState: {},\r\n};\r\n\r\nconst textEditorReducer = (state = initialState, action) => {\r\n\tconst { payload, type } = action;\r\n\tswitch (type) {\r\n\t\tcase ON_CHANGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcontentState: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default textEditorReducer;\r\n","import {\r\n\tTOGGLE_CREATE_ANNOUNCEMENT,\r\n\tCREATE_ANNOUNCEMENT,\r\n\tGET_ALL_ANNOUNCEMENT,\r\n\tDELETE_ANNOUNCEMENT,\r\n\tUPDATE_ANNOUNCEMENT,\r\n\tLOADING_ANNOUNCEMENT_SUBMIT,\r\n\tANNOUNCEMENT_ERROR,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tloading: true,\r\n\tedit: false,\r\n\tannouncements: [],\r\n};\r\n\r\nconst announcementReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase ANNOUNCEMENT_ERROR:\r\n\t\t\treturn { ...state, loading: false };\r\n\t\tcase LOADING_ANNOUNCEMENT_SUBMIT:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase TOGGLE_CREATE_ANNOUNCEMENT:\r\n\t\t\treturn { ...state, edit: !state.edit };\r\n\t\tcase CREATE_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tannouncements: [payload, ...state.announcements],\r\n\t\t\t};\r\n\t\tcase UPDATE_ANNOUNCEMENT:\r\n\t\t\tconst filterAnnouncement = state.announcements.filter(\r\n\t\t\t\t(el) => payload._id !== el._id\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tannouncements: [payload, ...filterAnnouncement], //top of array\r\n\t\t\t};\r\n\t\tcase DELETE_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tannouncements: state.announcements.filter((el) => payload !== el._id),\r\n\t\t\t};\r\n\t\tcase GET_ALL_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tannouncements: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default announcementReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport users from \"./users\";\r\nimport auth from \"./auth\";\r\nimport alerts from \"./alerts\";\r\nimport post from \"./post\";\r\nimport textEditor from \"./textEditor\";\r\nimport announcements from \"./announcements\";\r\n\r\nconst reducers = combineReducers({\r\n\tusers,\r\n\tannouncements,\r\n\tpost,\r\n\tauth,\r\n\talerts,\r\n\ttextEditor,\r\n});\r\n\r\nexport default reducers;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nexport const middleware = [thunk];\r\nexport const composeEnhancers = composeWithDevTools({ trace: true }); //allows tracing\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n\r\n// REDUX\r\n// 1) Set up store store = createStore(rootReducer, initialState, compose(applyMiddleware(...middleware)))\r\n// 2) Add provider and parameter store inside it, inside app.js\r\n// 3) create rootReducer that uses combineReducer\r\n// 4) Create reducer with initial state, action ---- action takes in a type and pay load /// Add switch case statement for each cases that return a payload from actions\r\n// 5) To make sure strings are immutable, store types into a variable in a file under the folder actions/types\r\n// 6) Create action with argument of dispatch and using thunk, add arguments to be used in the payload.\r\n// 7) Go to component that will use the action and add connect()(Component). --- it takes in connect(mapStateToProps?, mapDispatchToProps?, mergeProps?, options?)\r\n// 8) Add proptypes of Component and inside, the actions you imported: 'pt/f/r' and then use actions passing in the arguments required.\r\n// 9) Create a component for the action by adding connect with mapStateToProps, creating the function that passes a state --- this is done through connect and root reducer.\r\n// 10) Now have access to the state and can include conditionals of what to display/input based on state.\r\n// 11) Add component and it should work\r\n","const scrollToTop = () => {\r\n\tdocument.body.scrollTop = 0;\r\n\tdocument.documentElement.scrollTop = 0;\r\n};\r\n\r\nexport default scrollToTop;\r\n","import { SET_ALERT, RESET_ALERT } from \"./types\";\r\nimport scrollToTop from \"../utils/scrollToTop\";\r\n\r\nexport const setAlert = (msg, alertType) => (dispatch) => {\r\n\t// Dispatch alert message\r\n\tdispatch({\r\n\t\ttype: SET_ALERT,\r\n\t\tpayload: { msg, alertType },\r\n\t});\r\n\t// Scroll to top of page\r\n\tscrollToTop();\r\n};\r\n\r\nexport const resetAlert = () => (dispatch) => {\r\n\tdispatch({ type: RESET_ALERT });\r\n};\r\n","import { setAlert } from \"../actions/alerts\";\r\nimport {\r\n\tERROR,\r\n\tPOST_ERROR,\r\n\tANNOUNCEMENT_ERROR,\r\n\tAUTH_ERROR,\r\n\tUPDATE_FAILED,\r\n\tUSER_ERROR,\r\n\tGET_POST_ERROR,\r\n\tLOGOUT\r\n} from \"../actions/types\";\r\nimport { logoutUser } from \"../actions/auth\";\r\n\r\n// So when only one argument is provided, it will be fn\r\nconst catchAsync = (type, fn = type) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait fn(dispatch).catch(async (err) => {\r\n\t\t\t// If server fails logout user\r\n\t\t\tif (err.response.status === 500) return dispatch({ type: LOGOUT })\r\n\t\t\t\r\n\t\t\t// The types handles when loading is still true\r\n\t\t\tif (err.response.data.message) dispatch(setAlert(err.response.data.message, \"fail\"));\r\n\t\t\tif (type === \"post\") dispatch({ type: POST_ERROR });\r\n\t\t\tif (type === \"getpost\") dispatch({ type: GET_POST_ERROR });\r\n\t\t\tif (type === \"auth\") dispatch({ type: AUTH_ERROR });\r\n\t\t\tif (type === \"update\") dispatch({ type: UPDATE_FAILED });\r\n\t\t\tif (type === \"announcement\") dispatch({ type: ANNOUNCEMENT_ERROR });\r\n\t\t\tif (type === \"user\") dispatch({ type: USER_ERROR });\r\n\t\t\t// Log user out if deactivated --- 401 Unauthorized\r\n\t\t\t// Log out user if roles changed --- 403  Forbidden\r\n\t\t\tif (err.response.status === 401 || err.response.status === 403) {\r\n\t\t\t\t// Remove the cookie\r\n\t\t\t\tawait dispatch(logoutUser());\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ERROR,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tmsg: err.response.data.message,\r\n\t\t\t\t\tstatus: err.response.status,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n};\r\n\r\nexport default catchAsync;","import axios from \"axios\";\r\nimport {\r\n\tLOGIN_SUCCESS,\r\n\tCLEAR_LOGIN,\r\n\tLOGOUT,\r\n\tAUTH_ERROR,\r\n\tFORGOT_PASSWORD,\r\n\tLOADING_AUTH,\r\n\tRESET_PASSWORD,\r\n\tCHANGE_PASSWORD,\r\n} from \"../actions/types\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\nimport { resetAlert, setAlert } from \"./alerts\";\r\n\r\nexport const loginUser = ({ formData, history }) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Need to be in every post/put/patch action with alert\r\n\t\t// If request fails there may be an alert for the error\r\n\t\tdispatch(resetAlert());\r\n\t\t// ENSURE auth is empty and change loading state to true\r\n\t\tdispatch({ type: CLEAR_LOGIN });\r\n\t\t// Send login form\r\n\t\tconst res = await axios.post(\"/api/auth/login\", formData);\r\n\t\t// Dispatch login action authenticating user\r\n\t\t// Change login state to false\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\t// Navigate user to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t});\r\n\r\nexport const checkUser = () => async (dispatch) => {\r\n\ttry {\r\n\t\t// Check if user is logged in at the start of the app\r\n\t\tconst res = await axios.get(\"/api/auth/checkUser\");\r\n\t\t// Log user in if user has a JWT cookie from browser client\r\n\t\tconst user = res.data;\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: user,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// If not logged in, dispatch authenticate error action\r\n\t\tdispatch({ type: AUTH_ERROR });\r\n\t}\r\n};\r\n\r\nexport const logoutUser = () =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// ENSURE auth is empty and change loading state to true\r\n\t\tdispatch({ type: CLEAR_LOGIN });\r\n\t\t// Make request to logout user\r\n\t\tawait axios.get(\"/api/auth/logout\");\r\n\t\t// Dispatch logout action and change loading state to false\r\n\t\tdispatch({ type: LOGOUT });\r\n\t});\r\n\r\nexport const forgotPassword = (email, url) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Reset any previous alert that may be set\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tawait axios.post(\"/api/auth/forgotPassword\", { email, url });\r\n\t\t// Change loading state to false due to forgot password\r\n\t\tdispatch({ type: FORGOT_PASSWORD });\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t\"Success! Please check your email to reset your password.\",\r\n\t\t\t\t\"success\"\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\nexport const resetPassword = ({ password, resetToken, history }) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Clear any previous alert that may be set\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tconst res = await axios.patch(`/api/auth/resetPassword/${resetToken}`, {\r\n\t\t\tpassword,\r\n\t\t});\r\n\t\t// Authenticate user details and change loading state to false\r\n\t\tdispatch({ type: RESET_PASSWORD, payload: res.data });\r\n\t\t// Navigate user to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Success! New passsword has been set.\", \"success\"));\r\n\t});\r\n\r\nexport const changePassword = ({\r\n\tformData: { currentPassword, newPassword },\r\n\thistory,\r\n}) =>\r\n\tcatchAsync(\"update\", async (dispatch) => {\r\n\t\t// Clear any previous alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tconst res = await axios.post(`/api/users/updatePassword`, {\r\n\t\t\tcurrentPassword,\r\n\t\t\tnewPassword,\r\n\t\t});\r\n\t\t// Change loading state to false\r\n\t\tdispatch({ type: CHANGE_PASSWORD, payload: res.data });\r\n\t\t// Navigate user back to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Success! Password changed.\", \"success\"));\r\n\t});\r\n","export default __webpack_public_path__ + \"static/media/logo.f70f221d.png\";","import PropTypes from \"prop-types\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logoutUser } from \"../../actions/auth\";\r\nimport logo from \"../../img/logo.png\";\r\n\r\nexport const Navbar = ({ auth: { isAuthenticated }, logoutUser }) => {\r\n\tconst [nav, setNav] = useState(false);\r\n\tconst toggleNav = () => setNav(!nav);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ul className={`Navbar ${!isAuthenticated ? \"Navbar-withLogin\" : \"\"}`}>\r\n\t\t\t\t\t<div className=\"Navbar__left\">\r\n\t\t\t\t\t\t<Link to=\"/\" style={{ textDecoration: \"none\" }}> \r\n\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t<img className=\"Navbar__logo\" src={logo} alt=\"logo\" />\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<div className=\"Navbar__header\">\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item Navbar__header-text\">\r\n\t\t\t\t\t\t\t\tSouthern River Toastmasters\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item Navbar__header-caption\">\r\n\t\t\t\t\t\t\t\tA President Distinguished Club\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tname=\"checkbox\"\r\n\t\t\t\t\t\t\tid=\"hamburger\"\r\n\t\t\t\t\t\t\tchecked={nav}\r\n\t\t\t\t\t\t\tonChange={toggleNav}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{isAuthenticated && (\r\n\t\t\t\t\t\t\t<label htmlFor=\"hamburger\" className=\"Navbar__button\">\r\n\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t<div className=\"Navbar__right\">\r\n\t\t\t\t\t{isAuthenticated ? (\r\n\t\t\t\t\t\t<ul id=\"nav\" className={nav ? \"Navbar__open\" : \"Navbar__closed\"}>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/dashboard\">\r\n\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/discussion\">\r\n\t\t\t\t\t\t\t\t\tDiscussion\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/members\">\r\n\t\t\t\t\t\t\t\t\tMembers\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tto=\"/login\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\ttoggleNav();\r\n\t\t\t\t\t\t\t\t\t\tlogoutUser();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t<Link className=\"Navbar__link\" to=\"/login\">\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</ul>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nNavbar.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tlogoutUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logoutUser })(Navbar);\r\n","import React from \"react\";\r\n\r\nexport const Container = ({ children }) => {\r\n\treturn <div className=\"Container\">{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Alert = ({ msg, alertType, error }) => {\r\n\treturn (\r\n\t\talertType !== null && (\r\n\t\t\t<div className={`Alert Alert__${alertType}`}>\r\n\t\t\t\t<strong>{alertType === \"fail\" ? \"Warning: \" : \"Success: \"}</strong>\r\n\t\t\t\t{Object.keys(error).length === 0 ? msg.map((alert) => (\r\n\t\t\t\t\t<p key={alert}>{alert} </p>\r\n\t\t\t\t)) : <p key={error.status}>{error.msg}</p>}\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nAlert.propTypes = {\r\n\tmsg: PropTypes.array.isRequired,\r\n\talertType: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tmsg: state.alerts.msg,\r\n\talertType: state.alerts.alertType,\r\n\terror: state.alerts.error\r\n});\r\n\r\nexport default connect(mapStateToProps)(Alert);\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { resetAlert } from '../../actions/alerts';\r\nimport Container from '../layout/Container';\r\nimport Alert from '../layout/Alert';\r\n\r\nconst NewRoute = ({ resetAlert, component: Component, ...rest }) => {\r\n\t//\r\n\t//\r\n\t// Added resetAlert here so whenever component is rendered, it removes existing Alerts.\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props => (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t{resetAlert()}\r\n\t\t\t\t\t<Alert />\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t</Container>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nNewRoute.propTypes = {\r\n\tresetAlert: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(\r\n\tnull,\r\n\t{ resetAlert }\r\n)(NewRoute);\r\n","export default \"data:image/gif;base64,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\"","import React, { Fragment } from \"react\";\r\nimport spinner from \"../../img/spinner.gif\";\r\n\r\nconst Spinner = () => (\r\n\t<Fragment>\r\n\t\t<img\r\n\t\t\tsrc={spinner}\r\n\t\t\tstyle={{ width: \"150px\", margin: \"20% auto 0 auto\", display: \"block\" }}\r\n\t\t\talt=\"Loading...\"\r\n\t\t/>\r\n\t</Fragment>\r\n);\r\n\r\nexport default Spinner;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport NewRoute from './NewRoute';\r\nimport Spinner from '../utils/Spinner';\r\nimport Container from '../layout/Container';\r\nimport { logoutUser } from '../../actions/auth';\r\n\r\nconst PrivateRoute = ({\r\n\tauth: { isAuthenticated, currentUser, loading },\r\n\tcomponent: Component,\r\n\tlogoutUser,\r\n\t...rest //refers to exact,path and other props\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\t// if unactive user is logged in\r\n\t\tif (currentUser && !currentUser.active) logoutUser();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn !isAuthenticated && !loading ? (\r\n\t\t<Redirect to=\"/login\" />\r\n\t) : !loading ? (\r\n\t\t<NewRoute {...rest} component={Component} />\r\n\t) : (\r\n\t\t<Container>\r\n\t\t\t<Spinner />\r\n\t\t</Container>\r\n\t);\r\n};\r\n//...rest takes in the rest of the object/ props passed on to component\r\n\r\nPrivateRoute.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tlogoutUser: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ logoutUser }\r\n)(PrivateRoute);\r\n","import { useState } from \"react\";\r\n\r\nconst useForms = (blankForm, action, args) => {\r\n\tconst [formData, setFormData] = useState({ ...blankForm });\r\n\r\n\treturn {\r\n\t\tformData,\r\n\t\thandleChange: (e) => {\r\n\t\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t\t},\r\n\t\thandleSubmit: (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\taction({ formData, ...args });\r\n\t\t\tsetFormData({ ...blankForm });\r\n\t\t},\r\n\t\thandleCancel: () => {\r\n\t\t\tsetFormData({ ...blankForm });\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default useForms;\r\n","import axios from \"axios\";\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  UPDATE_ME,\r\n  LOADING_AUTH,\r\n  GET_ALL_USERS,\r\n  TOGGLE_MODERATOR,\r\n  DEACTIVATE_USER,\r\n  ACTIVATE_USER,\r\n  LOADING_USER,\r\n  MAKE_COMMITTEE,\r\n  REMOVE_COMMITTEE,\r\n} from \"../actions/types\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\nexport const registerUser = ({ formData, url }) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Reset alert if there is register user error alert\r\n    dispatch(resetAlert());\r\n    // Deploy loading screen\r\n    dispatch({ type: LOADING_USER });\r\n    // send form data and current page url to send link with jwt token to user email\r\n    const res = await axios.post(\"/api/users/register\", { ...formData, url });\r\n    // dispatch register action\r\n    dispatch({ type: REGISTER_SUCCESS, payload: res.data });\r\n\r\n    // send alert to user\r\n    dispatch(\r\n      setAlert(\r\n        `${formData.firstName} ${formData.lastName} was successfully registered and temporary password sent to user's email`,\r\n        \"success\"\r\n      )\r\n    );\r\n  });\r\n\r\nexport const updateMe = ({ formData, file, history }) =>\r\n  catchAsync(\"update\", async (dispatch) => {\r\n    // Reset alert if there was error\r\n    dispatch(resetAlert());\r\n    // Deploy loading screen\r\n    dispatch({ type: LOADING_AUTH });\r\n    if (file) {\r\n      // Send request for aws s3 url config\r\n      const uploadConfig = await axios.post(\"/api/upload\", { type: file.type });\r\n      // Upload photo to AWS S3 bucket\r\n      await axios.put(uploadConfig.data.url, file, {\r\n        headers: {\r\n          \"Content-Type\": file.type,\r\n        },\r\n      });\r\n      // Set photo link to update user details\r\n      formData.photo = `https://toastmaster-user-photo.s3-ap-southeast-2.amazonaws.com/${uploadConfig.data.key}`;\r\n    }\r\n    // Send updated user details\r\n    const res = await axios.patch(\"/api/users/updateMe\", formData);\r\n    // Dispatch updated user details\r\n    dispatch({\r\n      type: UPDATE_ME,\r\n      payload: res.data,\r\n    });\r\n    // Navigate user  back to dashboard\r\n    history.push(\"/dashboard\");\r\n    // Send alert to user that details as updated\r\n    dispatch(setAlert(\"User updated\", \"success\"));\r\n  });\r\n\r\nexport const getAllUsers = () =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Send request to get all user sorted by first name\r\n    const res = await axios.get(`/api/users?sort=firstName`);\r\n\r\n    // Dispatch results to redux state\r\n    dispatch({\r\n      type: GET_ALL_USERS,\r\n      payload: res.data,\r\n    });\r\n  });\r\n\r\nexport const toggleView = () => (dispatch) =>\r\n  // Change view state if user is committee or admin\r\n  dispatch({ type: TOGGLE_MODERATOR });\r\n\r\nexport const deActivateUser = (userId) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Remove any previous alert or alert from error\r\n    dispatch(resetAlert());\r\n    // Dispatch loading page\r\n    dispatch({ type: LOADING_USER });\r\n    // Send request to deactivate user\r\n    const res = await axios.patch(`/api/users/deActivateUser/${userId}`);\r\n    // Dispatch deactivate user action\r\n    dispatch({ type: DEACTIVATE_USER, payload: res.data });\r\n    // Dispatch user deactivation to current user\r\n    dispatch(\r\n      setAlert(\r\n        `${res.data.firstName} ${res.data.lastName} has been deactivated!`,\r\n        \"success\"\r\n      )\r\n    );\r\n  });\r\n\r\nexport const activateUser = (userId) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Reset any previous alerts possibly from error alert\r\n    dispatch(resetAlert());\r\n    // Dispatch loading page\r\n    dispatch({ type: LOADING_USER });\r\n    // Make request to reactivate user\r\n    const res = await axios.patch(`/api/users/activateUser/${userId}`);\r\n    // Dispatch new user details to user list\r\n    dispatch({ type: ACTIVATE_USER, payload: res.data });\r\n    // Dispatch success alert to user\r\n    dispatch(\r\n      setAlert(\r\n        `${res.data.firstName} ${res.data.lastName} has been activated!`,\r\n        \"success\"\r\n      )\r\n    );\r\n  });\r\n\r\nexport const changeRole = (userId, isCommittee) =>\r\n  catchAsync(\"user\", async (dispatch) => {\r\n    // Remove and previous alert possible from errors\r\n    dispatch(resetAlert());\r\n    // Dispatch loading page\r\n    dispatch({ type: LOADING_USER });\r\n    if (isCommittee === \"true\") {\r\n      // Make request to promote non-committee user\r\n      const res = await axios.patch(`/api/users/makeCommittee/${userId}`);\r\n      // Dispatch updated user detail to user list\r\n      dispatch({ type: MAKE_COMMITTEE, payload: res.data });\r\n      // Dispatch alert to user\r\n      dispatch(\r\n        setAlert(\r\n          `${res.data.firstName} ${res.data.lastName} is now a committee member`,\r\n          \"success\"\r\n        )\r\n      );\r\n    } else {\r\n      // Make request to demote a committee member\r\n      const res = await axios.patch(`/api/users/removeCommittee/${userId}`);\r\n      // Dispatch updated user detail to user list\r\n      dispatch({ type: REMOVE_COMMITTEE, payload: res.data });\r\n      // Dispatch alert to user\r\n      dispatch(\r\n        setAlert(\r\n          `${res.data.firstName} ${res.data.lastName} is back to a normal member`,\r\n          \"success\"\r\n        )\r\n      );\r\n    }\r\n  });\r\n","import React from \"react\";\r\nimport { MdEmail } from \"react-icons/md\";\r\nimport { FaUserTimes, FaUserPlus } from \"react-icons/fa\";\r\nimport { faker } from \"@faker-js/faker\";\r\n\r\nexport const Members = ({\r\n  user,\r\n  Moderator,\r\n  active,\r\n  deActivateUser,\r\n  activateUser,\r\n  currentUser,\r\n  changeRole,\r\n}) => {\r\n  return (\r\n    <tr key={user._id} className=\"MemberList__member\">\r\n      <td>\r\n        <img\r\n          className=\"MemberList__member-photo\"\r\n          src={user.photo || faker.image.avatar()}\r\n          alt=\"user avatar\"\r\n        />\r\n      </td>\r\n      <td>\r\n        <span className=\"MemberList__member-name\">{user.firstName}</span>\r\n      </td>\r\n      <td>\r\n        <span className=\"MemberList__member-name\">{user.lastName}</span>\r\n      </td>\r\n      {(Moderator || active) && (\r\n        <td>\r\n          <span\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <a\r\n              href={`mailto:${user.email}`}\r\n              target=\"_top\"\r\n              className=\"MemberList__member-email\"\r\n            >\r\n              <MdEmail />\r\n            </a>\r\n            {user.email}\r\n          </span>\r\n        </td>\r\n      )}\r\n      {Moderator && currentUser.role === \"admin\" && active && (\r\n        <td>\r\n          <select\r\n            defaultValue={user.role === \"committee\" || user.role === \"admin\"}\r\n            onChange={(e) => changeRole(user._id, e.target.value)}\r\n          >\r\n            <option value={true}>Yes</option>\r\n            <option value={false}>No</option>\r\n          </select>\r\n        </td>\r\n      )}\r\n      {Moderator &&\r\n        (active ? (\r\n          <td>\r\n            <button\r\n              className=\"btn btn__delete-xs\"\r\n              onClick={() => deActivateUser(user._id)}\r\n            >\r\n              <FaUserTimes className=\"MemberList__deactivate\" />\r\n            </button>\r\n          </td>\r\n        ) : (\r\n          <td>\r\n            <button className=\"btn btn__activate-xs\">\r\n              <FaUserPlus\r\n                className=\"MemberList__activate\"\r\n                onClick={() => activateUser(user._id)}\r\n              />\r\n            </button>\r\n          </td>\r\n        ))}\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Members;\r\n","import React, { useEffect } from 'react';\r\nimport Members from './Members';\r\n\r\nconst Table = ({\r\n\tusers,\r\n\tModerator,\r\n\tactive,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tcurrentUser,\r\n\tsetActive,\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangeRole\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tif (users.length === 0) {\r\n\t\t\tresetAlert();\r\n\t\t\tsetActive(true);\r\n\t\t\tsetAlert('Currently there are no unactive users', 'fail');\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [users]);\r\n\treturn (\r\n\t\t<table className=\"MemberList__list\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Photo</th>\r\n\t\t\t\t\t<th>First Name</th>\r\n\t\t\t\t\t<th>Last Name</th>\r\n\t\t\t\t\t{(Moderator || active) && <th>Email</th>}\r\n\t\t\t\t\t{Moderator && currentUser.role === 'admin' && active && (\r\n\t\t\t\t\t\t<th>Committee</th>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{Moderator && (active ? <th>Deactivate</th> : <th>Activate</th>)}\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users.map(user => (\r\n\t\t\t\t\t<Members\r\n\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\tModerator={Moderator}\r\n\t\t\t\t\t\tactive={active}\r\n\t\t\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\tchangeRole={changeRole}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default Table;\r\n","import { faker } from \"@faker-js/faker\";\r\nimport React, { useEffect } from \"react\";\r\nimport { MdEmail } from \"react-icons/md\";\r\n\r\nconst SmallList = ({\r\n  users,\r\n  Moderator,\r\n  active,\r\n  deActivateUser,\r\n  activateUser,\r\n  currentUser,\r\n  setActive,\r\n  setAlert,\r\n  resetAlert,\r\n  changeRole,\r\n}) => {\r\n  useEffect(() => {\r\n    if (users.length === 0) {\r\n      resetAlert();\r\n      setActive(true);\r\n      setAlert(\"Currently there are no unactive users\", \"fail\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [users]);\r\n\r\n  return (\r\n    <div className=\"SmallList\">\r\n      {users.map((user) => (\r\n        <div className=\"SmallList__user\" key={user._id}>\r\n          <img\r\n            className=\"SmallList__photo\"\r\n            src={user.photo || faker.image.avatar()}\r\n            alt=\"avatar\"\r\n          />\r\n          <div className=\"SmallList__body\">\r\n            <div className=\"SmallList__details\">\r\n              <span className=\"SmallList__name\">\r\n                {user.firstName}&nbsp;{user.lastName}\r\n              </span>\r\n              {(active || Moderator) && (\r\n                <a\r\n                  className=\"SmallList__email\"\r\n                  href={`mailto:${user.email}`}\r\n                  target=\"_top\"\r\n                >\r\n                  <MdEmail />\r\n                  <span>{user.email}</span>\r\n                </a>\r\n              )}\r\n            </div>\r\n            {Moderator && (\r\n              <div className=\"SmallList__moderator\">\r\n                {Moderator && currentUser.role === \"admin\" && active && (\r\n                  <div className=\"SmallList__committee\">\r\n                    <strong>Committee</strong>\r\n                    <select\r\n                      defaultValue={\r\n                        user.role === \"committee\" || user.role === \"admin\"\r\n                      }\r\n                      onChange={(e) => changeRole(user._id, e.target.value)}\r\n                    >\r\n                      <option value={true}>Yes</option>\r\n                      <option value={false}>No</option>\r\n                    </select>\r\n                  </div>\r\n                )}\r\n                {active ? (\r\n                  <div\r\n                    className=\"SmallList__deactivate\"\r\n                    onClick={() => deActivateUser(user._id)}\r\n                  >\r\n                    Deactivate\r\n                  </div>\r\n                ) : (\r\n                  <div\r\n                    className=\"SmallList__activate\"\r\n                    onClick={() => activateUser(user._id)}\r\n                  >\r\n                    Activate\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SmallList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n\tgetAllUsers,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tchangeRole\r\n} from '../../../actions/users';\r\nimport { setAlert, resetAlert } from '../../../actions/alerts';\r\nimport Spinner from '../../utils/Spinner';\r\nimport Table from './Table';\r\nimport SmallList from './SmallList';\r\n\r\nexport const MemberList = ({\r\n\tgetAllUsers,\r\n\tusers: { users, loading, Moderator },\r\n\tauth: { currentUser },\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangeRole\r\n}) => {\r\n\tconst [active, setActive] = useState(true);\r\n\tuseEffect(() => {\r\n\t\tgetAllUsers(active);\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst activeUsers = users.filter(user => user.active === true);\r\n\tconst unActiveUsers = users.filter(user => user.active === false);\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"MemberList\">\r\n\t\t\t<h1 className=\"MemberList__title\">Member List</h1>\r\n\t\t\t<div className=\"MemberList__top\">\r\n\t\t\t\t<Link className=\"MemberList__register\" to=\"/register\">\r\n\t\t\t\t\t{Moderator && <button className=\"btn\">Register User</button>}\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<div className=\"MemberList__switch\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tname=\"users\"\r\n\t\t\t\t\t\tid=\"active\"\r\n\t\t\t\t\t\tonChange={() => setActive(!active)}\r\n\t\t\t\t\t\tchecked={active}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"active\">Active</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tname=\"users\"\r\n\t\t\t\t\t\tid=\"unactive\"\r\n\t\t\t\t\t\tonChange={() => setActive(!active)}\r\n\t\t\t\t\t\tchecked={!active}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"unactive\">Unactive</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* // window.screen.width doesnt take into account the landscape of phone and thus wont rerender, better to use css */}\r\n\t\t\t<Table\r\n\t\t\t\tModerator={Moderator}\r\n\t\t\t\tusers={active ? activeUsers : unActiveUsers}\r\n\t\t\t\tactive={active}\r\n\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\tsetActive={setActive}\r\n\t\t\t\tsetAlert={setAlert}\r\n\t\t\t\tresetAlert={resetAlert}\r\n\t\t\t\tchangeRole={changeRole}\r\n\t\t\t/>\r\n\t\t\t<SmallList\r\n\t\t\t\tclassName=\"MemberList__smallList\"\r\n\t\t\t\tModerator={Moderator}\r\n\t\t\t\tusers={active ? activeUsers : unActiveUsers}\r\n\t\t\t\tactive={active}\r\n\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\tsetActive={setActive}\r\n\t\t\t\tsetAlert={setAlert}\r\n\t\t\t\tresetAlert={resetAlert}\r\n\t\t\t\tchangeRole={changeRole}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nMemberList.propTypes = {\r\n\tgetAllUsers: PropTypes.func.isRequired,\r\n\tusers: PropTypes.object.isRequired,\r\n\tdeActivateUser: PropTypes.func.isRequired,\r\n\tactivateUser: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tchangeRole: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tusers: state.users,\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tgetAllUsers,\r\n\t\tdeActivateUser,\r\n\t\tactivateUser,\r\n\t\tsetAlert,\r\n\t\tresetAlert,\r\n\t\tchangeRole\r\n\t}\r\n)(MemberList);\r\n","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport { GoFileMedia } from 'react-icons/go';\r\nimport img from '../../../../img/notfound.png';\r\n\r\nexport default class ImageAdd extends Component {\r\n\t// Start the popover closed\r\n\tstate = {\r\n\t\turl: '',\r\n\t\topen: false\r\n\t};\r\n\r\n\t// When the popover is open and users click anywhere on the page,\r\n\t// the popover should close\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('click', this.closePopover);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('click', this.closePopover);\r\n\t}\r\n\r\n\t// Note: make sure whenever a click happens within the popover it is not closed\r\n\tonPopoverClick = () => {\r\n\t\tthis.preventNextClose = true;\r\n\t};\r\n\r\n\topenPopover = () => {\r\n\t\tif (!this.state.open) {\r\n\t\t\tthis.preventNextClose = true;\r\n\t\t\tthis.setState({\r\n\t\t\t\topen: true\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tclosePopover = () => {\r\n\t\tif (!this.preventNextClose && this.state.open) {\r\n\t\t\tthis.setState({\r\n\t\t\t\topen: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.preventNextClose = false;\r\n\t};\r\n\r\n\taddImage = () => {\r\n\t\tlet image = img;\r\n\t\tconst imageFiles = ['jpeg', 'jpg', 'gif', 'png'];\r\n\r\n\t\tif (imageFiles.some(el => this.state.url.includes(el))) {\r\n\t\t\timage = this.state.url;\r\n\t\t}\r\n\t\tconst { editorState, onChange } = this.props;\r\n\t\tonChange(this.props.modifier(editorState, image));\r\n\t};\r\n\r\n\tchangeUrl = evt => {\r\n\t\tthis.setState({ url: evt.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst popoverClassName = this.state.open\r\n\t\t\t? 'RichEditor__addImage-addImagePopover'\r\n\t\t\t: 'RichEditor__addImage-addImageClosedPopover';\r\n\t\tconst buttonClassName = this.state.open\r\n\t\t\t? 'RichEditor-styleButton RichEditor-activeButton'\r\n\t\t\t: 'RichEditor-styleButton';\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"RichEditor__addImage\">\r\n\t\t\t\t<GoFileMedia\r\n\t\t\t\t\tstyle={{ fontSize: '2rem' }}\r\n\t\t\t\t\tclassName={buttonClassName}\r\n\t\t\t\t\tonMouseUp={this.openPopover}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={popoverClassName} onClick={this.onPopoverClick}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Paste the image url …\"\r\n\t\t\t\t\t\tclassName=\"RichEditor__addImage-addImageInput\"\r\n\t\t\t\t\t\tonChange={this.changeUrl}\r\n\t\t\t\t\t\tvalue={this.state.url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"RichEditor__addImage-addImageConfirmButton\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={this.addImage}>\r\n\t\t\t\t\t\tAdd\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { CompositeDecorator } from \"draft-js\";\r\n\r\nconst getPluginDecoratorArray = (listOfPlugins) => {\r\n\tlet decorators = [];\r\n\tlet plugin;\r\n\t// check each plugin that will be used in the editor for decorators\r\n\t// (retrieve listOfPlugins however makes sense in your code)\r\n\tfor (plugin of listOfPlugins) {\r\n\t\tif (plugin.decorators !== null && plugin.decorators !== undefined) {\r\n\t\t\t// if the plugin has any decorators, add them to a list of all decorators from all plugins\r\n\t\t\tdecorators = decorators.concat(plugin.decorators);\r\n\t\t}\r\n\t}\r\n\treturn decorators;\r\n};\r\n\r\nconst pluginDecorator = (listOfPlugins) => {\r\n\t// I can't quite remember why I had to wrap things in this exact way, but found that I ran into\r\n\t// errors if I did not both have a MultiDecorator and a CompositeDecorator wrapping\r\n\treturn new CompositeDecorator(getPluginDecoratorArray(listOfPlugins))\r\n\t\r\n};\r\n\r\nexport default pluginDecorator;\r\n","import { ON_CHANGE } from \"./types\";\r\n// This state is for creating/editing announcements,post and comments\r\n// For the current editor on page\r\n// ONLY one editor per page!\r\nexport const onChange = (editorState) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: ON_CHANGE,\r\n\t\tpayload: editorState,\r\n\t});\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { IoMdQuote } from 'react-icons/io';\r\nimport { GoListOrdered, GoListUnordered } from 'react-icons/go';\r\nimport { FaBold, FaItalic, FaUnderline } from 'react-icons/fa';\r\nimport Editor, { composeDecorators } from '@draft-js-plugins/editor';\r\nimport createLinkifyPlugin from '@draft-js-plugins/linkify';\r\nimport createImagePlugin from '@draft-js-plugins/image';\r\nimport createFocusPlugin from '@draft-js-plugins/focus';\r\nimport createBlockDndPlugin from '@draft-js-plugins/drag-n-drop';\r\nimport createResizeablePlugin from '@draft-js-plugins/resizeable';\r\nimport {\r\n\tconvertToRaw,\r\n\tconvertFromRaw,\r\n\tEditorState,\r\n\tRichUtils,\r\n\tgetDefaultKeyBinding,\r\n\tKeyBindingUtil,\r\n\tModifier\r\n} from 'draft-js';\r\nimport ImageAdd from './ImageAdd/ImageAdd';\r\nimport pluginDecorator from './pluginDecorator';\r\nimport { onChange } from '../../../actions/textEditor';\r\n\r\n// This fixes cannot delete child from node error when backspace of links\r\nconst HANDLED = 'handled';\r\nconst { hasCommandModifier } = KeyBindingUtil;\r\nconst linkifyPlugin = createLinkifyPlugin({\r\n\t//This gets rid of blockkey error warnings\r\n\tcomponent: ({ blockKey, ...rest }) => (\r\n\t\t// eslint-disable-next-line no-alert, jsx-a11y/anchor-has-content\r\n\t\t<a {...rest} blockkey={blockKey} target=\"_blank\" />\r\n\t)\r\n});\r\nconst focusPlugin = createFocusPlugin();\r\nconst blockDndPlugin = createBlockDndPlugin();\r\nconst resizeablePlugin = createResizeablePlugin();\r\nconst imageDecorator = composeDecorators(\r\n\tfocusPlugin.decorator,\r\n\tblockDndPlugin.decorator,\r\n\tresizeablePlugin.decorator\r\n);\r\nconst imagePlugin = createImagePlugin({ decorator: imageDecorator });\r\nconst listOfPlugins = [\r\n\tlinkifyPlugin,\r\n\tblockDndPlugin,\r\n\tresizeablePlugin,\r\n\tfocusPlugin,\r\n\timagePlugin\r\n];\r\nconst decorator = pluginDecorator(listOfPlugins);\r\n\r\nclass TextEditor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\teditorState: this.props.contentState\r\n\t\t\t\t? EditorState.createWithContent(\r\n\t\t\t\t\t\tconvertFromRaw(JSON.parse(this.props.contentState)),\r\n\t\t\t\t\t\tdecorator\r\n\t\t\t\t  )\r\n\t\t\t\t: EditorState.createEmpty(),\r\n\t\t\tplainText: ''\r\n\t\t}; //Always makes a new content whenever rendered\r\n\t}\r\n\tcomponentDidCatch() {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\r\n\tfocus = () => this.editor.focus();\r\n\r\n\tonChange = editorState => {\r\n\t\tthis.setState({\r\n\t\t\teditorState,\r\n\t\t\tplainText: this.state.editorState.getCurrentContent().getPlainText()\r\n\t\t});\r\n\t\tthis.props.onChange(\r\n\t\t\tconvertToRaw(editorState.getCurrentContent()) // Sends the content to redux state\r\n\t\t);\r\n\t};\r\n\r\n\thandleBeforeInput = (chars, editorState) => {\r\n\t\tconst currentContentState = editorState.getCurrentContent();\r\n\t\tconst selectionState = editorState.getSelection();\r\n\r\n\t\tthis.onChange(\r\n\t\t\tEditorState.push(\r\n\t\t\t\teditorState,\r\n\t\t\t\tModifier.replaceText(currentContentState, selectionState, chars)\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\treturn HANDLED;\r\n\t};\r\n\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\tmapKeyToEditorCommand = e => {\r\n\t\tif (e.keyCode === 83 /* `S` key */ && hasCommandModifier(e)) {\r\n\t\t\treturn 'myeditor-save';\r\n\t\t}\r\n\t\treturn getDefaultKeyBinding(e);\r\n\t};\r\n\ttoggleBlockType = blockType => {\r\n\t\tthis.onChange(RichUtils.toggleBlockType(this.state.editorState, blockType));\r\n\t};\r\n\ttoggleInlineStyle = inlineStyle => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleInlineStyle(this.state.editorState, inlineStyle)\r\n\t\t);\r\n\t};\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst text = this.state.plainText;\r\n\t\tif (text.length === 0) return;\r\n\t\t// prevent closure memory leak\r\n\t\tthis.props.handleSubmit(text);\r\n\t\tthis.setState({ editorState: EditorState.createEmpty() }); // Whenever submit is pressed, the current state of editor will reset\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { editorState } = this.state;\r\n\t\t// If the user changes block type before entering any text, we can\r\n\t\t// either style the placeholder or hide it. Let's just hide it now.\r\n\t\tlet className = 'RichEditor-editor';\r\n\t\tvar contentState = editorState.getCurrentContent();\r\n\t\tif (!contentState.hasText()) {\r\n\t\t\tif (\r\n\t\t\t\tcontentState\r\n\t\t\t\t\t.getBlockMap()\r\n\t\t\t\t\t.first()\r\n\t\t\t\t\t.getType() !== 'unstyled'\r\n\t\t\t) {\r\n\t\t\t\tclassName += ' RichEditor-hidePlaceholder';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"RichEditor-root\">\r\n\t\t\t\t\t<div className=\"RichEditor-root__controls\">\r\n\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={className} onClick={this.focus}>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tblockStyleFn={getBlockStyle}\r\n\t\t\t\t\t\t\t// handleBeforeInput={this.handleBeforeInput}\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\tkeyBindingFn={this.mapKeyToEditorCommand}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Write something...\"\r\n\t\t\t\t\t\t\tref={element => {\r\n\t\t\t\t\t\t\t\tthis.editor = element;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tspellCheck={true}\r\n\t\t\t\t\t\t\tplugins={listOfPlugins}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"btn btn__submit\" onClick={this.handleSubmit}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tnull,\r\n\t{ onChange }\r\n)(TextEditor);\r\n// Custom overrides for \"code\" style.\r\n\r\nfunction getBlockStyle(block) {\r\n\tswitch (block.getType()) {\r\n\t\tcase 'blockquote':\r\n\t\t\treturn 'RichEditor-blockquote';\r\n\t\tdefault:\r\n\t\t\treturn null;\r\n\t}\r\n}\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = e => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\trender() {\r\n\t\tlet className = 'RichEditor-styleButton';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' RichEditor-activeButton';\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<span className={className} onMouseDown={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{ label: 'H1', style: 'header-one' },\r\n\t{ label: 'H2', style: 'header-two' },\r\n\t{ label: 'H3', style: 'header-three' },\r\n\t{ label: <IoMdQuote />, style: 'blockquote' },\r\n\t{ label: <GoListUnordered />, style: 'unordered-list-item' },\r\n\t{\r\n\t\tlabel: <GoListOrdered />,\r\n\t\tstyle: 'ordered-list-item'\r\n\t}\r\n];\r\nconst BlockStyleControls = props => {\r\n\tconst { editorState, onChange } = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t\t.getCurrentContent()\r\n\t\t.getBlockForKey(selection.getStartKey())\r\n\t\t.getType();\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type, i) => (\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={`${type.label}-${i}`}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t\t<ImageAdd\r\n\t\t\t\teditorState={editorState}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\tmodifier={createImagePlugin().addImage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\nvar INLINE_STYLES = [\r\n\t{ label: <FaBold />, style: 'BOLD' },\r\n\t{ label: <FaItalic />, style: 'ITALIC' },\r\n\t{ label: <FaUnderline />, style: 'UNDERLINE' }\r\n];\r\nconst InlineStyleControls = props => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type, i) => (\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={`${type.label}-${i}`}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { EditorState, convertFromRaw } from 'draft-js';\r\nimport Editor, { composeDecorators } from '@draft-js-plugins/editor';\r\nimport createLinkifyPlugin from '@draft-js-plugins/linkify';\r\nimport createImagePlugin from '@draft-js-plugins/image';\r\nimport createFocusPlugin from '@draft-js-plugins/focus';\r\nimport createBlockDndPlugin from '@draft-js-plugins/drag-n-drop';\r\nimport createResizeablePlugin from '@draft-js-plugins/resizeable';\r\nimport pluginDecorator from './pluginDecorator';\r\n\r\nlet editor;\r\nconst linkifyPlugin = createLinkifyPlugin({\r\n\t//This gets rid of blockkey error warnings\r\n\tcomponent: ({ blockKey, ...rest }) => (\r\n\t\t// eslint-disable-next-line no-alert, jsx-a11y/anchor-has-content\r\n\t\t<a {...rest} blockkey={blockKey} target=\"_blank\" />\r\n\t)\r\n});\r\nconst focusPlugin = createFocusPlugin();\r\nconst blockDndPlugin = createBlockDndPlugin();\r\nconst resizeablePlugin = createResizeablePlugin();\r\nconst imageDecorator = composeDecorators(\r\n\tfocusPlugin.decorator,\r\n\tblockDndPlugin.decorator,\r\n\tresizeablePlugin.decorator\r\n);\r\nconst imagePlugin = createImagePlugin({ decorator: imageDecorator });\r\nconst listOfPlugins = [\r\n\tlinkifyPlugin,\r\n\tblockDndPlugin,\r\n\tresizeablePlugin,\r\n\tfocusPlugin,\r\n\timagePlugin\r\n];\r\nconst decorator = pluginDecorator(listOfPlugins);\r\n\r\nexport default class ReadOnly extends React.Component {\r\n\trender() {\r\n\t\tconst { contentState } = this.props;\r\n\t\tlet convertedState;\r\n\t\tif (contentState !== null) {\r\n\t\t\tconvertedState = EditorState.createWithContent(\r\n\t\t\t\tconvertFromRaw(JSON.parse(contentState)),\r\n\t\t\t\tdecorator\r\n\t\t\t\t// THIS CAN PARSE JSON OBJECT and display\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconvertedState = EditorState.createEmpty();\r\n\t\t}\r\n\r\n\t\tconst focus = () => {\r\n\t\t\teditor.focus();\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className=\"RichEditor-ReadOnly\" onClick={focus}>\r\n\t\t\t\t<Editor\r\n\t\t\t\t\tonChange={() => {}}\r\n\t\t\t\t\tplugins={listOfPlugins}\r\n\t\t\t\t\teditorState={convertedState}\r\n\t\t\t\t\tref={element => {\r\n\t\t\t\t\t\teditor = element;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\treadOnly={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { resetPassword } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\nimport { setAlert, resetAlert } from \"../../actions/alerts\";\r\n\r\nexport let inputs;\r\n\r\nexport const ResetPassword = ({\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tresetPassword,\r\n\tmatch: {\r\n\t\tparams: { resetToken },\r\n\t},\r\n\thistory,\r\n\tauth: { loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\tpassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t};\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tresetPassword,\r\n\t\t{ resetToken, history }\r\n\t);\r\n\r\n\tconst passwordNotMatch = (e) => {\r\n\t\tresetAlert();\r\n\t\te.preventDefault();\r\n\t\tsetAlert(\"Passwords does not match\", \"fail\");\r\n\t};\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Password\",\r\n\t\t\tplaceholder: \"Enter a new Password\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Confirm password\",\r\n\t\t\tplaceholder: \"Confirm password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t];\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Reset your password</h1>\r\n\t\t\t<p className=\"Form__text\">Please enter a new password below.</p>\r\n\t\t\t<hr />\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"Form__form\"\r\n\t\t\t\tonSubmit={\r\n\t\t\t\t\tformData[names[0]] !== formData[names[1]]\r\n\t\t\t\t\t\t? passwordNotMatch\r\n\t\t\t\t\t\t: handleSubmit\r\n\t\t\t\t}>\r\n\t\t\t\t{inputs.map((input) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<label key={input.label}>\r\n\t\t\t\t\t\t\t<b>{input.label}</b>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder={input.placeholder}\r\n\t\t\t\t\t\t\t\tvalue={input.value}\r\n\t\t\t\t\t\t\t\tname={input.name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t<div className=\"Form__btns\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"btn btn__submit\"\r\n\t\t\t\t\t\tvalue=\"Reset Password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nResetPassword.propTypes = {\r\n\tresetPassword: PropTypes.func.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tresetPassword,\r\n\tsetAlert,\r\n\tresetAlert,\r\n})(ResetPassword);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { changePassword } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\nimport { setAlert, resetAlert } from \"../../actions/alerts\";\r\n\r\nexport let inputs;\r\n\r\nexport const ChangePassword = ({\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangePassword,\r\n\thistory,\r\n\tauth: { loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\tcurrentPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t};\r\n\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tchangePassword,\r\n\t\t{ history }\r\n\t);\r\n\tconst passwordNotMatch = (e) => {\r\n\t\tresetAlert();\r\n\t\te.preventDefault();\r\n\t\tsetAlert(\"Passwords does not match\", \"fail\");\r\n\t};\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Current Password\",\r\n\t\t\tplaceholder: \"Enter your current Password\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"New Password\",\r\n\t\t\tplaceholder: \"Enter your new Password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Confirm Password\",\r\n\t\t\tplaceholder: \"Confirm password\",\r\n\t\t\tname: names[2],\r\n\t\t\tvalue: formData[names[2]],\r\n\t\t},\r\n\t];\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"Form__goBack btn__cancel\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/dashboard\");\r\n\t\t\t\t}}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t<h1>Change Your Password</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tChanging your password will log you out from other devices.\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"Form__form\"\r\n\t\t\t\tonSubmit={\r\n\t\t\t\t\tformData[names[1]] !== formData[names[2]]\r\n\t\t\t\t\t\t? passwordNotMatch\r\n\t\t\t\t\t\t: handleSubmit\r\n\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t{inputs.map((input) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<label key={input.label}>\r\n\t\t\t\t\t\t\t<b>{input.label}</b>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder={input.placeholder}\r\n\t\t\t\t\t\t\t\tvalue={input.value}\r\n\t\t\t\t\t\t\t\tname={input.name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Submit\" />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nChangePassword.propTypes = {\r\n\tchangePassword: PropTypes.func.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tchangePassword,\r\n\tsetAlert,\r\n\tresetAlert,\r\n})(ChangePassword);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport TextEditor from \"./draft-js/TextEditor\";\r\nimport { onChange } from \"../../actions/textEditor\";\r\nimport { ContentState, convertToRaw } from \"draft-js\";\r\n\r\n// Test all component props that utilise ContentEditor\r\n\r\nexport const ContentEditor = ({\r\n\thandleSubmit,\r\n\thandleToggle,\r\n\ttitle,\r\n\tsetTitle,\r\n\ttype,\r\n\tcontentState,\r\n\tplainText,\r\n\tonChange,\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\t// This is to prevent a blank post when submitting with no changes during edit\r\n\t\tif (plainText) {\r\n\t\t\tconst textToContentState = convertToRaw(\r\n\t\t\t\tContentState.createFromText(plainText)\r\n\t\t\t);\r\n\t\t\tonChange(textToContentState);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\t// need to handlereadme\r\n\t// Handled editting by plainText\r\n\t// Handle submit contentState to be just a string instead\r\n\t// If editing from mobile, need to use plain text only\r\n\r\n\t// content is the input text value that is initialised as the post's plaintext\r\n\tconst [content, setContent] = useState(plainText ? plainText : \"\");\r\n\tconst handleChange = (e) => {\r\n\t\tsetContent(e.target.value);\r\n\t\tconst textToContentState = convertToRaw(\r\n\t\t\tContentState.createFromText(e.target.value)\r\n\t\t);\r\n\t\tonChange(textToContentState);\r\n\t};\r\n\r\n\t// Added Draftjs to convert plainText to contentState\r\n\tconst submitPost = () => {\r\n\t\tif (content.length === 0) return;\r\n\t\thandleSubmit(content);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"CreatePost\">\r\n\t\t\t<button className=\"btn__cancel\" onClick={handleToggle}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t{type !== \"edit\" && (\r\n\t\t\t\t<h1 className=\"CreatePost__title\">Submit a new {type}</h1>\r\n\t\t\t)}\r\n\t\t\t<div className=\"CreatePost__form\">\r\n\t\t\t\t<label htmlFor=\"title\" className=\"CreatePost__label\">\r\n\t\t\t\t\tTitle:\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\tplaceholder=\"Insert Title\"\r\n\t\t\t\t\tvalue={title}\r\n\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\r\n\t\t\t\t\tmaxLength={80} // so it doesnt pollute the post too much\r\n\t\t\t\t\trequired\r\n\t\t\t\t/> \r\n\t\t\t\t\t<div className=\"CreatePost__editor\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"editor\"\r\n\t\t\t\t\t\t\tid=\"editor\"\r\n\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\trequired></textarea>\r\n\t\t\t\t\t\t<button className=\"btn btn__submit\" onClick={submitPost}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"CreatePost__textEditor\">\r\n\t\t\t\t\t\t<TextEditor\r\n\t\t\t\t\t\tcontentState={contentState} // context\r\n\t\t\t\t\t\thandleSubmit={handleSubmit} // submit function\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nContentEditor.propTypes = {\r\n\tonChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, { onChange })(ContentEditor);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport { FaPlusCircle } from \"react-icons/fa\";\r\nimport {\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n} from \"../../../actions/announcements\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nexport const Announcements = ({\r\n\tusers: { Moderator },\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n\tannouncements: { edit, announcements },\r\n\ttextEditor: { contentState },\r\n\talerts,\r\n}) => {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [id, setId] = useState(null);\r\n\tconst [type, setType] = useState(\"announcement\");\r\n\tconst [contentEdit, setContentEdit] = useState(null);\r\n\tconst [plainTextEdit, setPlainTextEdit] = useState(null);\r\n\tuseEffect(() => {\r\n\t\t// Refresh editor\r\n\t\tif (edit && alerts.msg.length === 0) toggleEdit();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\t// Announcement handlers\r\n\tconst handleToggle = () => {\r\n\t\t// When new post or canceled is pressed\r\n\t\tsetType(\"announcement\");\r\n\t\ttoggleEdit();\r\n\t\tsetTitle(\"\");\r\n\t};\r\n\r\n\tconst handleSubmit = (plainText) => {\r\n\t\t// dont need plainText\r\n\t\t// title from state, contentState from redux TextEditor\r\n\t\tcreateAnnouncement({ title, contentState, plainText });\r\n\t\tsetTitle(\"\");\r\n\t};\r\n\r\n\tconst handleEdit = (\r\n\t\tpostId,\r\n\t\tcurrentTitle,\r\n\t\tpostContentState,\r\n\t\tpostPlainText\r\n\t) => {\r\n\t\tsetType(\"edit\");\r\n\t\tsetTitle(currentTitle);\r\n\t\tsetId(postId);\r\n\t\tsetContentEdit(postContentState);\r\n\t\tsetPlainTextEdit(postPlainText);\r\n\t\ttoggleEdit();\r\n\t};\r\n\r\n\tconst handleUpdate = (plainText) => {\r\n\t\t// dont need plainText\r\n\t\t// title from state, contentState from textEditor\r\n\t\tupdateAnnouncement({\r\n\t\t\tid,\r\n\t\t\tnewTitle: title,\r\n\t\t\tnewContentState: contentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\t};\r\n\r\n\treturn edit ? (\r\n\t\t<div className=\"Dashboard__editor\">\r\n\t\t\t<ContentEditor\r\n\t\t\t\thandleToggle={handleToggle}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\thandleSubmit={type === \"edit\" ? handleUpdate : handleSubmit}\r\n\t\t\t\tcontentState={type === \"edit\" && contentEdit}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tplainText={type === \"edit\" && plainTextEdit}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"Dashboard__left\">\r\n\t\t\t<div className=\"Dashboard__top\">\r\n\t\t\t\t<h1 className=\"Dashboard__title\">Announcements</h1>\r\n\t\t\t\t\t{Moderator && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t<button className=\"btn__announcement\" onClick={toggleEdit}>\r\n\t\t\t\t\t\t\tPost new announcement\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<FaPlusCircle className=\"btn__announcement-small\" onClick={toggleEdit}/>\r\n\t\t\t</>\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Dashboard__announcements\">\r\n\t\t\t\t{announcements.map((el) => (\r\n\t\t\t\t\t<div key={el._id} className=\"Dashboard__announcement\">\r\n\t\t\t\t\t\t<h1 className=\"Dashboard__announcement-title\">{el.title}</h1>\r\n\t\t\t\t\t\t<ReadOnly contentState={el.contentState} />\r\n\t\t\t\t\t\t<div className=\"Dashboard__announcement-bottom\">\r\n\t\t\t\t\t\t\t{el.lastEdited > el.date ? (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\tEdited: &nbsp;\r\n\t\t\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t\t\t{el.lastEdited}\r\n\t\t\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t\t{el.date}\r\n\t\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{Moderator && (\r\n\t\t\t\t\t\t\t<div className=\"Dashboard__announcement-buttons\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__edit-xs\"\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\thandleEdit(el._id, el.title, el.contentState, el.plainText)\r\n\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__delete-xs\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => deleteAnnouncement(el._id)}>\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nAnnouncements.propTypes = {\r\n\tusers: PropTypes.object.isRequired,\r\n\ttoggleEdit: PropTypes.func.isRequired,\r\n\tcreateAnnouncement: PropTypes.func.isRequired,\r\n\tupdateAnnouncement: PropTypes.func.isRequired,\r\n\tdeleteAnnouncement: PropTypes.func.isRequired,\r\n\tannouncements: PropTypes.object.isRequired,\r\n\ttextEditor: PropTypes.object.isRequired,\r\n\talerts: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: state.users,\r\n\tannouncements: state.announcements,\r\n\ttextEditor: state.textEditor,\r\n\talerts: state.alerts,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n})(Announcements);\r\n","import axios from \"axios\";\r\nimport {\r\n\tTOGGLE_CREATE_ANNOUNCEMENT,\r\n\tCREATE_ANNOUNCEMENT,\r\n\tGET_ALL_ANNOUNCEMENT,\r\n\tDELETE_ANNOUNCEMENT,\r\n\tUPDATE_ANNOUNCEMENT,\r\n\tLOADING_ANNOUNCEMENT_SUBMIT,\r\n} from \"./types\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\n// TOGGLE BETWEEN Text editor or dashboard\r\nexport const toggleEdit = () => (dispatch) => {\r\n\t// Resets alert if already exist from dashboard\r\n\tdispatch(resetAlert());\r\n\tdispatch({ type: TOGGLE_CREATE_ANNOUNCEMENT });\r\n};\r\n\r\nexport const createAnnouncement = ({ title, contentState, plainText }) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Convert contentState object to JSON to send down to server\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\t// Call loading state to add spinner for UX\r\n\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\r\n\t\t// Send title, contentstate and plainText version of contentstate to server\r\n\t\tconst res = await axios.post(\"/api/announcements\", {\r\n\t\t\ttitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\r\n\t\t// Dispatch create announcement action and update announcement state\r\n\t\tdispatch({\r\n\t\t\ttype: CREATE_ANNOUNCEMENT,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(setAlert(\"New announcement posted!\", \"success\"));\r\n\t});\r\n\r\n// Send to test\r\nexport const limit = 10;\r\n\r\nexport const getAnnouncements = () =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t// Only show the 10 recently updated announcements! (eg. by date)\r\n\t\t// @todo show all with pagination\r\n\t\t//limit to 10 docs\r\n\t\tconst res = await axios.get(\r\n\t\t\t`/api/announcements?sort=-lastEdited&limit=${limit}`\r\n\t\t);\r\n\t\tdispatch({ type: GET_ALL_ANNOUNCEMENT, payload: res.data });\r\n\t});\r\n\r\nexport const updateAnnouncement = ({\r\n\tid,\r\n\tnewTitle,\r\n\tnewContentState,\r\n\tplainText,\r\n}) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Call loading state to add spinner for UX\r\n\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\t\t// Convert contentState object to JSON to send down to server\r\n\t\tconst jsonContentState = JSON.stringify(newContentState);\r\n\t\t// Using announcement id, patch announcement including title, contentstate and plainText\r\n\t\tconst res = await axios.patch(`/api/announcements/${id}`, {\r\n\t\t\ttitle: newTitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\t\t// Dispatch create announcement action and update announcement state\r\n\t\tdispatch({ type: UPDATE_ANNOUNCEMENT, payload: res.data });\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(setAlert(\"Announcement updated\", \"success\"));\r\n\t});\r\n\r\nexport const deleteAnnouncement = (id) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t// Create a user prompt before deleting as protection\r\n\t\tif (window.confirm(\"Are you sure you want to delete the announcement?\")) {\r\n\t\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\t\tdispatch(resetAlert());\r\n\t\t\t// Call loading state to add spinner for UX\r\n\t\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\t\t\t// Delete announcement given announcement id\r\n\t\t\tawait axios.delete(`/api/announcements/${id}`);\r\n\t\t\t// Update announcement state\r\n\t\t\tdispatch({ type: DELETE_ANNOUNCEMENT, payload: id });\r\n\t\t\t// Dispatch alert to user\r\n\t\t\tdispatch(setAlert(\"Announcement removed\", \"success\"));\r\n\t\t} else return;\r\n\t});\r\n","import React, { useMemo } from \"react\";\r\nimport { faker } from \"@faker-js/faker\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaUserAlt, FaKey } from \"react-icons/fa\";\r\nimport img from \"../../../img/anonymous.png\";\r\n\r\nexport const User = ({ currentUser, isModified }) => {\r\n  const placeholderPhoto = useMemo(() => faker.image.avatar(), []);\r\n\r\n  return (\r\n    <div className=\"Dashboard__right\">\r\n      <img\r\n        className=\"Dashboard__user-photo\"\r\n        src={currentUser.photo || placeholderPhoto}\r\n        alt=\"user avatar\"\r\n      />\r\n\r\n      <div className=\"Dashboard__user-details\">\r\n        <p className=\"Dashboard__user-name\">\r\n          Hi <strong>{currentUser.firstName}</strong>\r\n        </p>\r\n        <div className=\"Dashboard__links\">\r\n          <Link to=\"/user/update\" className=\"Dashboard__links-link\">\r\n            <FaUserAlt /> <span>Update Profile</span>\r\n          </Link>\r\n          <Link to=\"/user/changepassword\" className=\"Dashboard__links-link\">\r\n            <FaKey /> <span>Change Password</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","export default __webpack_public_path__ + \"static/media/anonymous.f53f00ea.png\";","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport Announcements from './Announcements';\r\nimport User from './User';\r\nimport Spinner from '../../utils/Spinner';\r\nimport { getAnnouncements } from '../../../actions/announcements';\r\n\r\nexport const Dashboard = ({\r\n\tauth: { currentUser, isModified },\r\n\tannouncements: { loading, edit },\r\n\tgetAnnouncements\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tgetAnnouncements();\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Dashboard\">\r\n\t\t\t<Announcements />\r\n\t\t\t{!edit && <User currentUser={currentUser} isModified={isModified} />}\r\n\t\t</div>\r\n\t);\r\n};\r\nDashboard.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tgetAnnouncements: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n\tannouncements: state.announcements\r\n});\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getAnnouncements }\r\n)(Dashboard);\r\n","import {\r\n\tPOST_CREATE,\r\n\tGET_POST,\r\n\tGET_ALL_POST,\r\n\tUPDATE_POST,\r\n\tDELETE_POST,\r\n\tTOGGLE_CREATE_POST,\r\n\tTOGGLE_EDIT_POST,\r\n\tADD_COMMENT,\r\n\tDELETE_COMMENT,\r\n\tPOST_RESET,\r\n\tLOADING_SUBMIT_POST,\r\n\tSEARCH_POSTS,\r\n\tPOST_NEXT_PAGE,\r\n\tCLEAR_POST,\r\n\tGET_POST_ERROR,\r\n} from \"./types\";\r\nimport axios from \"axios\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\n// Pagination limit for get all post and post next page\r\n// IDEALLY EVEN NUMBER!\r\nexport const postLimitPerPage = 6;\r\nexport const commentsLimitPerPage = 6;\r\n\r\nexport const toggleCreatePost = () => (dispatch) => {\r\n\t// Clear any previous alert\r\n\tdispatch(resetAlert());\r\n\t// Change create post state\r\n\tdispatch({ type: TOGGLE_CREATE_POST });\r\n};\r\nexport const toggleEditPost = () => (dispatch) => {\r\n\t// Clear any previous alert\r\n\tdispatch(resetAlert());\r\n\t// Change edit post state\r\n\tdispatch({ type: TOGGLE_EDIT_POST });\r\n};\r\n\r\nexport const createPost = ({ title, contentState, history, plainText }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Need to be in every post/put/patch action with alert\r\n\t\t// If request fails there may be an alert for the error\r\n\t\tdispatch(resetAlert());\r\n\t\t// This makes it more UX friendly calling a spinner instantly\r\n\t\t// Change loading state within postLoading and post group\r\n\t\t// Post group loading to update and load all the posts again\r\n\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t// Send request with appropriate body\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\tconst body = { title, contentState: jsonContentState, plainText };\r\n\t\tconst res = await axios.post(\"/api/posts\", body);\r\n\t\t// Obtain post id from response\r\n\t\tconst postId = res.data._id;\r\n\t\t// Dispatch post create and change postLoading to false\r\n\t\tdispatch({\r\n\t\t\ttype: POST_CREATE,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\t// Navigate user to the new post page\r\n\t\thistory.push(`/discussion/post/${postId}`);\r\n\t});\r\n\r\nexport const getAllPost = (page = 1) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tdispatch({type: POST_RESET});\r\n\t\t// Resets alert if searching for empty posts beforehand\r\n\t\t// Empty posts from search will result in an error alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Gets post by page with limit, sorts by last comment then date.\r\n\t\tconst res = await axios.get(\r\n\t\t\t`/api/posts?page=${page}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`\r\n\t\t);\r\n\t\t// Dispatch data and change posts state\r\n\t\tdispatch({\r\n\t\t\ttype: GET_ALL_POST,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\tlimit: postLimitPerPage,\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n\r\n// With and without searching\r\n// isSearch is boolean || string\r\n// setPage from component state is passed to trigger the loader from InfiniteScroll component\r\nexport const postNextPage = (page, setPage, isSearch = false) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tlet res;\r\n\t\t// Gets post by page with limit ,sorts by last comment then date.\r\n\t\tif (isSearch) {\r\n\t\t\tres = await axios.post(\r\n\t\t\t\t`/api/posts/search/text?page=${\r\n\t\t\t\t\tpage + 1\r\n\t\t\t\t}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`,\r\n\t\t\t\t{ text: isSearch }\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tres = await axios.get(\r\n\t\t\t\t`/api/posts?page=${\r\n\t\t\t\t\tpage + 1\r\n\t\t\t\t}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t\r\n\t\tif (res.data.posts.length >= 1) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: POST_NEXT_PAGE,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\t...res.data,\r\n\t\t\t\t\tlimit: postLimitPerPage\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t// Change page state only after request has been made\r\n\t\t\t// If request fails, state does not change\r\n\t\t\t// Page number remains the same\r\n\t\t\tsetPage(page + 1);\r\n\t\t} else\r\n\t\t\tdispatch({type: GET_POST_ERROR})\r\n\r\n\t\t\r\n\t});\r\n\r\nexport const getPost = ({ id, currentPage, history, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Clear previous post state\r\n\t\tdispatch({\r\n\t\t\ttype: CLEAR_POST,\r\n\t\t});\r\n\t\t// Make request with post id\r\n\t\tconst res = await axios.get(`/api/posts/${id}`);\r\n\t\t// Calculate total amount pages (client-side pagination)\r\n\t\tconst comments = res.data.comments;\r\n\t\t// Consider if there's no comments made\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1;\r\n\t\t// Update post state\r\n\t\tdispatch({\r\n\t\t\ttype: GET_POST,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// Redirect user if attempting to access invalid page query\r\n\t\tif (isNaN(currentPage) || currentPage > totalPages) {\r\n\t\t\thistory.push(`/discussion/post/${id}`);\r\n\t\t\tsetPage(1);\r\n\t\t}\r\n\t});\r\n\r\nexport const updatePost = ({ postId, newTitle, newContentState, plainText }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tdispatch(resetAlert());\r\n\t\t// This makes it more UX friendly calling a spinner instantly\r\n\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t// Convert contentstate object to JSON\r\n\t\tconst jsonContentState = JSON.stringify(newContentState);\r\n\t\t// Make request to update post\r\n\t\tconst body = {\r\n\t\t\ttitle: newTitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t};\r\n\t\tconst res = await axios.patch(`/api/posts/${postId}`, body);\r\n\t\t// Dispatch update post action and change loading state\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_POST,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t});\r\n\r\nexport const deletePost = (postId, history) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Prompt user to confirm deletion\r\n\t\tif (window.confirm(\"Are you sure you want to delete post?\")) {\r\n\t\t\t// This considers if somehow the request takes a long time\r\n\t\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t\t// Make request to delete post\r\n\t\t\tawait axios.delete(`/api/posts/${postId}`);\r\n\t\t\t// Dispatch delete post and stop loading\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_POST,\r\n\t\t\t});\r\n\t\t\t// Navigate user back to discussion board\r\n\t\t\thistory.push(\"/discussion\");\r\n\t\t\t// Send alert to user post was deleted\r\n\t\t\tdispatch(setAlert(\"Post Deleted\", \"success\"));\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\t});\r\n\r\nexport const addComment = ({ contentState, postId, history, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Require to reset alert possibly from removing comment\r\n\t\tdispatch(resetAlert());\r\n\t\t// Convert contentstate object to JSON\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\t// Make request to add comment to server\r\n\t\tconst res = await axios.post(`/api/posts/${postId}`, {\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t});\r\n\t\t// Calculate total pages after new comment was added\r\n\t\tconst comments = res.data;\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1;\r\n\t\t// Dispatch add comment action\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_COMMENT,\r\n\t\t\tpayload: {\r\n\t\t\t\tcomments,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t}); // loads whilst posting comment\r\n\r\n\t\t// Redirect to the last page when sending comment\r\n\t\thistory.push(`/discussion/post/${postId}?page=${totalPages}`);\r\n\t\tsetPage(totalPages);\r\n\t});\r\n\r\nexport const deleteComment = ({ postId, commentId, history, page, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Require to reset alert from removing comment\r\n\t\tdispatch(resetAlert());\r\n\t\t// Send request to delete comment from post with postId\r\n\t\tconst res = await axios.put(`/api/posts/${postId}/comments/${commentId}`);\r\n\t\t// Calculate total pages\r\n\t\tconst comments = res.data;\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1; // pagelimit = 10\r\n\t\t// Dispatch delete comment action\r\n\t\tdispatch({\r\n\t\t\ttype: DELETE_COMMENT,\r\n\t\t\tpayload: {\r\n\t\t\t\tcomments,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t});\r\n\t\t// If current page number is higher than total amount of pages\r\n\t\t// Redirect user\r\n\t\tif (page > totalPages) {\r\n\t\t\thistory.push(`/discussion/post/${postId}?page=${totalPages}`);\r\n\t\t\tsetPage(totalPages);\r\n\t\t}\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Comment removed\", \"success\"));\r\n\t});\r\n\r\nexport const searchPost = (text, page = 1) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Clear possible alert from empty searches\r\n\t\tdispatch(resetAlert());\r\n\t\t// Clear post list state\r\n\t\tdispatch({ type: POST_RESET });\r\n\t\t// Make request to search post\r\n\t\tconst res = await axios.post(\r\n\t\t\t`/api/posts/search/text?page=${page}&limit=${postLimitPerPage}&sort=-lastComment,-date`,\r\n\t\t\t{ text }\r\n\t\t);\r\n\t\t// Dispatch search post action and update state\r\n\t\tdispatch({\r\n\t\t\ttype: SEARCH_POSTS,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\tlimit: postLimitPerPage,\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n","import React, { useState } from \"react\";\r\nimport { FaSearch, FaPlusCircle } from \"react-icons/fa\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\n\r\nexport const DiscussionHead = ({\r\n\tcreatePost,\r\n\tcontentState,\r\n\tedit,\r\n\ttoggleCreatePost,\r\n\thistory,\r\n\tsearchPost,\r\n\tsetPage,\r\n\tsetIsSearch,\r\n\tloading,\r\n\tgetAllPost,\r\n}) => {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [search, setSearch] = useState(\"\");\r\n\r\n\tconst handleToggle = () => {\r\n\t\tsetTitle(\"\"); //when create post is canceled\r\n\t\ttoggleCreatePost();\r\n\t};\r\n\r\n\tconst handleSubmit = (plainText) => {\r\n\t\tcreatePost({ title, contentState, history, plainText });\r\n\t};\r\n\r\n\tconst handleSearch = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// Configures next page api request\r\n\t\tsetIsSearch(search);\r\n\t\t// Search post\r\n\t\tsearchPost(search);\r\n\t\t// Reset page number\r\n\t\tsetPage(1);\r\n\t};\r\n\r\n\tconst handleReset = (e) => {\r\n\t\t// Clear search bar\r\n\t\tsetSearch(\"\");\r\n\t\t// Configures next page api request back to normal\r\n\t\tsetIsSearch(false);\r\n\t\t// Get all post again\r\n\t\tgetAllPost();\r\n\t\t// Reset page number\r\n\t\tsetPage(1);\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"Discussion__head\">\r\n\t\t\t{!edit ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn btn__submit Discussion__create\"\r\n\t\t\t\t\t\tonClick={toggleCreatePost}>\r\n\t\t\t\t\t\tCreate post\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<FaPlusCircle className=\"Discussion__create-small\" onClick={toggleCreatePost}/>\r\n\t\t\t\t\t<div className=\"Discussion__search\">\r\n\t\t\t\t\t\t<form onSubmit={handleSearch}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search all posts\"\r\n\t\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button className=\"Discussion__search-searchIcon\">\r\n\t\t\t\t\t\t\t\t<FaSearch />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"Discussion__search-reset btn\"\r\n\t\t\t\t\t\t\tonClick={handleReset}>\r\n\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t!loading && (\r\n\t\t\t\t\t<div className=\"Discussion__editor\">\r\n\t\t\t\t\t\t<ContentEditor\r\n\t\t\t\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\t\t\t\thandleToggle={handleToggle}\r\n\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\t\t\t\ttype={\"post\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DiscussionHead;\r\n","import React from 'react';\r\nimport { IoIosChatboxes } from 'react-icons/io';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport 'moment-timezone';\r\n\r\nexport const DiscussionPost = ({\r\n\timg,\r\n\tcount,\r\n\tid,\r\n\ttitle,\r\n\tdate,\r\n\ttext,\r\n\tfirstName,\r\n\tlastName\r\n}) => {\r\n\treturn (\r\n\t\t<Link to={`/discussion/post/${id}`} className=\"Discussion__post\">\r\n\t\t\t<div className=\"Discussion__postUser\">\r\n\t\t\t\t<img src={img} alt=\"user-logo\" className=\"Discussion__postUser-img\" />\r\n\t\t\t\t<span className=\"Discussion__postUser-name\">\r\n\t\t\t\t\t<span>{firstName}&nbsp;</span>\r\n\t\t\t\t\t{(firstName.length <= 10 || lastName.length <= 10) && (\r\n\t\t\t\t\t\t<span>{lastName}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Discussion__postBody\">\r\n\t\t\t\t<div className=\"Discussion__postBody-header\">\r\n\t\t\t\t\t<h3 className=\"Discussion__postBody-title\"> {title}</h3>\r\n\t\t\t\t\t<span className=\"Discussion__postBody-chat\">\r\n\t\t\t\t\t\t{count > 0 && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{count} <IoIosChatboxes />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"Discussion__postBody-text\">{text}</p>\r\n\t\t\t\t<span className=\"Discussion__postBody-date\">\r\n\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"DD MMM YYYY\">\r\n\t\t\t\t\t\t{date}\r\n\t\t\t\t\t</Moment>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default DiscussionPost;\r\n","import React, { Fragment } from \"react\";\r\nimport spinner from \"../../img/spinner.gif\";\r\n\r\nconst SpinnerSmall = () => (\r\n\t<Fragment>\r\n\t\t<img\r\n\t\t\tsrc={spinner}\r\n\t\t\tstyle={{ width: \"75px\", margin: \"0 auto 0 auto\", display: \"block\" }}\r\n\t\t\talt=\"Loading...\"\r\n\t\t/>\r\n\t</Fragment>\r\n);\r\n\r\nexport default SpinnerSmall;\r\n","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport {\r\n  getAllPost,\r\n  createPost,\r\n  toggleCreatePost,\r\n  searchPost,\r\n  postNextPage,\r\n} from \"../../../actions/post\";\r\nimport DiscussionHead from \"./DiscussionHead\";\r\nimport DiscussionPost from \"./DiscussionPost\";\r\nimport SpinnerSmall from \"../../../components/utils/SpinnerSmall\";\r\nimport { faker } from \"@faker-js/faker\";\r\n\r\nexport const Discussion = ({\r\n  post: { posts, edit, totalPages, loading },\r\n  getAllPost,\r\n  contentState,\r\n  createPost,\r\n  toggleCreatePost,\r\n  history,\r\n  searchPost,\r\n  postNextPage,\r\n}) => {\r\n  useEffect(() => {\r\n    if (edit) {\r\n      toggleCreatePost();\r\n    }\r\n    getAllPost();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [isSearch, setIsSearch] = useState(false); // boolean or string\r\n\r\n  const renderPosts = posts.map((post) => (\r\n    <DiscussionPost\r\n      key={post._id}\r\n      title={post.title}\r\n      id={post._id}\r\n      img={post.user.photo || faker.image.avatar()}\r\n      date={post.date}\r\n      count={post.comments.length}\r\n      text={post.plainText}\r\n      firstName={post.user.firstName}\r\n      lastName={post.user.lastName}\r\n    />\r\n  ));\r\n  return (\r\n    <div className=\"Discussion\">\r\n      <DiscussionHead\r\n        edit={edit}\r\n        contentState={contentState}\r\n        createPost={createPost}\r\n        toggleCreatePost={toggleCreatePost}\r\n        history={history}\r\n        searchPost={searchPost}\r\n        setPage={setPage}\r\n        loading={loading}\r\n        setIsSearch={setIsSearch}\r\n        getAllPost={getAllPost}\r\n      />\r\n      {!edit && (\r\n        <>\r\n          <InfiniteScroll\r\n            pageStart={page}\r\n            loadMore={() => {\r\n              if (page < totalPages) postNextPage(page, setPage, isSearch);\r\n            }}\r\n            hasMore={page < totalPages}\r\n            threshold={50}\r\n            loader={<SpinnerSmall key=\"loader\" />}\r\n          >\r\n            {renderPosts}\r\n          </InfiniteScroll>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nDiscussion.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n  contentState: PropTypes.object,\r\n  getAllPost: PropTypes.func.isRequired,\r\n  createPost: PropTypes.func.isRequired,\r\n  toggleCreatePost: PropTypes.func.isRequired,\r\n  searchPost: PropTypes.func.isRequired,\r\n  postNextPage: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  post: state.post,\r\n  contentState: state.textEditor.contentState,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllPost,\r\n  createPost,\r\n  toggleCreatePost,\r\n  searchPost,\r\n  postNextPage,\r\n})(Discussion);\r\n","import React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport { IoIosTrash } from \"react-icons/io\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nconst PostComment = ({\r\n\timg,\r\n\tcontentState,\r\n\tuser,\r\n\tpostId,\r\n\tid,\r\n\tdate,\r\n\tdeleteComment,\r\n\thistory,\r\n\tpage,\r\n\tsetPage,\r\n\tcurrentUser,\r\n\tModerator,\r\n}) => {\r\n\t\tlet userNameLength = user.firstName.length + user.lastName.length;\r\n\tlet convertedName = user.firstName + \" \" + user.lastName[0].toUpperCase()\r\n\tif(userNameLength > 20) convertedName = user.firstName[0].toUpperCase() + user.lastName[0].toUpperCase()\r\n\treturn (\r\n\t\t<div className=\"Post__comment\">\r\n\t\t\t<div className=\"Post__commentUser\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={user.photo || img}\r\n\t\t\t\t\talt=\"user-logo\"\r\n\t\t\t\t\tclassName=\"Post__commentUser-img\"\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"Post__commentUser-name\">\r\n\t\t\t\t{userNameLength > 12 && window.screen.width > 1000? <span>{convertedName}</span> :<>\r\n\t\t\t\t\t<span>{user.firstName}&nbsp;</span>\r\n\t\t\t\t\t\t<span>{user.lastName}</span></>}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Post__commentBody\">\r\n\t\t\t\t<div className=\"Post__commentBody-text\">\r\n\t\t\t\t\t<ReadOnly contentState={contentState} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"Post__commentBottom\">\r\n\t\t\t\t\t<span className=\"Post__commentBody-date\">\r\n\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t{date}\r\n\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{(currentUser._id === user._id ||\r\n\t\t\t\t\t\t(Moderator && currentUser.role === \"admin\")) && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"Post__comment-trash\"\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tdeleteComment({ postId, commentId: id, history, page, setPage })\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t<IoIosTrash />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PostComment;\r\n","import React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nconst PostHead = ({\r\n\tpost,\r\n\timg,\r\n\tcurrentUser,\r\n\ttoggleEditPost,\r\n\thandleDeletePost,\r\n\tModerator,\r\n}) => {\r\n\tlet userNameLength = post.user.firstName.length + post.user.lastName.length;\r\n\tlet convertedName = post.user.firstName + \" \" + post.user.lastName[0].toUpperCase()\r\n\tif(userNameLength > 20) convertedName = post.user.firstName[0].toUpperCase() + post.user.lastName[0].toUpperCase()\r\n\r\n\treturn (\r\n\t\t<div className=\"Post__post\">\r\n\t\t\t<div className=\"Post__postUser\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={post.user.photo || img}\r\n\t\t\t\t\talt=\"user-logo\"\r\n\t\t\t\t\tclassName=\"Post__postUser-img\"\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"Post__postUser-name\">\r\n\t\t\t\t\t{userNameLength > 12 && window.screen.width > 1000? <span>{convertedName}</span> :<>\r\n\t\t\t\t\t<span>{post.user.firstName}&nbsp;</span>\r\n\t\t\t\t\t\t<span>{post.user.lastName}</span></>}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Post__postBody\">\r\n\t\t\t\t<div className=\"Post__postBody-text\">\r\n\t\t\t\t\t<ReadOnly contentState={post.contentState} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<>\r\n\t\t\t\t\t<span className=\"Post__postBody-date\">\r\n\t\t\t\t\t\tPosted:\r\n\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t{post.date}\r\n\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{post.lastEdited !== post.date && (\r\n\t\t\t\t\t\t<span className=\"Post__postBody-edited\">\r\n\t\t\t\t\t\t\tLast edited:\r\n\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t{post.lastEdited}\r\n\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"Post__postButtons\">\r\n\t\t\t\t\t\t{currentUser._id === post.user._id && (\r\n\t\t\t\t\t\t\t<button className=\"btn btn__edit-xs\" onClick={toggleEditPost}>\r\n\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{(currentUser._id === post.user._id ||\r\n\t\t\t\t\t\t\t(Moderator && currentUser.role === \"admin\")) && (\r\n\t\t\t\t\t\t\t<button className=\"btn btn__delete-xs\" onClick={handleDeletePost}>\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PostHead;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport scrollToTop from '../../../utils/scrollToTop';\r\n\r\nconst PageButtons = ({ page, setPage, totalPages, postId }) => {\r\n\t// Rendering page buttons\r\n\tlet nextPage, previousPage;\r\n\tif (totalPages > 1 && page !== totalPages)\r\n\t\tnextPage = (\r\n\t\t\t<Link\r\n\t\t\t\tto={`/discussion/post/${postId}?page=${page + 1}`}\r\n\t\t\t\tclassName=\"Post__page-buttons Post__page-next\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetPage(page + 1);\r\n\t\t\t\t\tscrollToTop();\r\n\t\t\t\t}}>\r\n\t\t\t\tNext\r\n\t\t\t</Link>\r\n\t\t);\r\n\tif (page > 1)\r\n\t\tpreviousPage = (\r\n\t\t\t<Link\r\n\t\t\t\tto={`/discussion/post/${postId}?page=${page - 1}`}\r\n\t\t\t\tclassName=\"Post__page-buttons Post__page-prev\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetPage(page - 1);\r\n\t\t\t\t\tscrollToTop();\r\n\t\t\t\t}}>\r\n\t\t\t\tPrevious\r\n\t\t\t</Link>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"Post__page\">\r\n\t\t\t{previousPage}\r\n\t\t\t{page > 1 || totalPages > 1 ? <>Page {page}</> : ''}\r\n\t\t\t{nextPage}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageButtons;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Comments from \"./Comments\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { ContentState, convertToRaw } from \"draft-js\";\r\nimport {\r\n  getPost,\r\n  addComment,\r\n  deleteComment,\r\n  toggleEditPost,\r\n  deletePost,\r\n  updatePost,\r\n} from \"../../../actions/post\";\r\nimport TextEditor from \"../../utils/draft-js/TextEditor\";\r\nimport Spinner from \"../../utils/Spinner\";\r\nimport PostHead from \"./PostHead\";\r\nimport PageButtons from \"./PageButtons\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\nimport { onChange } from \"../../../actions/textEditor\";\r\nimport { faker } from \"@faker-js/faker\";\r\n\r\nconst Post = ({\r\n  match: {\r\n    params: { postId },\r\n  },\r\n  getPost,\r\n  toggleEditPost,\r\n  deletePost,\r\n  postEdit,\r\n  updatePost,\r\n  addComment,\r\n  deleteComment,\r\n  post: { post, postError },\r\n  textEditor,\r\n  onChange,\r\n  history,\r\n  location,\r\n  currentUser,\r\n  postLoading,\r\n  users: { Moderator },\r\n}) => {\r\n  useEffect(() => {\r\n    // runs once and on updatePost\r\n    // pageQuery only works once totalPages has been defined\r\n    // totalPages defined after getPost\r\n    getPost({ id: postId, currentPage, history, setPage });\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // Sets default pageQuery if theres not set\r\n  const currentPage = parseInt(location.search.split(\"?page=\")[1]) || 1;\r\n  // Define page, title and content editor state\r\n  const [page, setPage] = useState(currentPage);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  // Change content state and raw text to be sent through actions\r\n  const handleChange = (e) => {\r\n    setContent(e.target.value);\r\n    const textToContentState = convertToRaw(\r\n      ContentState.createFromText(e.target.value)\r\n    );\r\n    onChange(textToContentState);\r\n  };\r\n\r\n  // Submit comment\r\n  const handleSubmit = () =>\r\n    addComment({\r\n      contentState: textEditor.contentState,\r\n      postId,\r\n      history,\r\n      setPage,\r\n    });\r\n\r\n  // Delete post handler\r\n  const handleDeletePost = () => deletePost(postId, history);\r\n\r\n  // Update post handler\r\n  const handleUpdate = (plainText) => {\r\n    // plain text from textEditor\r\n    updatePost({\r\n      postId,\r\n      newTitle: title,\r\n      newContentState: textEditor.contentState,\r\n      plainText,\r\n    });\r\n  };\r\n\r\n  const handleToggleEditPost = () => {\r\n    setTitle(post.title);\r\n    toggleEditPost();\r\n  };\r\n\r\n  // Client side pagination\r\n  // Set limit, start and end of a page\r\n  const limit = 6;\r\n  const start = (page - 1) * limit;\r\n  const end = page * limit;\r\n  const minTopPageButtonsAppear = 3;\r\n\r\n  return post === null || postLoading ? (\r\n    postError ? (\r\n      <Redirect to=\"/discussion\" />\r\n    ) : (\r\n      <Spinner />\r\n    )\r\n  ) : postEdit ? (\r\n    <div className=\"Post__editor\">\r\n      <ContentEditor\r\n        handleToggle={handleToggleEditPost}\r\n        title={title}\r\n        setTitle={setTitle}\r\n        handleSubmit={handleUpdate}\r\n        contentState={post.contentState}\r\n        plainText={post.plainText}\r\n        type={\"edit\"}\r\n      />\r\n    </div>\r\n  ) : (\r\n    <>\r\n      <Link to=\"/discussion\" className=\"Post__goBack\">\r\n        <button>Go Back</button>\r\n      </Link>\r\n      <div className=\"Post__title-container\">\r\n        <h1 className=\"Post__title\">{post.title}</h1>\r\n      </div>\r\n      <PostHead\r\n        Moderator={Moderator}\r\n        img={faker.image.avatar()}\r\n        post={post}\r\n        currentUser={currentUser}\r\n        toggleEditPost={handleToggleEditPost}\r\n        handleDeletePost={handleDeletePost}\r\n      />\r\n      {post && (\r\n        <>\r\n          {post.comments.slice(start, end).length > minTopPageButtonsAppear && (\r\n            <PageButtons\r\n              page={page}\r\n              setPage={setPage}\r\n              totalPages={post.totalPages}\r\n              postId={postId}\r\n            />\r\n          )}\r\n          <div className=\"Post__comments\">\r\n            {post.comments.slice(start, end).map((c) => (\r\n              <Comments\r\n                key={c._id}\r\n                img={faker.image.avatar()}\r\n                contentState={c.contentState}\r\n                id={c._id}\r\n                postId={postId}\r\n                date={c.date}\r\n                user={c.user}\r\n                deleteComment={deleteComment}\r\n                page={page}\r\n                history={history}\r\n                setPage={setPage}\r\n                currentUser={currentUser}\r\n                Moderator={Moderator}\r\n              />\r\n            ))}\r\n          </div>\r\n          <PageButtons\r\n            page={page}\r\n            setPage={setPage}\r\n            totalPages={post.totalPages}\r\n            postId={postId}\r\n          />\r\n          <div className=\"Post__addComment\">\r\n            <div className=\"Post__addComment-top\">\r\n              <img\r\n                src={currentUser.photo || faker.image.avatar()}\r\n                alt=\"current user\"\r\n                className=\"Post__commentUser-img\"\r\n              />\r\n              <h2 className=\"Post__addComment-title\">Add Comment</h2>\r\n            </div>\r\n            <div className=\"CreatePost__editor\">\r\n              <textarea\r\n                placeholder=\"Add comment....\"\r\n                className=\"CreatePost__editor\"\r\n                type=\"text\"\r\n                name=\"editor\"\r\n                id=\"editor\"\r\n                value={content}\r\n                onChange={handleChange}\r\n                required\r\n              ></textarea>\r\n              <button\r\n                className=\"btn btn__submit\"\r\n                onClick={() => {\r\n                  if (content.length === 0) return;\r\n                  setContent(\"\");\r\n                  handleSubmit();\r\n                }}\r\n              >\r\n                Submit\r\n              </button>\r\n            </div>\r\n            <div className=\"CreatePost__textEditor\">\r\n              <TextEditor handleSubmit={handleSubmit} />\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nPost.propTypes = {\r\n  getPost: PropTypes.func.isRequired,\r\n  addComment: PropTypes.func.isRequired,\r\n  toggleEditPost: PropTypes.func.isRequired,\r\n  deletePost: PropTypes.func.isRequired,\r\n  deleteComment: PropTypes.func.isRequired,\r\n  updatePost: PropTypes.func.isRequired,\r\n  contentState: PropTypes.string, //Converted to JSON string before sending to database and reconverted by texteditor\r\n  textEditor: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  postEdit: PropTypes.bool.isRequired,\r\n  post: PropTypes.object,\r\n  currentUser: PropTypes.object,\r\n  postLoading: PropTypes.bool.isRequired,\r\n  users: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  postEdit: state.post.postEdit,\r\n  post: state.post,\r\n  textEditor: state.textEditor,\r\n  currentUser: state.auth.currentUser,\r\n  users: state.users,\r\n  postLoading: state.post.postLoading,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getPost,\r\n  addComment,\r\n  toggleEditPost,\r\n  deletePost,\r\n  deleteComment,\r\n  updatePost,\r\n  onChange,\r\n})(Post);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { forgotPassword } from \"../../actions/auth\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport const ForgotPassword = ({ forgotPassword, auth: { loading } }) => {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tforgotPassword(email, document.location.href);\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Forgot your password?</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tPlease enter the email address registered to your account and we will\r\n\t\t\t\tsend you the link to reset your password.\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Send Email\" />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nForgotPassword.propTypes = {\r\n\tforgotPassword: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { forgotPassword })(ForgotPassword);\r\n","const fileToBase64 = async (file) =>\r\n  new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = (e) => reject(e);\r\n  });\r\n\r\nexport default fileToBase64;\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport useForms from \"../../../hooks/useForms\";\r\nimport { updateMe } from \"../../../actions/users\";\r\nimport fileToBase64 from \"../../../utils/fileToBase64\";\r\n\r\nexport const Update = ({ auth: { currentUser }, updateMe, history }) => {\r\n  const [file, setFile] = useState(\"\");\r\n  const { firstName, lastName, email } = currentUser;\r\n  const blankForm = { firstName, lastName, email };\r\n  const { formData, handleChange, handleSubmit } = useForms(\r\n    blankForm,\r\n    updateMe,\r\n    { file, history }\r\n  );\r\n\r\n  const handleFileChange = async (e) => {\r\n    const fileBase64 = await fileToBase64(e.target.files[0]);\r\n    setFile(fileBase64);\r\n  };\r\n\r\n  //\r\n  //\r\n  // Refactor labelling\r\n\r\n  return (\r\n    <div className=\"Form\">\r\n      <button\r\n        className=\"Form__goBack btn__cancel\"\r\n        onClick={() => {\r\n          history.push(\"/dashboard\");\r\n        }}\r\n      >\r\n        Cancel\r\n      </button>\r\n      <h1>Update your profile</h1>\r\n      <form className=\"Form__form\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <strong>Profile photo</strong>\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            name=\"image\"\r\n            onChange={handleFileChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <strong>First Name</strong>\r\n          <input\r\n            type=\"text\"\r\n            name=\"firstName\"\r\n            value={formData.firstName}\r\n            maxLength={15}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <strong>Last Name</strong>\r\n          <input\r\n            type=\"text\"\r\n            name=\"lastName\"\r\n            value={formData.lastName}\r\n            maxLength={15}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <strong>Email</strong>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <button className=\"btn btn__submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nUpdate.propTypes = {\r\n  updateMe: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateMe })(Update);\r\n","import React from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport NewRoute from './NewRoute';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport Register from '../auth/Register';\r\nimport Login from '../auth/Login';\r\nimport MemberList from '../pages/Members/MemberList';\r\nimport Dashboard from '../pages/Dashboard/Dashboard';\r\nimport Discussion from '../pages/Discussion/Discussion';\r\nimport Post from '../pages/Post/Post';\r\nimport ForgotPassword from '../auth/ForgotPassword';\r\nimport ResetPassword from '../auth/ResetPassword';\r\nimport Update from '../pages/Dashboard/Update';\r\nimport ChangePassword from '../auth/ChangePassword';\r\n\r\nconst Routes = () => {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PrivateRoute exact path=\"/register\" component={Register} />\r\n\t\t\t<NewRoute exact path=\"/login\" component={Login} />\r\n\t\t\t<NewRoute exact path=\"/forgotpassword\" component={ForgotPassword} />\r\n\t\t\t<NewRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/forgotpassword/reset/:resetToken\"\r\n\t\t\t\tcomponent={ResetPassword}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute exact path=\"/members\" component={MemberList} />\r\n\t\t\t<PrivateRoute exact path=\"/discussion\" component={Discussion} />\r\n\t\t\t<PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\r\n\t\t\t<PrivateRoute exact path=\"/user/update\" component={Update} />\r\n\t\t\t<PrivateRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/user/changepassword\"\r\n\t\t\t\tcomponent={ChangePassword}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute exact path=\"/discussion/post/:postId\" component={Post} />\r\n\t\t\t<Redirect to=\"/dashboard\" />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n\r\n// dashboard\r\n// members list\r\n// Request a speech\r\n// Request a role\r\n// Discussion\r\n// Comment\r\n// Admin and comittee roles --- registering a user and deactivating account\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toggleView } from \"../../actions/users\";\r\n\r\nexport const Moderator = ({\r\n\tauth: { currentUser },\r\n\ttoggleView,\r\n\tusers: { Moderator },\r\n}) => {\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Moderator) toggleView();\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentUser]);\r\n\r\n\treturn (\r\n\t\tcurrentUser &&\r\n\t\tcurrentUser.role !== \"user\" && (\r\n\t\t\t<div className={`Moderator${Moderator ? \" Moderator__checked\" : \"\"}`}>\r\n\t\t\t\t<span className=\"Moderator__mode\">\r\n\t\t\t\t\tView as:&nbsp;\r\n\t\t\t\t\t{Moderator\r\n\t\t\t\t\t\t? currentUser.role === \"admin\" // Works with only two roles\r\n\t\t\t\t\t\t\t? \"admin\"\r\n\t\t\t\t\t\t\t: \"committee\"\r\n\t\t\t\t\t\t: \"user\"}\r\n\t\t\t\t</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"Moderator__checkbox\"\r\n\t\t\t\t\tid=\"moderator\"\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tvalue={Moderator}\r\n\t\t\t\t\tonChange={toggleView}\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor=\"moderator\" className=\"Moderator__slider\" />\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nModerator.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\ttoggleView: PropTypes.func.isRequired,\r\n\tusers: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tusers: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps, { toggleView })(Moderator);\r\n","import React, { useEffect } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport { Route, Redirect, withRouter } from 'react-router-dom';\r\nimport Navbar from './components/layout/Navbar';\r\n\r\nimport Routes from './components/routing/Routes';\r\nimport './styles/main.scss';\r\nimport { checkUser } from './actions/auth';\r\nimport Moderator from './components/layout/Moderator';\r\n\r\nconst App = () => {\r\n\tuseEffect(() => {\r\n\t\tstore.dispatch(checkUser()); // runs only once\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Provider store={store}>\r\n\t\t\t<Navbar />\r\n\t\t\t<Moderator />\r\n\t\t\t<Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\" />} />\r\n\t\t\t<Routes />\r\n\t\t</Provider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(App);\r\n","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'draft-js/dist/Draft.css';\r\nimport '@draft-js-plugins/linkify/lib/plugin.css';\r\nimport '@draft-js-plugins/image/lib/plugin.css';\r\nimport '@draft-js-plugins/focus/lib/plugin.css';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n\t<Router>\r\n\t\t<App />\r\n\t</Router>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}