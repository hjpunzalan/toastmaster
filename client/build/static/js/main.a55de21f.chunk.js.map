{"version":3,"sources":["components/auth/Register.js","components/auth/Login.js","actions/types.js","reducers/users.js","reducers/auth.js","reducers/alerts.js","reducers/post.js","reducers/textEditor.js","reducers/announcements.js","reducers/index.js","store.js","utils/scrollToTop.js","actions/alerts.js","utils/catchAsync.js","actions/auth.js","img/logo.png","components/layout/Navbar.js","components/layout/Container.js","components/layout/Alert.js","components/routing/NewRoute.js","img/spinner.gif","components/utils/Spinner.js","components/routing/PrivateRoute.js","hooks/useForms.js","actions/users.js","img/anonymous.png","components/pages/Members/Members.js","components/pages/Members/Table.js","components/pages/Members/SmallList.js","components/pages/Members/MemberList.js","img/notfound.png","components/utils/draft-js/ImageAdd/ImageAdd.js","components/utils/draft-js/pluginDecorator.js","actions/textEditor.js","components/utils/draft-js/TextEditor.js","components/utils/draft-js/ReadOnly.js","components/auth/ResetPassword.js","components/auth/ChangePassword.js","components/utils/ContentEditor.js","components/pages/Dashboard/Announcements.js","actions/announcements.js","components/pages/Dashboard/User.js","components/pages/Dashboard/Dashboard.js","actions/post.js","components/pages/Discussion/DiscussionHead.js","components/pages/Discussion/DiscussionPost.js","components/utils/SpinnerSmall.js","components/pages/Discussion/Discussion.js","components/pages/Post/Comments.js","components/pages/Post/PostHead.js","components/pages/Post/PageButtons.js","components/pages/Post/Post.js","components/auth/ForgotPassword.js","components/pages/Dashboard/Update.js","components/routing/Routes.js","components/layout/Moderator.js","App.js","index.js"],"names":["inputs","REGISTER_SUCCESS","LOGIN_SUCCESS","LOGOUT","CLEAR_LOGIN","FORGOT_PASSWORD","RESET_PASSWORD","CHANGE_PASSWORD","AUTH_ERROR","LOADING_AUTH","SET_ALERT","RESET_ALERT","POST_CREATE","POST_RESET","CLEAR_POST","ADD_COMMENT","DELETE_COMMENT","ON_CHANGE","GET_POST","GET_ALL_POST","POST_NEXT_PAGE","UPDATE_POST","DELETE_POST","SEARCH_POSTS","POST_ERROR","ERROR","TOGGLE_CREATE_POST","TOGGLE_EDIT_POST","LOADING_SUBMIT_POST","GET_POST_ERROR","UPDATE_ME","UPDATE_FAILED","GET_ALL_USERS","TOGGLE_MODERATOR","USER_ERROR","DEACTIVATE_USER","ACTIVATE_USER","LOADING_USER","MAKE_COMMITTEE","REMOVE_COMMITTEE","TOGGLE_CREATE_ANNOUNCEMENT","CREATE_ANNOUNCEMENT","GET_ALL_ANNOUNCEMENT","DELETE_ANNOUNCEMENT","UPDATE_ANNOUNCEMENT","LOADING_ANNOUNCEMENT_SUBMIT","ANNOUNCEMENT_ERROR","initialState","users","loading","error","Moderator","usersReducer","state","arguments","length","undefined","action","type","payload","_objectSpread","concat","_toConsumableArray","id","userArray","newUser","index","findIndex","el","_id","replaceUser","currentUser","isAuthenticated","isModified","authReducer","msg","alertType","alertsReducer","postLoading","posts","post","edit","postEdit","totalPages","postError","postReducer","Math","ceil","numPosts","limit","contentState","textEditorReducer","announcements","announcementReducer","filterAnnouncement","filter","reducers","combineReducers","auth","alerts","textEditor","middleware","thunk","composeEnhancers","composeWithDevTools","trace","store","createStore","rootReducer","applyMiddleware","apply","scrollToTop","document","body","scrollTop","documentElement","setAlert","dispatch","resetAlert","catchAsync","fn","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","catch","_ref2","_callee","err","_context","response","status","abrupt","data","message","logoutUser","stop","_x2","_x","_ref4","_callee3","_context3","axios","get","_x3","connect","_useState","useState","_useState2","_slicedToArray","nav","setNav","toggleNav","_jsx","_Fragment","children","_jsxs","className","Link","to","style","textDecoration","width","src","logo","alt","name","checked","onChange","htmlFor","onClick","Container","Object","keys","map","alert","Component","component","rest","_objectWithoutProperties","_excluded","Route","render","props","Alert","Spinner","Fragment","spinner","margin","display","_ref$auth","useEffect","active","NewRoute","Redirect","useForms","blankForm","args","formData","setFormData","handleChange","e","_defineProperty","target","value","handleSubmit","preventDefault","handleCancel","registerUser","url","res","sent","firstName","lastName","_ref$users","history","initialFormState","email","location","href","replace","_useForms","names","label","placeholder","role","push","onSubmit","maxLength","autoComplete","required","loginUser","password","gap","marginBottom","Members","user","deActivateUser","activateUser","changeRole","photo","img","alignItems","justifyContent","MdEmail","defaultValue","FaUserTimes","FaUserPlus","Table","setActive","SmallList","getAllUsers","_ref5","userId","_ref6","_callee4","_context4","patch","_x4","_ref7","_callee5","_context5","_x5","isCommittee","_ref8","_callee6","_res","_context6","_x6","activeUsers","unActiveUsers","ImageAdd","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","Array","_key","call","open","onPopoverClick","preventNextClose","openPopover","setState","closePopover","addImage","image","some","includes","_this$props","editorState","modifier","changeUrl","evt","_createClass","key","addEventListener","this","removeEventListener","popoverClassName","buttonClassName","GoFileMedia","fontSize","onMouseUp","pluginDecorator","listOfPlugins","CompositeDecorator","plugin","_step","decorators","_iterator","_createForOfIteratorHelper","s","n","done","f","getPluginDecoratorArray","HANDLED","hasCommandModifier","KeyBindingUtil","linkifyPlugin","createLinkifyPlugin","blockKey","blockkey","focusPlugin","createFocusPlugin","blockDndPlugin","createBlockDndPlugin","resizeablePlugin","createResizeablePlugin","imageDecorator","composeDecorators","decorator","createImagePlugin","TextEditor","focus","editor","plainText","getCurrentContent","getPlainText","convertToRaw","handleBeforeInput","chars","currentContentState","selectionState","getSelection","EditorState","Modifier","replaceText","handleKeyCommand","command","newState","RichUtils","mapKeyToEditorCommand","keyCode","getDefaultKeyBinding","toggleBlockType","blockType","toggleInlineStyle","inlineStyle","text","createEmpty","createWithContent","convertFromRaw","JSON","parse","forceUpdate","_this2","hasText","getBlockMap","first","getType","InlineStyleControls","onToggle","BlockStyleControls","Editor","blockStyleFn","getBlockStyle","keyBindingFn","ref","element","spellCheck","plugins","block","StyleButton","_React$Component","_super2","_this3","onMouseDown","React","BLOCK_TYPES","IoMdQuote","GoListUnordered","GoListOrdered","selection","getBlockForKey","getStartKey","i","INLINE_STYLES","FaBold","FaItalic","FaUnderline","currentStyle","getCurrentInlineStyle","has","handleToggle","title","setTitle","textToContentState","ContentState","createFromText","content","setContent","ReadOnly","convertedState","readOnly","toggleEdit","createAnnouncement","jsonContentState","stringify","updateAnnouncement","newTitle","newContentState","deleteAnnouncement","window","confirm","delete","_ref$announcements","_useState3","_useState4","setId","_useState5","_useState6","setType","_useState7","_useState8","contentEdit","setContentEdit","_useState9","_useState10","plainTextEdit","setPlainTextEdit","ContentEditor","FaPlusCircle","lastEdited","date","Moment","tz","format","postId","currentTitle","postContentState","postPlainText","User","newImageSrc","Date","now","FaUserAlt","FaKey","getAnnouncements","_ref3","Announcements","postLimitPerPage","DiscussionHead","createPost","toggleCreatePost","searchPost","setPage","setIsSearch","getAllPost","search","setSearch","FaSearch","DiscussionPost","count","IoIosChatboxes","SpinnerSmall","page","_ref14","_callee9","_context9","_x9","postNextPage","isSearch","_ref$post","renderPosts","comments","InfiniteScroll","pageStart","loadMore","hasMore","threshold","loader","PostComment","deleteComment","userNameLength","convertedName","toUpperCase","screen","commentId","IoIosTrash","PostHead","toggleEditPost","handleDeletePost","PageButtons","nextPage","previousPage","getPost","currentPage","isNaN","addComment","_ref10","_ref11","_callee7","_context7","_x7","deletePost","_ref9","_ref12","_ref13","_callee8","_context8","put","_x8","updatePost","match","params","parseInt","split","handleToggleEditPost","start","end","slice","c","Comments","forgotPassword","setEmail","resetPassword","resetToken","confirmPassword","input","minLength","updateMe","file","uploadConfig","headers","setFile","accept","files","changePassword","_ref8$formData","currentPassword","newPassword","Routes","Switch","PrivateRoute","exact","path","Register","Login","ForgotPassword","ResetPassword","MemberList","Discussion","Dashboard","Update","ChangePassword","Post","toggleView","withRouter","t0","Provider","Navbar","ReactDOM","Router","App","getElementById"],"mappings":"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","file":"static/js/main.a55de21f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { registerUser } from \"../../actions/users\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport let inputs;\r\n\r\nexport const Register = ({\r\n\tregisterUser,\r\n\tusers: { loading, Moderator },\r\n\tauth: { currentUser },\r\n\thistory,\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = { firstName: \"\", lastName: \"\", email: \"\" };\r\n\r\n\t// replace register with login to send url by email to user\r\n\tconst url = document.location.href.replace(\"register\", \"login\");\r\n\r\n\tconst { formData, handleChange, handleSubmit, handleCancel } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tregisterUser,\r\n\t\t{\r\n\t\t\turl,\r\n\t\t}\r\n\t);\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"First Name\",\r\n\t\t\tplaceholder: \"Enter first name\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Last Name\",\r\n\t\t\tplaceholder: \"Enter last name\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Email\",\r\n\t\t\tplaceholder: \"Enter Email\",\r\n\t\t\tname: names[2],\r\n\t\t\tvalue: formData[names[2]],\r\n\t\t},\r\n\t];\r\n\r\n\treturn currentUser.role === \"user\" || !Moderator ? (\r\n\t\t<Redirect to=\"/dashboard\" />\r\n\t) : loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"Form__goBack btn__cancel\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/members\");\r\n\t\t\t\t}}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t<h1>Register a User</h1>\r\n\t\t\t<p className=\"Form__text\">Please fill the form as per member's details</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t<label key={inputs[0].label}>\r\n\t\t\t\t\t\t\t\t<b>{inputs[0].label}</b>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={inputs[0].placeholder}\r\n\t\t\t\t\t\t\t\t\tvalue={inputs[0].value}\r\n\t\t\t\t\t\t\t\t\tname={inputs[0].name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label key={inputs[1].label}>\r\n\t\t\t\t\t\t\t\t<b>{inputs[1].label}</b>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={inputs[1].placeholder}\r\n\t\t\t\t\t\t\t\t\tvalue={inputs[1].value}\r\n\t\t\t\t\t\t\t\t\tname={inputs[1].name}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t<label key={inputs[2].label}>\r\n\t\t\t\t\t<b>{inputs[2].label}</b>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder={inputs[2].placeholder}\r\n\t\t\t\t\t\tvalue={inputs[2].value}\r\n\t\t\t\t\t\tname={inputs[2].name}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t<div className=\"Form__btns\">\r\n\t\t\t\t\t<button className=\"btn\" onClick={handleCancel}>\r\n\t\t\t\t\t\tClear\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Register\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRegister.propTypes = {\r\n\tregisterUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: state.users,\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { registerUser })(Register);\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { loginUser } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport let inputs;\r\n\r\nexport const Login = ({\r\n\tloginUser,\r\n\thistory,\r\n\tauth: { isAuthenticated, loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t};\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tloginUser,\r\n\t\t{ history }\r\n\t);\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Email\",\r\n\t\t\tplaceholder: \"Enter email\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Password\",\r\n\t\t\tplaceholder: \"Enter Password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t];\r\n\r\n\t// Redirect if logged in\r\n\tif (isAuthenticated) {\r\n\t\treturn <Redirect to=\"/dashboard\" />;\r\n\t}\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tPlease login with your email address and password\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<b>{inputs[0].label}</b>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder={inputs[0].placeholder}\r\n\t\t\t\t\t\tname={inputs[0].name}\r\n\t\t\t\t\t\tvalue={inputs[0].value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<b>{inputs[1].label}</b>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder={inputs[1].placeholder}\r\n\t\t\t\t\t\tname={inputs[1].name}\r\n\t\t\t\t\t\tvalue={inputs[1].value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div style={{ display: \"flex\", gap: \"2rem\", marginBottom: \"4rem\" }}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\tawait loginUser({\r\n\t\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t\temail: \"test@example.com\",\r\n\t\t\t\t\t\t\t\t\tpassword: \"test123\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\thistory,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"btn btn__submit-trial\">\r\n\t\t\t\t\t\tTEST USER\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Login\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Link className=\"Form__link\" to=\"/forgotpassword\">\r\n\t\t\t\t\tForgot your password?\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nLogin.propTypes = {\r\n\tloginUser: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loginUser })(Login);\r\n","// Auth\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const CLEAR_LOGIN = 'CLEAR_LOGIN';\r\nexport const FORGOT_PASSWORD = 'FORGOT_PASSWORD';\r\nexport const RESET_PASSWORD = 'RESET_PASSWORD';\r\nexport const CHANGE_PASSWORD = 'CHANGE_PASSWORD';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOADING_AUTH = 'LOADING_AUTH';\r\n\r\n// Alerts\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const RESET_ALERT = 'RESET_ALERT';\r\n\r\n// Post and discussion\r\nexport const POST_CREATE = 'POST_CREATE';\r\nexport const POST_RESET = 'POST_RESET';\r\nexport const CLEAR_POST = 'CLEAR_POST';\r\nexport const ADD_COMMENT = 'ADD_COMMENT';\r\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\r\nexport const ON_CHANGE = 'ON_CHANGE';\r\nexport const GET_POST = 'GET_POST';\r\nexport const GET_ALL_POST = 'GET_ALL_POST';\r\nexport const POST_NEXT_PAGE = 'POST_NEXT_PAGE';\r\nexport const UPDATE_POST = 'UPDATE_POST';\r\nexport const DELETE_POST = 'DELETE_POST';\r\nexport const SEARCH_POSTS = 'SEARCH_POSTS';\r\nexport const POST_LOADING = 'POST_LOADING';\r\nexport const POST_ERROR = 'POST_ERROR';\r\nexport const ERROR = 'ERROR';\r\nexport const TOGGLE_CREATE_POST = 'TOGGLE_CREATE_POST';\r\nexport const TOGGLE_EDIT_POST = 'TOGGLE_EDIT_POST';\r\nexport const LOADING_SUBMIT_POST = 'LOADING_SUBMIT_POST';\r\nexport const GET_POST_ERROR = 'GET_POST_ERROR'\r\n\r\n// User\r\nexport const UPDATE_ME = 'UPDATE_ME';\r\nexport const UPDATE_FAILED = 'UPDATE_FAILED';\r\nexport const GET_ALL_USERS = 'GET_ALL_USERS';\r\nexport const TOGGLE_MODERATOR = 'TOGGLE_MODERATOR';\r\nexport const USER_ERROR = 'USER_ERROR';\r\nexport const DEACTIVATE_USER = 'DEACTIVATE_USER';\r\nexport const ACTIVATE_USER = 'ACTIVATE_USER';\r\nexport const LOADING_USER = 'LOADING_USER';\r\nexport const MAKE_COMMITTEE = 'MAKE_COMMITTEE';\r\nexport const REMOVE_COMMITTEE = 'REMOVE_COMMITTEE';\r\n\r\n// Announcements\r\nexport const TOGGLE_CREATE_ANNOUNCEMENT = 'TOGGLE_CREATE_ANNOUNCEMENT';\r\nexport const CREATE_ANNOUNCEMENT = 'CREATE_ANNOUNCEMENT';\r\nexport const GET_ALL_ANNOUNCEMENT = 'GET_ALL_ANNOUNCEMENT';\r\nexport const DELETE_ANNOUNCEMENT = 'DELETE_ANNOUNCEMENT';\r\nexport const UPDATE_ANNOUNCEMENT = 'UPDATE_ANNOUNCEMENT';\r\nexport const LOADING_ANNOUNCEMENT_SUBMIT = 'LOADING_ANNOUNCEMENT_SUBMIT';\r\nexport const ANNOUNCEMENT_ERROR = 'ANNOUNCEMENT_ERROR';\r\n","import {\r\n\tREGISTER_SUCCESS,\r\n\tGET_ALL_USERS,\r\n\tTOGGLE_MODERATOR,\r\n\tUSER_ERROR,\r\n\tDEACTIVATE_USER,\r\n\tACTIVATE_USER,\r\n\tLOADING_USER,\r\n\tMAKE_COMMITTEE,\r\n\tREMOVE_COMMITTEE,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tusers: [],\r\n\tloading: true,\r\n\terror: {},\r\n\tModerator: false,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\r\n\tconst replaceUser = (id, userArray, newUser) => {\r\n\t\tconst index = userArray.findIndex((el) => el._id === id);\r\n\t\tuserArray[index] = newUser;\r\n\t\treturn userArray;\r\n\t};\r\n\r\n\tswitch (type) {\r\n\t\tcase USER_ERROR:\r\n\t\t\treturn { ...state, loading: false };\r\n\t\tcase LOADING_USER:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase REGISTER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t//State needs to be first\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...state.users, payload],\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase GET_ALL_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: payload,\r\n\t\t\t};\r\n\t\tcase TOGGLE_MODERATOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tModerator: !state.Moderator,\r\n\t\t\t};\r\n\r\n\t\tcase DEACTIVATE_USER:\r\n\t\tcase ACTIVATE_USER:\r\n\t\tcase MAKE_COMMITTEE:\r\n\t\tcase REMOVE_COMMITTEE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: replaceUser(payload._id, state.users, payload),\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default usersReducer;\r\n","import {\r\n\tLOGIN_SUCCESS,\r\n\tLOGOUT,\r\n\tCLEAR_LOGIN,\r\n\tAUTH_ERROR,\r\n\tUPDATE_ME,\r\n\tUPDATE_FAILED,\r\n\tLOADING_AUTH,\r\n\tFORGOT_PASSWORD,\r\n\tRESET_PASSWORD,\r\n\tCHANGE_PASSWORD,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tcurrentUser: null,\r\n\tisAuthenticated: false,\r\n\tloading: true,\r\n\tisModified: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\r\n\tswitch (type) {\r\n\t\tcase LOADING_AUTH:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase CLEAR_LOGIN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\tcase RESET_PASSWORD:\r\n\t\tcase CHANGE_PASSWORD:\r\n\t\t\treturn {\r\n\t\t\t\t//State needs to be first\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase FORGOT_PASSWORD:\r\n\t\tcase LOGOUT:\r\n\t\tcase AUTH_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tcase UPDATE_ME:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcurrentUser: payload,\r\n\t\t\t\tisModified: true,\r\n\t\t\t};\r\n\t\tcase UPDATE_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n","import { SET_ALERT, RESET_ALERT, ERROR } from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tmsg: [],\r\n\talertType: null,\r\n\terror: {},\r\n};\r\n\r\nconst alertsReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase SET_ALERT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmsg: [...state.msg, payload.msg],\r\n\t\t\t\talertType: payload.alertType,\r\n\t\t\t};\r\n\t\tcase RESET_ALERT:\r\n\t\t\treturn {\r\n\t\t\t\t...initialState,\r\n\t\t\t};\r\n\t\tcase ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default alertsReducer;\r\n","import {\r\n\tPOST_CREATE,\r\n\tGET_POST,\r\n\tGET_ALL_POST,\r\n\tUPDATE_POST,\r\n\tDELETE_POST,\r\n\tTOGGLE_CREATE_POST,\r\n\tTOGGLE_EDIT_POST,\r\n\tADD_COMMENT,\r\n\tDELETE_COMMENT,\r\n\tPOST_RESET,\r\n\tSEARCH_POSTS,\r\n\tPOST_ERROR,\r\n\tLOADING_SUBMIT_POST,\r\n\tPOST_NEXT_PAGE,\r\n\tCLEAR_POST,\r\n\tGET_POST_ERROR\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tloading: true,\r\n\tpostLoading: true,\r\n\tposts: [],\r\n\tpost: null,\r\n\tedit: false,\r\n\tpostEdit: false,\r\n\ttotalPages: null,\r\n\tpostError: false\r\n};\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase LOADING_SUBMIT_POST:\r\n\t\t\treturn { ...state, loading: true, postLoading: true };\r\n\t\tcase CLEAR_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpost: null,\r\n\t\t\t};\r\n\t\tcase POST_RESET:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tposts: [],\r\n\t\t\t\tpost: null,\r\n\t\t\t\ttotalPages: null,\r\n\t\t\t\tpostError: false\r\n\t\t\t};\r\n\t\tcase TOGGLE_CREATE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: !state.edit,\r\n\t\t\t};\r\n\t\tcase TOGGLE_EDIT_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: !state.postEdit,\r\n\t\t\t};\r\n\t\tcase POST_CREATE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tposts: [payload, ...state.posts],\r\n\t\t\t};\r\n\t\tcase GET_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tpost: payload,\r\n\t\t\t\tpostError: false\r\n\t\t\t};\r\n\t\tcase GET_ALL_POST:\r\n\t\tcase SEARCH_POSTS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tpost: null,\r\n\t\t\t\tposts: payload.posts,\r\n\t\t\t\ttotalPages: Math.ceil(payload.numPosts / payload.limit),\r\n\t\t\t};\r\n\t\tcase POST_NEXT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tposts: [...state.posts, ...payload.posts]\r\n\t\t\t};\r\n\t\tcase UPDATE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpostEdit: false,\r\n\t\t\t\tpost: payload,\r\n\t\t\t};\r\n\r\n\t\tcase DELETE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpost: null,\r\n\t\t\t\tpostLoading: true,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ADD_COMMENT:\r\n\t\tcase DELETE_COMMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tpost: {\r\n\t\t\t\t\t...state.post,\r\n\t\t\t\t\t...payload,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\tcase POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase GET_POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostLoading: false,\r\n\t\t\t\ttotalPages: null,\r\n\t\t\t\tpostError: true\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default postReducer;\r\n","import { ON_CHANGE } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\t// This state is for creating/editing announcements,post and comments\r\n\t// For the current editor on page\r\n\t// ONLY one editor per page!\r\n\tcontentState: {},\r\n};\r\n\r\nconst textEditorReducer = (state = initialState, action) => {\r\n\tconst { payload, type } = action;\r\n\tswitch (type) {\r\n\t\tcase ON_CHANGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcontentState: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default textEditorReducer;\r\n","import {\r\n\tTOGGLE_CREATE_ANNOUNCEMENT,\r\n\tCREATE_ANNOUNCEMENT,\r\n\tGET_ALL_ANNOUNCEMENT,\r\n\tDELETE_ANNOUNCEMENT,\r\n\tUPDATE_ANNOUNCEMENT,\r\n\tLOADING_ANNOUNCEMENT_SUBMIT,\r\n\tANNOUNCEMENT_ERROR,\r\n} from \"../actions/types\";\r\n\r\nexport const initialState = {\r\n\tloading: true,\r\n\tedit: false,\r\n\tannouncements: [],\r\n};\r\n\r\nconst announcementReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase ANNOUNCEMENT_ERROR:\r\n\t\t\treturn { ...state, loading: false };\r\n\t\tcase LOADING_ANNOUNCEMENT_SUBMIT:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase TOGGLE_CREATE_ANNOUNCEMENT:\r\n\t\t\treturn { ...state, edit: !state.edit };\r\n\t\tcase CREATE_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tannouncements: [payload, ...state.announcements],\r\n\t\t\t};\r\n\t\tcase UPDATE_ANNOUNCEMENT:\r\n\t\t\tconst filterAnnouncement = state.announcements.filter(\r\n\t\t\t\t(el) => payload._id !== el._id\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tannouncements: [payload, ...filterAnnouncement], //top of array\r\n\t\t\t};\r\n\t\tcase DELETE_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tannouncements: state.announcements.filter((el) => payload !== el._id),\r\n\t\t\t};\r\n\t\tcase GET_ALL_ANNOUNCEMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tannouncements: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default announcementReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport users from \"./users\";\r\nimport auth from \"./auth\";\r\nimport alerts from \"./alerts\";\r\nimport post from \"./post\";\r\nimport textEditor from \"./textEditor\";\r\nimport announcements from \"./announcements\";\r\n\r\nconst reducers = combineReducers({\r\n\tusers,\r\n\tannouncements,\r\n\tpost,\r\n\tauth,\r\n\talerts,\r\n\ttextEditor,\r\n});\r\n\r\nexport default reducers;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nexport const middleware = [thunk];\r\nexport const composeEnhancers = composeWithDevTools({ trace: true }); //allows tracing\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n\r\n// REDUX\r\n// 1) Set up store store = createStore(rootReducer, initialState, compose(applyMiddleware(...middleware)))\r\n// 2) Add provider and parameter store inside it, inside app.js\r\n// 3) create rootReducer that uses combineReducer\r\n// 4) Create reducer with initial state, action ---- action takes in a type and pay load /// Add switch case statement for each cases that return a payload from actions\r\n// 5) To make sure strings are immutable, store types into a variable in a file under the folder actions/types\r\n// 6) Create action with argument of dispatch and using thunk, add arguments to be used in the payload.\r\n// 7) Go to component that will use the action and add connect()(Component). --- it takes in connect(mapStateToProps?, mapDispatchToProps?, mergeProps?, options?)\r\n// 8) Add proptypes of Component and inside, the actions you imported: 'pt/f/r' and then use actions passing in the arguments required.\r\n// 9) Create a component for the action by adding connect with mapStateToProps, creating the function that passes a state --- this is done through connect and root reducer.\r\n// 10) Now have access to the state and can include conditionals of what to display/input based on state.\r\n// 11) Add component and it should work\r\n","const scrollToTop = () => {\r\n\tdocument.body.scrollTop = 0;\r\n\tdocument.documentElement.scrollTop = 0;\r\n};\r\n\r\nexport default scrollToTop;\r\n","import { SET_ALERT, RESET_ALERT } from \"./types\";\r\nimport scrollToTop from \"../utils/scrollToTop\";\r\n\r\nexport const setAlert = (msg, alertType) => (dispatch) => {\r\n\t// Dispatch alert message\r\n\tdispatch({\r\n\t\ttype: SET_ALERT,\r\n\t\tpayload: { msg, alertType },\r\n\t});\r\n\t// Scroll to top of page\r\n\tscrollToTop();\r\n};\r\n\r\nexport const resetAlert = () => (dispatch) => {\r\n\tdispatch({ type: RESET_ALERT });\r\n};\r\n","import { setAlert } from \"../actions/alerts\";\r\nimport {\r\n\tERROR,\r\n\tPOST_ERROR,\r\n\tANNOUNCEMENT_ERROR,\r\n\tAUTH_ERROR,\r\n\tUPDATE_FAILED,\r\n\tUSER_ERROR,\r\n\tGET_POST_ERROR,\r\n\tLOGOUT\r\n} from \"../actions/types\";\r\nimport { logoutUser } from \"../actions/auth\";\r\n\r\n// So when only one argument is provided, it will be fn\r\nconst catchAsync = (type, fn = type) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait fn(dispatch).catch(async (err) => {\r\n\t\t\t// If server fails logout user\r\n\t\t\tif (err.response.status === 500) return dispatch({ type: LOGOUT })\r\n\t\t\t\r\n\t\t\t// The types handles when loading is still true\r\n\t\t\tif (err.response.data.message) dispatch(setAlert(err.response.data.message, \"fail\"));\r\n\t\t\tif (type === \"post\") dispatch({ type: POST_ERROR });\r\n\t\t\tif (type === \"getpost\") dispatch({ type: GET_POST_ERROR });\r\n\t\t\tif (type === \"auth\") dispatch({ type: AUTH_ERROR });\r\n\t\t\tif (type === \"update\") dispatch({ type: UPDATE_FAILED });\r\n\t\t\tif (type === \"announcement\") dispatch({ type: ANNOUNCEMENT_ERROR });\r\n\t\t\tif (type === \"user\") dispatch({ type: USER_ERROR });\r\n\t\t\t// Log user out if deactivated --- 401 Unauthorized\r\n\t\t\t// Log out user if roles changed --- 403  Forbidden\r\n\t\t\tif (err.response.status === 401 || err.response.status === 403) {\r\n\t\t\t\t// Remove the cookie\r\n\t\t\t\tawait dispatch(logoutUser());\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ERROR,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tmsg: err.response.data.message,\r\n\t\t\t\t\tstatus: err.response.status,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n};\r\n\r\nexport default catchAsync;","import axios from \"axios\";\r\nimport {\r\n\tLOGIN_SUCCESS,\r\n\tCLEAR_LOGIN,\r\n\tLOGOUT,\r\n\tAUTH_ERROR,\r\n\tFORGOT_PASSWORD,\r\n\tLOADING_AUTH,\r\n\tRESET_PASSWORD,\r\n\tCHANGE_PASSWORD,\r\n} from \"../actions/types\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\nimport { resetAlert, setAlert } from \"./alerts\";\r\n\r\nexport const loginUser = ({ formData, history }) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Need to be in every post/put/patch action with alert\r\n\t\t// If request fails there may be an alert for the error\r\n\t\tdispatch(resetAlert());\r\n\t\t// ENSURE auth is empty and change loading state to true\r\n\t\tdispatch({ type: CLEAR_LOGIN });\r\n\t\t// Send login form\r\n\t\tconst res = await axios.post(\"/api/auth/login\", formData);\r\n\t\t// Dispatch login action authenticating user\r\n\t\t// Change login state to false\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\t// Navigate user to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t});\r\n\r\nexport const checkUser = () => async (dispatch) => {\r\n\ttry {\r\n\t\t// Check if user is logged in at the start of the app\r\n\t\tconst res = await axios.get(\"/api/auth/checkUser\");\r\n\t\t// Log user in if user has a JWT cookie from browser client\r\n\t\tconst user = res.data;\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: user,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// If not logged in, dispatch authenticate error action\r\n\t\tdispatch({ type: AUTH_ERROR });\r\n\t}\r\n};\r\n\r\nexport const logoutUser = () =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// ENSURE auth is empty and change loading state to true\r\n\t\tdispatch({ type: CLEAR_LOGIN });\r\n\t\t// Make request to logout user\r\n\t\tawait axios.get(\"/api/auth/logout\");\r\n\t\t// Dispatch logout action and change loading state to false\r\n\t\tdispatch({ type: LOGOUT });\r\n\t});\r\n\r\nexport const forgotPassword = (email, url) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Reset any previous alert that may be set\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tawait axios.post(\"/api/auth/forgotPassword\", { email, url });\r\n\t\t// Change loading state to false due to forgot password\r\n\t\tdispatch({ type: FORGOT_PASSWORD });\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t\"Success! Please check your email to reset your password.\",\r\n\t\t\t\t\"success\"\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\nexport const resetPassword = ({ password, resetToken, history }) =>\r\n\tcatchAsync(\"auth\", async (dispatch) => {\r\n\t\t// Clear any previous alert that may be set\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tconst res = await axios.patch(`/api/auth/resetPassword/${resetToken}`, {\r\n\t\t\tpassword,\r\n\t\t});\r\n\t\t// Authenticate user details and change loading state to false\r\n\t\tdispatch({ type: RESET_PASSWORD, payload: res.data });\r\n\t\t// Navigate user to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Success! New passsword has been set.\", \"success\"));\r\n\t});\r\n\r\nexport const changePassword = ({\r\n\tformData: { currentPassword, newPassword },\r\n\thistory,\r\n}) =>\r\n\tcatchAsync(\"update\", async (dispatch) => {\r\n\t\t// Clear any previous alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Change loading state to true\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\t// Send info to server that will send email.\r\n\t\tconst res = await axios.post(`/api/users/updatePassword`, {\r\n\t\t\tcurrentPassword,\r\n\t\t\tnewPassword,\r\n\t\t});\r\n\t\t// Change loading state to false\r\n\t\tdispatch({ type: CHANGE_PASSWORD, payload: res.data });\r\n\t\t// Navigate user back to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Success! Password changed.\", \"success\"));\r\n\t});\r\n","export default __webpack_public_path__ + \"static/media/logo.f70f221d.png\";","import PropTypes from \"prop-types\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logoutUser } from \"../../actions/auth\";\r\nimport logo from \"../../img/logo.png\";\r\n\r\nexport const Navbar = ({ auth: { isAuthenticated }, logoutUser }) => {\r\n\tconst [nav, setNav] = useState(false);\r\n\tconst toggleNav = () => setNav(!nav);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ul className={`Navbar ${!isAuthenticated ? \"Navbar-withLogin\" : \"\"}`}>\r\n\t\t\t\t<Link to=\"/\" style={{ textDecoration: \"none\", width:\"100%\" }}>\r\n\t\t\t\t\t<div className=\"Navbar__left\">\r\n\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t<img className=\"Navbar__logo\" src={logo} alt=\"logo\" />\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<div className=\"Navbar__header\">\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item Navbar__header-text\">\r\n\t\t\t\t\t\t\t\tSouthern River Toastmasters\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item Navbar__header-caption\">\r\n\t\t\t\t\t\t\t\tA President Distinguished Club\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tname=\"checkbox\"\r\n\t\t\t\t\t\t\tid=\"hamburger\"\r\n\t\t\t\t\t\t\tchecked={nav}\r\n\t\t\t\t\t\t\tonChange={toggleNav}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{isAuthenticated && (\r\n\t\t\t\t\t\t\t<label htmlFor=\"hamburger\" className=\"Navbar__button\">\r\n\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"Navbar__right\">\r\n\t\t\t\t\t{isAuthenticated ? (\r\n\t\t\t\t\t\t<ul id=\"nav\" className={nav ? \"Navbar__open\" : \"Navbar__closed\"}>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/dashboard\">\r\n\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/discussion\">\r\n\t\t\t\t\t\t\t\t\tDiscussion\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tonClick={toggleNav}\r\n\t\t\t\t\t\t\t\t\tto=\"/members\">\r\n\t\t\t\t\t\t\t\t\tMembers\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"Navbar__link\"\r\n\t\t\t\t\t\t\t\t\tto=\"/login\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\ttoggleNav();\r\n\t\t\t\t\t\t\t\t\t\tlogoutUser();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<li className=\"Navbar__item\">\r\n\t\t\t\t\t\t\t<Link className=\"Navbar__link\" to=\"/login\">\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</ul>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nNavbar.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tlogoutUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logoutUser })(Navbar);\r\n","import React from \"react\";\r\n\r\nexport const Container = ({ children }) => {\r\n\treturn <div className=\"Container\">{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Alert = ({ msg, alertType, error }) => {\r\n\treturn (\r\n\t\talertType !== null && (\r\n\t\t\t<div className={`Alert Alert__${alertType}`}>\r\n\t\t\t\t<strong>{alertType === \"fail\" ? \"Warning: \" : \"Success: \"}</strong>\r\n\t\t\t\t{Object.keys(error).length === 0 ? msg.map((alert) => (\r\n\t\t\t\t\t<p key={alert}>{alert} </p>\r\n\t\t\t\t)) : <p key={error.status}>{error.msg}</p>}\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nAlert.propTypes = {\r\n\tmsg: PropTypes.array.isRequired,\r\n\talertType: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tmsg: state.alerts.msg,\r\n\talertType: state.alerts.alertType,\r\n\terror: state.alerts.error\r\n});\r\n\r\nexport default connect(mapStateToProps)(Alert);\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { resetAlert } from '../../actions/alerts';\r\nimport Container from '../layout/Container';\r\nimport Alert from '../layout/Alert';\r\n\r\nconst NewRoute = ({ resetAlert, component: Component, ...rest }) => {\r\n\t//\r\n\t//\r\n\t// Added resetAlert here so whenever component is rendered, it removes existing Alerts.\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props => (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t{resetAlert()}\r\n\t\t\t\t\t<Alert />\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t</Container>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nNewRoute.propTypes = {\r\n\tresetAlert: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(\r\n\tnull,\r\n\t{ resetAlert }\r\n)(NewRoute);\r\n","export default \"data:image/gif;base64,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\"","import React, { Fragment } from \"react\";\r\nimport spinner from \"../../img/spinner.gif\";\r\n\r\nconst Spinner = () => (\r\n\t<Fragment>\r\n\t\t<img\r\n\t\t\tsrc={spinner}\r\n\t\t\tstyle={{ width: \"150px\", margin: \"20% auto 0 auto\", display: \"block\" }}\r\n\t\t\talt=\"Loading...\"\r\n\t\t/>\r\n\t</Fragment>\r\n);\r\n\r\nexport default Spinner;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport NewRoute from './NewRoute';\r\nimport Spinner from '../utils/Spinner';\r\nimport Container from '../layout/Container';\r\nimport { logoutUser } from '../../actions/auth';\r\n\r\nconst PrivateRoute = ({\r\n\tauth: { isAuthenticated, currentUser, loading },\r\n\tcomponent: Component,\r\n\tlogoutUser,\r\n\t...rest //refers to exact,path and other props\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\t// if unactive user is logged in\r\n\t\tif (currentUser && !currentUser.active) logoutUser();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn !isAuthenticated && !loading ? (\r\n\t\t<Redirect to=\"/login\" />\r\n\t) : !loading ? (\r\n\t\t<NewRoute {...rest} component={Component} />\r\n\t) : (\r\n\t\t<Container>\r\n\t\t\t<Spinner />\r\n\t\t</Container>\r\n\t);\r\n};\r\n//...rest takes in the rest of the object/ props passed on to component\r\n\r\nPrivateRoute.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tlogoutUser: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ logoutUser }\r\n)(PrivateRoute);\r\n","import { useState } from \"react\";\r\n\r\nconst useForms = (blankForm, action, args) => {\r\n\tconst [formData, setFormData] = useState({ ...blankForm });\r\n\r\n\treturn {\r\n\t\tformData,\r\n\t\thandleChange: (e) => {\r\n\t\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t\t},\r\n\t\thandleSubmit: (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\taction({ formData, ...args });\r\n\t\t\tsetFormData({ ...blankForm });\r\n\t\t},\r\n\t\thandleCancel: () => {\r\n\t\t\tsetFormData({ ...blankForm });\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default useForms;\r\n","import axios from \"axios\";\r\nimport {\r\n\tREGISTER_SUCCESS,\r\n\tUPDATE_ME,\r\n\tLOADING_AUTH,\r\n\tGET_ALL_USERS,\r\n\tTOGGLE_MODERATOR,\r\n\tDEACTIVATE_USER,\r\n\tACTIVATE_USER,\r\n\tLOADING_USER,\r\n\tMAKE_COMMITTEE,\r\n\tREMOVE_COMMITTEE,\r\n} from \"../actions/types\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\nexport const registerUser = ({ formData, url }) =>\r\n\tcatchAsync(\"user\", async (dispatch) => {\r\n\t\t// Reset alert if there is register user error alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Deploy loading screen\r\n\t\tdispatch({ type: LOADING_USER });\r\n\t\t// send form data and current page url to send link with jwt token to user email\r\n\t\tconst res = await axios.post(\"/api/users/register\", { ...formData, url });\r\n\t\t// dispatch register action\r\n\t\tdispatch({ type: REGISTER_SUCCESS, payload: res.data });\r\n\r\n\t\t// send alert to user\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t`${formData.firstName} ${formData.lastName} was successfully registered and temporary password sent to user's email`,\r\n\t\t\t\t\"success\"\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\nexport const updateMe = ({formData, file, history}) =>\r\n\tcatchAsync(\"update\", async (dispatch) => {\r\n\t\t// Reset alert if there was error\r\n\t\tdispatch(resetAlert());\r\n\t\t// Deploy loading screen\r\n\t\tdispatch({ type: LOADING_AUTH });\r\n\t\tif (file) {\r\n\t\t\t// Send request for aws s3 url config\r\n\t\t\tconst uploadConfig = await axios.post(\"/api/upload\", { type: file.type });\r\n\t\t\t// Upload photo to AWS S3 bucket\r\n\t\t\tawait axios.put(uploadConfig.data.url, file, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": file.type,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t// Set photo link to update user details\r\n\t\t\tformData.photo = `https://toastmaster-user-photo.s3-ap-southeast-2.amazonaws.com/${uploadConfig.data.key}`;\r\n\t\t}\r\n\t\t// Send updated user details\r\n\t\tconst res = await axios.patch(\"/api/users/updateMe\", formData);\r\n\t\t// Dispatch updated user details\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_ME,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\t// Navigate user  back to dashboard\r\n\t\thistory.push(\"/dashboard\");\r\n\t\t// Send alert to user that details as updated\r\n\t\tdispatch(setAlert(\"User updated\", \"success\"));\r\n\t});\r\n\r\nexport const getAllUsers = () =>\r\n\tcatchAsync(\"user\", async (dispatch) => {\r\n\t\t// Send request to get all user sorted by first name\r\n\t\tconst res = await axios.get(`/api/users?sort=firstName`);\r\n\r\n\t\t// Dispatch results to redux state\r\n\t\tdispatch({\r\n\t\t\ttype: GET_ALL_USERS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t});\r\n\r\nexport const toggleView = () => (dispatch) =>\r\n\t// Change view state if user is committee or admin\r\n\tdispatch({ type: TOGGLE_MODERATOR });\r\n\r\nexport const deActivateUser = (userId) =>\r\n\tcatchAsync(\"user\", async (dispatch) => {\r\n\t\t// Remove any previous alert or alert from error\r\n\t\tdispatch(resetAlert());\r\n\t\t// Dispatch loading page\r\n\t\tdispatch({ type: LOADING_USER });\r\n\t\t// Send request to deactivate user\r\n\t\tconst res = await axios.patch(`/api/users/deActivateUser/${userId}`);\r\n\t\t// Dispatch deactivate user action\r\n\t\tdispatch({ type: DEACTIVATE_USER, payload: res.data });\r\n\t\t// Dispatch user deactivation to current user\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t`${res.data.firstName} ${res.data.lastName} has been deactivated!`,\r\n\t\t\t\t\"success\"\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\nexport const activateUser = (userId) =>\r\n\tcatchAsync(\"user\", async (dispatch) => {\r\n\t\t// Reset any previous alerts possibly from error alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Dispatch loading page\r\n\t\tdispatch({ type: LOADING_USER });\r\n\t\t// Make request to reactivate user\r\n\t\tconst res = await axios.patch(`/api/users/activateUser/${userId}`);\r\n\t\t// Dispatch new user details to user list\r\n\t\tdispatch({ type: ACTIVATE_USER, payload: res.data });\r\n\t\t// Dispatch success alert to user\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t`${res.data.firstName} ${res.data.lastName} has been activated!`,\r\n\t\t\t\t\"success\"\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\nexport const changeRole = (userId, isCommittee) =>\r\n\tcatchAsync(\"user\", async (dispatch) => {\r\n\t\t// Remove and previous alert possible from errors\r\n\t\tdispatch(resetAlert());\r\n\t\t// Dispatch loading page\r\n\t\tdispatch({ type: LOADING_USER });\r\n\t\tif (isCommittee === \"true\") {\r\n\t\t\t// Make request to promote non-committee user\r\n\t\t\tconst res = await axios.patch(`/api/users/makeCommittee/${userId}`);\r\n\t\t\t// Dispatch updated user detail to user list\r\n\t\t\tdispatch({ type: MAKE_COMMITTEE, payload: res.data });\r\n\t\t\t// Dispatch alert to user\r\n\t\t\tdispatch(\r\n\t\t\t\tsetAlert(\r\n\t\t\t\t\t`${res.data.firstName} ${res.data.lastName} is now a committee member`,\r\n\t\t\t\t\t\"success\"\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\t// Make request to demote a committee member\r\n\t\t\tconst res = await axios.patch(`/api/users/removeCommittee/${userId}`);\r\n\t\t\t// Dispatch updated user detail to user list\r\n\t\t\tdispatch({ type: REMOVE_COMMITTEE, payload: res.data });\r\n\t\t\t// Dispatch alert to user\r\n\t\t\tdispatch(\r\n\t\t\t\tsetAlert(\r\n\t\t\t\t\t`${res.data.firstName} ${res.data.lastName} is back to a normal member`,\r\n\t\t\t\t\t\"success\"\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n","export default __webpack_public_path__ + \"static/media/anonymous.f53f00ea.png\";","import React from 'react';\r\nimport { MdEmail } from 'react-icons/md';\r\nimport { FaUserTimes, FaUserPlus } from 'react-icons/fa';\r\nimport img from '../../../img/anonymous.png';\r\n\r\nexport const Members = ({\r\n\tuser,\r\n\tModerator,\r\n\tactive,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tcurrentUser,\r\n\tchangeRole\r\n}) => {\r\n\treturn (\r\n\t\t<tr key={user._id} className=\"MemberList__member\">\r\n\t\t\t<td>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName=\"MemberList__member-photo\"\r\n\t\t\t\t\tsrc={user.photo || img}\r\n\t\t\t\t\talt=\"user avatar\"\r\n\t\t\t\t/>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<span className=\"MemberList__member-name\">{user.firstName}</span>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<span className=\"MemberList__member-name\">{user.lastName}</span>\r\n\t\t\t</td>\r\n\t\t\t{(Moderator || active) && (\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\tjustifyContent: 'center'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`mailto:${user.email}`}\r\n\t\t\t\t\t\t\ttarget=\"_top\"\r\n\t\t\t\t\t\t\tclassName=\"MemberList__member-email\">\r\n\t\t\t\t\t\t\t<MdEmail />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</td>\r\n\t\t\t)}\r\n\t\t\t{Moderator && currentUser.role === 'admin' && active && (\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tdefaultValue={user.role === 'committee' || user.role === 'admin'}\r\n\t\t\t\t\t\tonChange={e => changeRole(user._id, e.target.value)}>\r\n\t\t\t\t\t\t<option value={true}>Yes</option>\r\n\t\t\t\t\t\t<option value={false}>No</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\r\n\t\t\t)}\r\n\t\t\t{Moderator &&\r\n\t\t\t\t(active ? (\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"btn btn__delete-xs\"\r\n\t\t\t\t\t\t\tonClick={() => deActivateUser(user._id)}>\r\n\t\t\t\t\t\t\t<FaUserTimes className=\"MemberList__deactivate\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<button className=\"btn btn__activate-xs\">\r\n\t\t\t\t\t\t\t<FaUserPlus\r\n\t\t\t\t\t\t\t\tclassName=\"MemberList__activate\"\r\n\t\t\t\t\t\t\t\tonClick={() => activateUser(user._id)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t))}\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default Members;\r\n","import React, { useEffect } from 'react';\r\nimport Members from './Members';\r\n\r\nconst Table = ({\r\n\tusers,\r\n\tModerator,\r\n\tactive,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tcurrentUser,\r\n\tsetActive,\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangeRole\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tif (users.length === 0) {\r\n\t\t\tresetAlert();\r\n\t\t\tsetActive(true);\r\n\t\t\tsetAlert('Currently there are no unactive users', 'fail');\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [users]);\r\n\treturn (\r\n\t\t<table className=\"MemberList__list\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Photo</th>\r\n\t\t\t\t\t<th>First Name</th>\r\n\t\t\t\t\t<th>Last Name</th>\r\n\t\t\t\t\t{(Moderator || active) && <th>Email</th>}\r\n\t\t\t\t\t{Moderator && currentUser.role === 'admin' && active && (\r\n\t\t\t\t\t\t<th>Committee</th>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{Moderator && (active ? <th>Deactivate</th> : <th>Activate</th>)}\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users.map(user => (\r\n\t\t\t\t\t<Members\r\n\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\tModerator={Moderator}\r\n\t\t\t\t\t\tactive={active}\r\n\t\t\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\tchangeRole={changeRole}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default Table;\r\n","import React, { useEffect } from 'react';\r\nimport { MdEmail } from 'react-icons/md';\r\nimport img from '../../../img/anonymous.png';\r\n\r\nconst SmallList = ({\r\n\tusers,\r\n\tModerator,\r\n\tactive,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tcurrentUser,\r\n\tsetActive,\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangeRole\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tif (users.length === 0) {\r\n\t\t\tresetAlert();\r\n\t\t\tsetActive(true);\r\n\t\t\tsetAlert('Currently there are no unactive users', 'fail');\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [users]);\r\n\r\n\treturn (\r\n\t\t<div className=\"SmallList\">\r\n\t\t\t{users.map(user => (\r\n\t\t\t\t<div className=\"SmallList__user\" key={user._id}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"SmallList__photo\"\r\n\t\t\t\t\t\tsrc={user.photo || img}\r\n\t\t\t\t\t\talt=\"avatar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"SmallList__body\">\r\n\t\t\t\t\t\t<div className=\"SmallList__details\">\r\n\t\t\t\t\t\t\t<span className=\"SmallList__name\">\r\n\t\t\t\t\t\t\t\t{user.firstName}&nbsp;{user.lastName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t{(active || Moderator) && (\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclassName=\"SmallList__email\"\r\n\t\t\t\t\t\t\t\t\thref={`mailto:${user.email}`}\r\n\t\t\t\t\t\t\t\t\ttarget=\"_top\">\r\n\t\t\t\t\t\t\t\t\t<MdEmail />\r\n\t\t\t\t\t\t\t\t\t<span>{user.email}</span>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{Moderator && (\r\n\t\t\t\t\t\t\t<div className=\"SmallList__moderator\">\r\n\t\t\t\t\t\t\t\t{Moderator && currentUser.role === 'admin' && active && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"SmallList__committee\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>Committee</strong>\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tuser.role === 'committee' || user.role === 'admin'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => changeRole(user._id, e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={true}>Yes</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={false}>No</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{active ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"SmallList__deactivate\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deActivateUser(user._id)}>\r\n\t\t\t\t\t\t\t\t\t\tDeactivate\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"SmallList__activate\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => activateUser(user._id)}>\r\n\t\t\t\t\t\t\t\t\t\tActivate\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SmallList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n\tgetAllUsers,\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tchangeRole\r\n} from '../../../actions/users';\r\nimport { setAlert, resetAlert } from '../../../actions/alerts';\r\nimport Spinner from '../../utils/Spinner';\r\nimport Table from './Table';\r\nimport SmallList from './SmallList';\r\n\r\nexport const MemberList = ({\r\n\tgetAllUsers,\r\n\tusers: { users, loading, Moderator },\r\n\tauth: { currentUser },\r\n\tdeActivateUser,\r\n\tactivateUser,\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangeRole\r\n}) => {\r\n\tconst [active, setActive] = useState(true);\r\n\tuseEffect(() => {\r\n\t\tgetAllUsers(active);\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst activeUsers = users.filter(user => user.active === true);\r\n\tconst unActiveUsers = users.filter(user => user.active === false);\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"MemberList\">\r\n\t\t\t<h1 className=\"MemberList__title\">Member List</h1>\r\n\t\t\t<div className=\"MemberList__top\">\r\n\t\t\t\t<Link className=\"MemberList__register\" to=\"/register\">\r\n\t\t\t\t\t{Moderator && <button className=\"btn\">Register User</button>}\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<div className=\"MemberList__switch\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tname=\"users\"\r\n\t\t\t\t\t\tid=\"active\"\r\n\t\t\t\t\t\tonChange={() => setActive(!active)}\r\n\t\t\t\t\t\tchecked={active}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"active\">Active</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tname=\"users\"\r\n\t\t\t\t\t\tid=\"unactive\"\r\n\t\t\t\t\t\tonChange={() => setActive(!active)}\r\n\t\t\t\t\t\tchecked={!active}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"unactive\">Unactive</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* // window.screen.width doesnt take into account the landscape of phone and thus wont rerender, better to use css */}\r\n\t\t\t<Table\r\n\t\t\t\tModerator={Moderator}\r\n\t\t\t\tusers={active ? activeUsers : unActiveUsers}\r\n\t\t\t\tactive={active}\r\n\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\tsetActive={setActive}\r\n\t\t\t\tsetAlert={setAlert}\r\n\t\t\t\tresetAlert={resetAlert}\r\n\t\t\t\tchangeRole={changeRole}\r\n\t\t\t/>\r\n\t\t\t<SmallList\r\n\t\t\t\tclassName=\"MemberList__smallList\"\r\n\t\t\t\tModerator={Moderator}\r\n\t\t\t\tusers={active ? activeUsers : unActiveUsers}\r\n\t\t\t\tactive={active}\r\n\t\t\t\tdeActivateUser={deActivateUser}\r\n\t\t\t\tactivateUser={activateUser}\r\n\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\tsetActive={setActive}\r\n\t\t\t\tsetAlert={setAlert}\r\n\t\t\t\tresetAlert={resetAlert}\r\n\t\t\t\tchangeRole={changeRole}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nMemberList.propTypes = {\r\n\tgetAllUsers: PropTypes.func.isRequired,\r\n\tusers: PropTypes.object.isRequired,\r\n\tdeActivateUser: PropTypes.func.isRequired,\r\n\tactivateUser: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tchangeRole: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tusers: state.users,\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tgetAllUsers,\r\n\t\tdeActivateUser,\r\n\t\tactivateUser,\r\n\t\tsetAlert,\r\n\t\tresetAlert,\r\n\t\tchangeRole\r\n\t}\r\n)(MemberList);\r\n","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport { GoFileMedia } from 'react-icons/go';\r\nimport img from '../../../../img/notfound.png';\r\n\r\nexport default class ImageAdd extends Component {\r\n\t// Start the popover closed\r\n\tstate = {\r\n\t\turl: '',\r\n\t\topen: false\r\n\t};\r\n\r\n\t// When the popover is open and users click anywhere on the page,\r\n\t// the popover should close\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('click', this.closePopover);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('click', this.closePopover);\r\n\t}\r\n\r\n\t// Note: make sure whenever a click happens within the popover it is not closed\r\n\tonPopoverClick = () => {\r\n\t\tthis.preventNextClose = true;\r\n\t};\r\n\r\n\topenPopover = () => {\r\n\t\tif (!this.state.open) {\r\n\t\t\tthis.preventNextClose = true;\r\n\t\t\tthis.setState({\r\n\t\t\t\topen: true\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tclosePopover = () => {\r\n\t\tif (!this.preventNextClose && this.state.open) {\r\n\t\t\tthis.setState({\r\n\t\t\t\topen: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.preventNextClose = false;\r\n\t};\r\n\r\n\taddImage = () => {\r\n\t\tlet image = img;\r\n\t\tconst imageFiles = ['jpeg', 'jpg', 'gif', 'png'];\r\n\r\n\t\tif (imageFiles.some(el => this.state.url.includes(el))) {\r\n\t\t\timage = this.state.url;\r\n\t\t}\r\n\t\tconst { editorState, onChange } = this.props;\r\n\t\tonChange(this.props.modifier(editorState, image));\r\n\t};\r\n\r\n\tchangeUrl = evt => {\r\n\t\tthis.setState({ url: evt.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst popoverClassName = this.state.open\r\n\t\t\t? 'RichEditor__addImage-addImagePopover'\r\n\t\t\t: 'RichEditor__addImage-addImageClosedPopover';\r\n\t\tconst buttonClassName = this.state.open\r\n\t\t\t? 'RichEditor-styleButton RichEditor-activeButton'\r\n\t\t\t: 'RichEditor-styleButton';\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"RichEditor__addImage\">\r\n\t\t\t\t<GoFileMedia\r\n\t\t\t\t\tstyle={{ fontSize: '2rem' }}\r\n\t\t\t\t\tclassName={buttonClassName}\r\n\t\t\t\t\tonMouseUp={this.openPopover}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={popoverClassName} onClick={this.onPopoverClick}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Paste the image url …\"\r\n\t\t\t\t\t\tclassName=\"RichEditor__addImage-addImageInput\"\r\n\t\t\t\t\t\tonChange={this.changeUrl}\r\n\t\t\t\t\t\tvalue={this.state.url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"RichEditor__addImage-addImageConfirmButton\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={this.addImage}>\r\n\t\t\t\t\t\tAdd\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { CompositeDecorator } from \"draft-js\";\r\n\r\nconst getPluginDecoratorArray = (listOfPlugins) => {\r\n\tlet decorators = [];\r\n\tlet plugin;\r\n\t// check each plugin that will be used in the editor for decorators\r\n\t// (retrieve listOfPlugins however makes sense in your code)\r\n\tfor (plugin of listOfPlugins) {\r\n\t\tif (plugin.decorators !== null && plugin.decorators !== undefined) {\r\n\t\t\t// if the plugin has any decorators, add them to a list of all decorators from all plugins\r\n\t\t\tdecorators = decorators.concat(plugin.decorators);\r\n\t\t}\r\n\t}\r\n\treturn decorators;\r\n};\r\n\r\nconst pluginDecorator = (listOfPlugins) => {\r\n\t// I can't quite remember why I had to wrap things in this exact way, but found that I ran into\r\n\t// errors if I did not both have a MultiDecorator and a CompositeDecorator wrapping\r\n\treturn new CompositeDecorator(getPluginDecoratorArray(listOfPlugins))\r\n\t\r\n};\r\n\r\nexport default pluginDecorator;\r\n","import { ON_CHANGE } from \"./types\";\r\n// This state is for creating/editing announcements,post and comments\r\n// For the current editor on page\r\n// ONLY one editor per page!\r\nexport const onChange = (editorState) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: ON_CHANGE,\r\n\t\tpayload: editorState,\r\n\t});\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { IoMdQuote } from 'react-icons/io';\r\nimport { GoListOrdered, GoListUnordered } from 'react-icons/go';\r\nimport { FaBold, FaItalic, FaUnderline } from 'react-icons/fa';\r\nimport Editor, { composeDecorators } from '@draft-js-plugins/editor';\r\nimport createLinkifyPlugin from '@draft-js-plugins/linkify';\r\nimport createImagePlugin from '@draft-js-plugins/image';\r\nimport createFocusPlugin from '@draft-js-plugins/focus';\r\nimport createBlockDndPlugin from '@draft-js-plugins/drag-n-drop';\r\nimport createResizeablePlugin from '@draft-js-plugins/resizeable';\r\nimport {\r\n\tconvertToRaw,\r\n\tconvertFromRaw,\r\n\tEditorState,\r\n\tRichUtils,\r\n\tgetDefaultKeyBinding,\r\n\tKeyBindingUtil,\r\n\tModifier\r\n} from 'draft-js';\r\nimport ImageAdd from './ImageAdd/ImageAdd';\r\nimport pluginDecorator from './pluginDecorator';\r\nimport { onChange } from '../../../actions/textEditor';\r\n\r\n// This fixes cannot delete child from node error when backspace of links\r\nconst HANDLED = 'handled';\r\nconst { hasCommandModifier } = KeyBindingUtil;\r\nconst linkifyPlugin = createLinkifyPlugin({\r\n\t//This gets rid of blockkey error warnings\r\n\tcomponent: ({ blockKey, ...rest }) => (\r\n\t\t// eslint-disable-next-line no-alert, jsx-a11y/anchor-has-content\r\n\t\t<a {...rest} blockkey={blockKey} target=\"_blank\" />\r\n\t)\r\n});\r\nconst focusPlugin = createFocusPlugin();\r\nconst blockDndPlugin = createBlockDndPlugin();\r\nconst resizeablePlugin = createResizeablePlugin();\r\nconst imageDecorator = composeDecorators(\r\n\tfocusPlugin.decorator,\r\n\tblockDndPlugin.decorator,\r\n\tresizeablePlugin.decorator\r\n);\r\nconst imagePlugin = createImagePlugin({ decorator: imageDecorator });\r\nconst listOfPlugins = [\r\n\tlinkifyPlugin,\r\n\tblockDndPlugin,\r\n\tresizeablePlugin,\r\n\tfocusPlugin,\r\n\timagePlugin\r\n];\r\nconst decorator = pluginDecorator(listOfPlugins);\r\n\r\nclass TextEditor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\teditorState: this.props.contentState\r\n\t\t\t\t? EditorState.createWithContent(\r\n\t\t\t\t\t\tconvertFromRaw(JSON.parse(this.props.contentState)),\r\n\t\t\t\t\t\tdecorator\r\n\t\t\t\t  )\r\n\t\t\t\t: EditorState.createEmpty(),\r\n\t\t\tplainText: ''\r\n\t\t}; //Always makes a new content whenever rendered\r\n\t}\r\n\tcomponentDidCatch() {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\r\n\tfocus = () => this.editor.focus();\r\n\r\n\tonChange = editorState => {\r\n\t\tthis.setState({\r\n\t\t\teditorState,\r\n\t\t\tplainText: this.state.editorState.getCurrentContent().getPlainText()\r\n\t\t});\r\n\t\tthis.props.onChange(\r\n\t\t\tconvertToRaw(editorState.getCurrentContent()) // Sends the content to redux state\r\n\t\t);\r\n\t};\r\n\r\n\thandleBeforeInput = (chars, editorState) => {\r\n\t\tconst currentContentState = editorState.getCurrentContent();\r\n\t\tconst selectionState = editorState.getSelection();\r\n\r\n\t\tthis.onChange(\r\n\t\t\tEditorState.push(\r\n\t\t\t\teditorState,\r\n\t\t\t\tModifier.replaceText(currentContentState, selectionState, chars)\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\treturn HANDLED;\r\n\t};\r\n\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\tmapKeyToEditorCommand = e => {\r\n\t\tif (e.keyCode === 83 /* `S` key */ && hasCommandModifier(e)) {\r\n\t\t\treturn 'myeditor-save';\r\n\t\t}\r\n\t\treturn getDefaultKeyBinding(e);\r\n\t};\r\n\ttoggleBlockType = blockType => {\r\n\t\tthis.onChange(RichUtils.toggleBlockType(this.state.editorState, blockType));\r\n\t};\r\n\ttoggleInlineStyle = inlineStyle => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleInlineStyle(this.state.editorState, inlineStyle)\r\n\t\t);\r\n\t};\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst text = this.state.plainText;\r\n\t\tif (text.length === 0) return;\r\n\t\t// prevent closure memory leak\r\n\t\tthis.props.handleSubmit(text);\r\n\t\tthis.setState({ editorState: EditorState.createEmpty() }); // Whenever submit is pressed, the current state of editor will reset\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { editorState } = this.state;\r\n\t\t// If the user changes block type before entering any text, we can\r\n\t\t// either style the placeholder or hide it. Let's just hide it now.\r\n\t\tlet className = 'RichEditor-editor';\r\n\t\tvar contentState = editorState.getCurrentContent();\r\n\t\tif (!contentState.hasText()) {\r\n\t\t\tif (\r\n\t\t\t\tcontentState\r\n\t\t\t\t\t.getBlockMap()\r\n\t\t\t\t\t.first()\r\n\t\t\t\t\t.getType() !== 'unstyled'\r\n\t\t\t) {\r\n\t\t\t\tclassName += ' RichEditor-hidePlaceholder';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"RichEditor-root\">\r\n\t\t\t\t\t<div className=\"RichEditor-root__controls\">\r\n\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={className} onClick={this.focus}>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tblockStyleFn={getBlockStyle}\r\n\t\t\t\t\t\t\t// handleBeforeInput={this.handleBeforeInput}\r\n\t\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\tkeyBindingFn={this.mapKeyToEditorCommand}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\tplaceholder=\"Write something...\"\r\n\t\t\t\t\t\t\tref={element => {\r\n\t\t\t\t\t\t\t\tthis.editor = element;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tspellCheck={true}\r\n\t\t\t\t\t\t\tplugins={listOfPlugins}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"btn btn__submit\" onClick={this.handleSubmit}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tnull,\r\n\t{ onChange }\r\n)(TextEditor);\r\n// Custom overrides for \"code\" style.\r\n\r\nfunction getBlockStyle(block) {\r\n\tswitch (block.getType()) {\r\n\t\tcase 'blockquote':\r\n\t\t\treturn 'RichEditor-blockquote';\r\n\t\tdefault:\r\n\t\t\treturn null;\r\n\t}\r\n}\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = e => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\trender() {\r\n\t\tlet className = 'RichEditor-styleButton';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' RichEditor-activeButton';\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<span className={className} onMouseDown={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{ label: 'H1', style: 'header-one' },\r\n\t{ label: 'H2', style: 'header-two' },\r\n\t{ label: 'H3', style: 'header-three' },\r\n\t{ label: <IoMdQuote />, style: 'blockquote' },\r\n\t{ label: <GoListUnordered />, style: 'unordered-list-item' },\r\n\t{\r\n\t\tlabel: <GoListOrdered />,\r\n\t\tstyle: 'ordered-list-item'\r\n\t}\r\n];\r\nconst BlockStyleControls = props => {\r\n\tconst { editorState, onChange } = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t\t.getCurrentContent()\r\n\t\t.getBlockForKey(selection.getStartKey())\r\n\t\t.getType();\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type, i) => (\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={`${type.label}-${i}`}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t\t<ImageAdd\r\n\t\t\t\teditorState={editorState}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\tmodifier={createImagePlugin().addImage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\nvar INLINE_STYLES = [\r\n\t{ label: <FaBold />, style: 'BOLD' },\r\n\t{ label: <FaItalic />, style: 'ITALIC' },\r\n\t{ label: <FaUnderline />, style: 'UNDERLINE' }\r\n];\r\nconst InlineStyleControls = props => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type, i) => (\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={`${type.label}-${i}`}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { EditorState, convertFromRaw } from 'draft-js';\r\nimport Editor, { composeDecorators } from '@draft-js-plugins/editor';\r\nimport createLinkifyPlugin from '@draft-js-plugins/linkify';\r\nimport createImagePlugin from '@draft-js-plugins/image';\r\nimport createFocusPlugin from '@draft-js-plugins/focus';\r\nimport createBlockDndPlugin from '@draft-js-plugins/drag-n-drop';\r\nimport createResizeablePlugin from '@draft-js-plugins/resizeable';\r\nimport pluginDecorator from './pluginDecorator';\r\n\r\nlet editor;\r\nconst linkifyPlugin = createLinkifyPlugin({\r\n\t//This gets rid of blockkey error warnings\r\n\tcomponent: ({ blockKey, ...rest }) => (\r\n\t\t// eslint-disable-next-line no-alert, jsx-a11y/anchor-has-content\r\n\t\t<a {...rest} blockkey={blockKey} target=\"_blank\" />\r\n\t)\r\n});\r\nconst focusPlugin = createFocusPlugin();\r\nconst blockDndPlugin = createBlockDndPlugin();\r\nconst resizeablePlugin = createResizeablePlugin();\r\nconst imageDecorator = composeDecorators(\r\n\tfocusPlugin.decorator,\r\n\tblockDndPlugin.decorator,\r\n\tresizeablePlugin.decorator\r\n);\r\nconst imagePlugin = createImagePlugin({ decorator: imageDecorator });\r\nconst listOfPlugins = [\r\n\tlinkifyPlugin,\r\n\tblockDndPlugin,\r\n\tresizeablePlugin,\r\n\tfocusPlugin,\r\n\timagePlugin\r\n];\r\nconst decorator = pluginDecorator(listOfPlugins);\r\n\r\nexport default class ReadOnly extends React.Component {\r\n\trender() {\r\n\t\tconst { contentState } = this.props;\r\n\t\tlet convertedState;\r\n\t\tif (contentState !== null) {\r\n\t\t\tconvertedState = EditorState.createWithContent(\r\n\t\t\t\tconvertFromRaw(JSON.parse(contentState)),\r\n\t\t\t\tdecorator\r\n\t\t\t\t// THIS CAN PARSE JSON OBJECT and display\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconvertedState = EditorState.createEmpty();\r\n\t\t}\r\n\r\n\t\tconst focus = () => {\r\n\t\t\teditor.focus();\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className=\"RichEditor-ReadOnly\" onClick={focus}>\r\n\t\t\t\t<Editor\r\n\t\t\t\t\tonChange={() => {}}\r\n\t\t\t\t\tplugins={listOfPlugins}\r\n\t\t\t\t\teditorState={convertedState}\r\n\t\t\t\t\tref={element => {\r\n\t\t\t\t\t\teditor = element;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\treadOnly={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { resetPassword } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\nimport { setAlert, resetAlert } from \"../../actions/alerts\";\r\n\r\nexport let inputs;\r\n\r\nexport const ResetPassword = ({\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tresetPassword,\r\n\tmatch: {\r\n\t\tparams: { resetToken },\r\n\t},\r\n\thistory,\r\n\tauth: { loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\tpassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t};\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tresetPassword,\r\n\t\t{ resetToken, history }\r\n\t);\r\n\r\n\tconst passwordNotMatch = (e) => {\r\n\t\tresetAlert();\r\n\t\te.preventDefault();\r\n\t\tsetAlert(\"Passwords does not match\", \"fail\");\r\n\t};\r\n\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Password\",\r\n\t\t\tplaceholder: \"Enter a new Password\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Confirm password\",\r\n\t\t\tplaceholder: \"Confirm password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t];\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Reset your password</h1>\r\n\t\t\t<p className=\"Form__text\">Please enter a new password below.</p>\r\n\t\t\t<hr />\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"Form__form\"\r\n\t\t\t\tonSubmit={\r\n\t\t\t\t\tformData[names[0]] !== formData[names[1]]\r\n\t\t\t\t\t\t? passwordNotMatch\r\n\t\t\t\t\t\t: handleSubmit\r\n\t\t\t\t}>\r\n\t\t\t\t{inputs.map((input) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<label key={input.label}>\r\n\t\t\t\t\t\t\t<b>{input.label}</b>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder={input.placeholder}\r\n\t\t\t\t\t\t\t\tvalue={input.value}\r\n\t\t\t\t\t\t\t\tname={input.name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t<div className=\"Form__btns\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"btn btn__submit\"\r\n\t\t\t\t\t\tvalue=\"Reset Password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nResetPassword.propTypes = {\r\n\tresetPassword: PropTypes.func.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tresetPassword,\r\n\tsetAlert,\r\n\tresetAlert,\r\n})(ResetPassword);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { changePassword } from \"../../actions/auth\";\r\nimport useForms from \"../../hooks/useForms\";\r\nimport Spinner from \"../utils/Spinner\";\r\nimport { setAlert, resetAlert } from \"../../actions/alerts\";\r\n\r\nexport let inputs;\r\n\r\nexport const ChangePassword = ({\r\n\tsetAlert,\r\n\tresetAlert,\r\n\tchangePassword,\r\n\thistory,\r\n\tauth: { loading },\r\n\tinitialFormState,\r\n}) => {\r\n\tconst blankForm = {\r\n\t\tcurrentPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t};\r\n\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tinitialFormState ? initialFormState : blankForm,\r\n\t\tchangePassword,\r\n\t\t{ history }\r\n\t);\r\n\tconst passwordNotMatch = (e) => {\r\n\t\tresetAlert();\r\n\t\te.preventDefault();\r\n\t\tsetAlert(\"Passwords does not match\", \"fail\");\r\n\t};\r\n\t// This ensures all names and values correctly follows formData state\r\n\tconst names = Object.keys(initialFormState ? initialFormState : blankForm);\r\n\r\n\t// Form data should contain all formData names\r\n\tinputs = [\r\n\t\t{\r\n\t\t\tlabel: \"Current Password\",\r\n\t\t\tplaceholder: \"Enter your current Password\",\r\n\t\t\tname: names[0],\r\n\t\t\tvalue: formData[names[0]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"New Password\",\r\n\t\t\tplaceholder: \"Enter your new Password\",\r\n\t\t\tname: names[1],\r\n\t\t\tvalue: formData[names[1]],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Confirm Password\",\r\n\t\t\tplaceholder: \"Confirm password\",\r\n\t\t\tname: names[2],\r\n\t\t\tvalue: formData[names[2]],\r\n\t\t},\r\n\t];\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"Form__goBack btn__cancel\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/dashboard\");\r\n\t\t\t\t}}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t<h1>Change Your Password</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tChanging your password will log you out from other devices.\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"Form__form\"\r\n\t\t\t\tonSubmit={\r\n\t\t\t\t\tformData[names[1]] !== formData[names[2]]\r\n\t\t\t\t\t\t? passwordNotMatch\r\n\t\t\t\t\t\t: handleSubmit\r\n\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t{inputs.map((input) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<label key={input.label}>\r\n\t\t\t\t\t\t\t<b>{input.label}</b>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder={input.placeholder}\r\n\t\t\t\t\t\t\t\tvalue={input.value}\r\n\t\t\t\t\t\t\t\tname={input.name}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\t\t\t\tminLength=\"6\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Submit\" />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nChangePassword.propTypes = {\r\n\tchangePassword: PropTypes.func.isRequired,\r\n\tsetAlert: PropTypes.func.isRequired,\r\n\tresetAlert: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tchangePassword,\r\n\tsetAlert,\r\n\tresetAlert,\r\n})(ChangePassword);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport TextEditor from \"./draft-js/TextEditor\";\r\nimport { onChange } from \"../../actions/textEditor\";\r\nimport { ContentState, convertToRaw } from \"draft-js\";\r\n\r\n// Test all component props that utilise ContentEditor\r\n\r\nexport const ContentEditor = ({\r\n\thandleSubmit,\r\n\thandleToggle,\r\n\ttitle,\r\n\tsetTitle,\r\n\ttype,\r\n\tcontentState,\r\n\tplainText,\r\n\tonChange,\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\t// This is to prevent a blank post when submitting with no changes during edit\r\n\t\tif (plainText) {\r\n\t\t\tconst textToContentState = convertToRaw(\r\n\t\t\t\tContentState.createFromText(plainText)\r\n\t\t\t);\r\n\t\t\tonChange(textToContentState);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\t// need to handlereadme\r\n\t// Handled editting by plainText\r\n\t// Handle submit contentState to be just a string instead\r\n\t// If editing from mobile, need to use plain text only\r\n\r\n\t// content is the input text value that is initialised as the post's plaintext\r\n\tconst [content, setContent] = useState(plainText ? plainText : \"\");\r\n\tconst handleChange = (e) => {\r\n\t\tsetContent(e.target.value);\r\n\t\tconst textToContentState = convertToRaw(\r\n\t\t\tContentState.createFromText(e.target.value)\r\n\t\t);\r\n\t\tonChange(textToContentState);\r\n\t};\r\n\r\n\t// Added Draftjs to convert plainText to contentState\r\n\tconst submitPost = () => {\r\n\t\tif (content.length === 0) return;\r\n\t\thandleSubmit(content);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"CreatePost\">\r\n\t\t\t<button className=\"btn__cancel\" onClick={handleToggle}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t{type !== \"edit\" && (\r\n\t\t\t\t<h1 className=\"CreatePost__title\">Submit a new {type}</h1>\r\n\t\t\t)}\r\n\t\t\t<div className=\"CreatePost__form\">\r\n\t\t\t\t<label htmlFor=\"title\" className=\"CreatePost__label\">\r\n\t\t\t\t\tTitle:\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\tplaceholder=\"Insert Title\"\r\n\t\t\t\t\tvalue={title}\r\n\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\r\n\t\t\t\t\tmaxLength={80} // so it doesnt pollute the post too much\r\n\t\t\t\t\trequired\r\n\t\t\t\t/> \r\n\t\t\t\t\t<div className=\"CreatePost__editor\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"editor\"\r\n\t\t\t\t\t\t\tid=\"editor\"\r\n\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\trequired></textarea>\r\n\t\t\t\t\t\t<button className=\"btn btn__submit\" onClick={submitPost}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"CreatePost__textEditor\">\r\n\t\t\t\t\t\t<TextEditor\r\n\t\t\t\t\t\tcontentState={contentState} // context\r\n\t\t\t\t\t\thandleSubmit={handleSubmit} // submit function\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nContentEditor.propTypes = {\r\n\tonChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, { onChange })(ContentEditor);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport { FaPlusCircle } from \"react-icons/fa\";\r\nimport {\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n} from \"../../../actions/announcements\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nexport const Announcements = ({\r\n\tusers: { Moderator },\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n\tannouncements: { edit, announcements },\r\n\ttextEditor: { contentState },\r\n\talerts,\r\n}) => {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [id, setId] = useState(null);\r\n\tconst [type, setType] = useState(\"announcement\");\r\n\tconst [contentEdit, setContentEdit] = useState(null);\r\n\tconst [plainTextEdit, setPlainTextEdit] = useState(null);\r\n\tuseEffect(() => {\r\n\t\t// Refresh editor\r\n\t\tif (edit && alerts.msg.length === 0) toggleEdit();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\t// Announcement handlers\r\n\tconst handleToggle = () => {\r\n\t\t// When new post or canceled is pressed\r\n\t\tsetType(\"announcement\");\r\n\t\ttoggleEdit();\r\n\t\tsetTitle(\"\");\r\n\t};\r\n\r\n\tconst handleSubmit = (plainText) => {\r\n\t\t// dont need plainText\r\n\t\t// title from state, contentState from redux TextEditor\r\n\t\tcreateAnnouncement({ title, contentState, plainText });\r\n\t\tsetTitle(\"\");\r\n\t};\r\n\r\n\tconst handleEdit = (\r\n\t\tpostId,\r\n\t\tcurrentTitle,\r\n\t\tpostContentState,\r\n\t\tpostPlainText\r\n\t) => {\r\n\t\tsetType(\"edit\");\r\n\t\tsetTitle(currentTitle);\r\n\t\tsetId(postId);\r\n\t\tsetContentEdit(postContentState);\r\n\t\tsetPlainTextEdit(postPlainText);\r\n\t\ttoggleEdit();\r\n\t};\r\n\r\n\tconst handleUpdate = (plainText) => {\r\n\t\t// dont need plainText\r\n\t\t// title from state, contentState from textEditor\r\n\t\tupdateAnnouncement({\r\n\t\t\tid,\r\n\t\t\tnewTitle: title,\r\n\t\t\tnewContentState: contentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\t};\r\n\r\n\treturn edit ? (\r\n\t\t<div className=\"Dashboard__editor\">\r\n\t\t\t<ContentEditor\r\n\t\t\t\thandleToggle={handleToggle}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\thandleSubmit={type === \"edit\" ? handleUpdate : handleSubmit}\r\n\t\t\t\tcontentState={type === \"edit\" && contentEdit}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tplainText={type === \"edit\" && plainTextEdit}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"Dashboard__left\">\r\n\t\t\t<div className=\"Dashboard__top\">\r\n\t\t\t\t<h1 className=\"Dashboard__title\">Announcements</h1>\r\n\t\t\t\t\t{Moderator && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t<button className=\"btn__announcement\" onClick={toggleEdit}>\r\n\t\t\t\t\t\t\tPost new announcement\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<FaPlusCircle className=\"btn__announcement-small\" onClick={toggleEdit}/>\r\n\t\t\t</>\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Dashboard__announcements\">\r\n\t\t\t\t{announcements.map((el) => (\r\n\t\t\t\t\t<div key={el._id} className=\"Dashboard__announcement\">\r\n\t\t\t\t\t\t<h1 className=\"Dashboard__announcement-title\">{el.title}</h1>\r\n\t\t\t\t\t\t<ReadOnly contentState={el.contentState} />\r\n\t\t\t\t\t\t<div className=\"Dashboard__announcement-bottom\">\r\n\t\t\t\t\t\t\t{el.lastEdited > el.date ? (\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\tEdited: &nbsp;\r\n\t\t\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t\t\t{el.lastEdited}\r\n\t\t\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t\t{el.date}\r\n\t\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{Moderator && (\r\n\t\t\t\t\t\t\t<div className=\"Dashboard__announcement-buttons\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__edit-xs\"\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\thandleEdit(el._id, el.title, el.contentState, el.plainText)\r\n\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__delete-xs\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => deleteAnnouncement(el._id)}>\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nAnnouncements.propTypes = {\r\n\tusers: PropTypes.object.isRequired,\r\n\ttoggleEdit: PropTypes.func.isRequired,\r\n\tcreateAnnouncement: PropTypes.func.isRequired,\r\n\tupdateAnnouncement: PropTypes.func.isRequired,\r\n\tdeleteAnnouncement: PropTypes.func.isRequired,\r\n\tannouncements: PropTypes.object.isRequired,\r\n\ttextEditor: PropTypes.object.isRequired,\r\n\talerts: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: state.users,\r\n\tannouncements: state.announcements,\r\n\ttextEditor: state.textEditor,\r\n\talerts: state.alerts,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\ttoggleEdit,\r\n\tcreateAnnouncement,\r\n\tupdateAnnouncement,\r\n\tdeleteAnnouncement,\r\n})(Announcements);\r\n","import axios from \"axios\";\r\nimport {\r\n\tTOGGLE_CREATE_ANNOUNCEMENT,\r\n\tCREATE_ANNOUNCEMENT,\r\n\tGET_ALL_ANNOUNCEMENT,\r\n\tDELETE_ANNOUNCEMENT,\r\n\tUPDATE_ANNOUNCEMENT,\r\n\tLOADING_ANNOUNCEMENT_SUBMIT,\r\n} from \"./types\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\n// TOGGLE BETWEEN Text editor or dashboard\r\nexport const toggleEdit = () => (dispatch) => {\r\n\t// Resets alert if already exist from dashboard\r\n\tdispatch(resetAlert());\r\n\tdispatch({ type: TOGGLE_CREATE_ANNOUNCEMENT });\r\n};\r\n\r\nexport const createAnnouncement = ({ title, contentState, plainText }) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Convert contentState object to JSON to send down to server\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\t// Call loading state to add spinner for UX\r\n\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\r\n\t\t// Send title, contentstate and plainText version of contentstate to server\r\n\t\tconst res = await axios.post(\"/api/announcements\", {\r\n\t\t\ttitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\r\n\t\t// Dispatch create announcement action and update announcement state\r\n\t\tdispatch({\r\n\t\t\ttype: CREATE_ANNOUNCEMENT,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(setAlert(\"New announcement posted!\", \"success\"));\r\n\t});\r\n\r\n// Send to test\r\nexport const limit = 10;\r\n\r\nexport const getAnnouncements = () =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t// Only show the 10 recently updated announcements! (eg. by date)\r\n\t\t// @todo show all with pagination\r\n\t\t//limit to 10 docs\r\n\t\tconst res = await axios.get(\r\n\t\t\t`/api/announcements?sort=-lastEdited&limit=${limit}`\r\n\t\t);\r\n\t\tdispatch({ type: GET_ALL_ANNOUNCEMENT, payload: res.data });\r\n\t});\r\n\r\nexport const updateAnnouncement = ({\r\n\tid,\r\n\tnewTitle,\r\n\tnewContentState,\r\n\tplainText,\r\n}) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Call loading state to add spinner for UX\r\n\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\t\t// Convert contentState object to JSON to send down to server\r\n\t\tconst jsonContentState = JSON.stringify(newContentState);\r\n\t\t// Using announcement id, patch announcement including title, contentstate and plainText\r\n\t\tconst res = await axios.patch(`/api/announcements/${id}`, {\r\n\t\t\ttitle: newTitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\t\t// Dispatch create announcement action and update announcement state\r\n\t\tdispatch({ type: UPDATE_ANNOUNCEMENT, payload: res.data });\r\n\t\t// Dispatch alert to user\r\n\t\tdispatch(setAlert(\"Announcement updated\", \"success\"));\r\n\t});\r\n\r\nexport const deleteAnnouncement = (id) =>\r\n\tcatchAsync(\"announcement\", async (dispatch) => {\r\n\t\t// Create a user prompt before deleting as protection\r\n\t\tif (window.confirm(\"Are you sure you want to delete the announcement?\")) {\r\n\t\t\t//Reset alert to be in every post/put/patch action that calls setAlert\r\n\t\t\tdispatch(resetAlert());\r\n\t\t\t// Call loading state to add spinner for UX\r\n\t\t\tdispatch({ type: LOADING_ANNOUNCEMENT_SUBMIT });\r\n\t\t\t// Delete announcement given announcement id\r\n\t\t\tawait axios.delete(`/api/announcements/${id}`);\r\n\t\t\t// Update announcement state\r\n\t\t\tdispatch({ type: DELETE_ANNOUNCEMENT, payload: id });\r\n\t\t\t// Dispatch alert to user\r\n\t\t\tdispatch(setAlert(\"Announcement removed\", \"success\"));\r\n\t\t} else return;\r\n\t});\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaUserAlt, FaKey } from 'react-icons/fa';\r\nimport img from '../../../img/anonymous.png';\r\n\r\nexport const User = ({ currentUser, isModified }) => {\r\n\t// IGNORES browser image caching when timestamp added\r\n\t// Only required for user component\r\n\tconst newImageSrc = `${currentUser.photo}?` + Date.now();\r\n\treturn (\r\n\t\t<div className=\"Dashboard__right\">\r\n\t\t\t{currentUser.photo ? (\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName=\"Dashboard__user-photo\"\r\n\t\t\t\t\tsrc={isModified ? newImageSrc : currentUser.photo}\r\n\t\t\t\t\talt=\"user avatar\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<img className=\"Dashboard__user-photo\" src={img} alt=\"user avatar\" />\r\n\t\t\t)}\r\n\t\t\t<div className=\"Dashboard__user-details\">\r\n\t\t\t\t<p className=\"Dashboard__user-name\">\r\n\t\t\t\t\tHi <strong>{currentUser.firstName}</strong>\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"Dashboard__links\">\r\n\t\t\t\t\t<Link to=\"/user/update\" className=\"Dashboard__links-link\">\r\n\t\t\t\t\t\t<FaUserAlt />{' '}\r\n\t\t\t\t\t\t<span>Update Profile</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to=\"/user/changepassword\" className=\"Dashboard__links-link\">\r\n\t\t\t\t\t\t<FaKey />{' '}\r\n\t\t\t\t\t\t<span>Change Password</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport Announcements from './Announcements';\r\nimport User from './User';\r\nimport Spinner from '../../utils/Spinner';\r\nimport { getAnnouncements } from '../../../actions/announcements';\r\n\r\nexport const Dashboard = ({\r\n\tauth: { currentUser, isModified },\r\n\tannouncements: { loading, edit },\r\n\tgetAnnouncements\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tgetAnnouncements();\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Dashboard\">\r\n\t\t\t<Announcements />\r\n\t\t\t{!edit && <User currentUser={currentUser} isModified={isModified} />}\r\n\t\t</div>\r\n\t);\r\n};\r\nDashboard.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\tgetAnnouncements: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n\tannouncements: state.announcements\r\n});\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getAnnouncements }\r\n)(Dashboard);\r\n","import {\r\n\tPOST_CREATE,\r\n\tGET_POST,\r\n\tGET_ALL_POST,\r\n\tUPDATE_POST,\r\n\tDELETE_POST,\r\n\tTOGGLE_CREATE_POST,\r\n\tTOGGLE_EDIT_POST,\r\n\tADD_COMMENT,\r\n\tDELETE_COMMENT,\r\n\tPOST_RESET,\r\n\tLOADING_SUBMIT_POST,\r\n\tSEARCH_POSTS,\r\n\tPOST_NEXT_PAGE,\r\n\tCLEAR_POST,\r\n\tGET_POST_ERROR,\r\n} from \"./types\";\r\nimport axios from \"axios\";\r\nimport { setAlert, resetAlert } from \"./alerts\";\r\nimport catchAsync from \"../utils/catchAsync\";\r\n\r\n// Pagination limit for get all post and post next page\r\n// IDEALLY EVEN NUMBER!\r\nexport const postLimitPerPage = 6;\r\nexport const commentsLimitPerPage = 6;\r\n\r\nexport const toggleCreatePost = () => (dispatch) => {\r\n\t// Clear any previous alert\r\n\tdispatch(resetAlert());\r\n\t// Change create post state\r\n\tdispatch({ type: TOGGLE_CREATE_POST });\r\n};\r\nexport const toggleEditPost = () => (dispatch) => {\r\n\t// Clear any previous alert\r\n\tdispatch(resetAlert());\r\n\t// Change edit post state\r\n\tdispatch({ type: TOGGLE_EDIT_POST });\r\n};\r\n\r\nexport const createPost = ({ title, contentState, history, plainText }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Need to be in every post/put/patch action with alert\r\n\t\t// If request fails there may be an alert for the error\r\n\t\tdispatch(resetAlert());\r\n\t\t// This makes it more UX friendly calling a spinner instantly\r\n\t\t// Change loading state within postLoading and post group\r\n\t\t// Post group loading to update and load all the posts again\r\n\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t// Send request with appropriate body\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\tconst body = { title, contentState: jsonContentState, plainText };\r\n\t\tconst res = await axios.post(\"/api/posts\", body);\r\n\t\t// Obtain post id from response\r\n\t\tconst postId = res.data._id;\r\n\t\t// Dispatch post create and change postLoading to false\r\n\t\tdispatch({\r\n\t\t\ttype: POST_CREATE,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t\t// Navigate user to the new post page\r\n\t\thistory.push(`/discussion/post/${postId}`);\r\n\t});\r\n\r\nexport const getAllPost = (page = 1) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tdispatch({type: POST_RESET});\r\n\t\t// Resets alert if searching for empty posts beforehand\r\n\t\t// Empty posts from search will result in an error alert\r\n\t\tdispatch(resetAlert());\r\n\t\t// Gets post by page with limit, sorts by last comment then date.\r\n\t\tconst res = await axios.get(\r\n\t\t\t`/api/posts?page=${page}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`\r\n\t\t);\r\n\t\t// Dispatch data and change posts state\r\n\t\tdispatch({\r\n\t\t\ttype: GET_ALL_POST,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\tlimit: postLimitPerPage,\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n\r\n// With and without searching\r\n// isSearch is boolean || string\r\n// setPage from component state is passed to trigger the loader from InfiniteScroll component\r\nexport const postNextPage = (page, setPage, isSearch = false) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tlet res;\r\n\t\t// Gets post by page with limit ,sorts by last comment then date.\r\n\t\tif (isSearch) {\r\n\t\t\tres = await axios.post(\r\n\t\t\t\t`/api/posts/search/text?page=${\r\n\t\t\t\t\tpage + 1\r\n\t\t\t\t}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`,\r\n\t\t\t\t{ text: isSearch }\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tres = await axios.get(\r\n\t\t\t\t`/api/posts?page=${\r\n\t\t\t\t\tpage + 1\r\n\t\t\t\t}&limit=${postLimitPerPage}&sort=-lastEdited,-lastComment`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t\r\n\t\tif (res.data.posts.length >= 1) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: POST_NEXT_PAGE,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\t...res.data,\r\n\t\t\t\t\tlimit: postLimitPerPage\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t// Change page state only after request has been made\r\n\t\t\t// If request fails, state does not change\r\n\t\t\t// Page number remains the same\r\n\t\t\tsetPage(page + 1);\r\n\t\t} else\r\n\t\t\tdispatch({type: GET_POST_ERROR})\r\n\r\n\t\t\r\n\t});\r\n\r\nexport const getPost = ({ id, currentPage, history, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Clear previous post state\r\n\t\tdispatch({\r\n\t\t\ttype: CLEAR_POST,\r\n\t\t});\r\n\t\t// Make request with post id\r\n\t\tconst res = await axios.get(`/api/posts/${id}`);\r\n\t\t// Calculate total amount pages (client-side pagination)\r\n\t\tconst comments = res.data.comments;\r\n\t\t// Consider if there's no comments made\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1;\r\n\t\t// Update post state\r\n\t\tdispatch({\r\n\t\t\ttype: GET_POST,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// Redirect user if attempting to access invalid page query\r\n\t\tif (isNaN(currentPage) || currentPage > totalPages) {\r\n\t\t\thistory.push(`/discussion/post/${id}`);\r\n\t\t\tsetPage(1);\r\n\t\t}\r\n\t});\r\n\r\nexport const updatePost = ({ postId, newTitle, newContentState, plainText }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\tdispatch(resetAlert());\r\n\t\t// This makes it more UX friendly calling a spinner instantly\r\n\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t// Convert contentstate object to JSON\r\n\t\tconst jsonContentState = JSON.stringify(newContentState);\r\n\t\t// Make request to update post\r\n\t\tconst body = {\r\n\t\t\ttitle: newTitle,\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t\tplainText,\r\n\t\t};\r\n\t\tconst res = await axios.patch(`/api/posts/${postId}`, body);\r\n\t\t// Dispatch update post action and change loading state\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_POST,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t});\r\n\r\nexport const deletePost = (postId, history) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Prompt user to confirm deletion\r\n\t\tif (window.confirm(\"Are you sure you want to delete post?\")) {\r\n\t\t\t// This considers if somehow the request takes a long time\r\n\t\t\tdispatch({ type: LOADING_SUBMIT_POST });\r\n\t\t\t// Make request to delete post\r\n\t\t\tawait axios.delete(`/api/posts/${postId}`);\r\n\t\t\t// Dispatch delete post and stop loading\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_POST,\r\n\t\t\t});\r\n\t\t\t// Navigate user back to discussion board\r\n\t\t\thistory.push(\"/discussion\");\r\n\t\t\t// Send alert to user post was deleted\r\n\t\t\tdispatch(setAlert(\"Post Deleted\", \"success\"));\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\t});\r\n\r\nexport const addComment = ({ contentState, postId, history, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Require to reset alert possibly from removing comment\r\n\t\tdispatch(resetAlert());\r\n\t\t// Convert contentstate object to JSON\r\n\t\tconst jsonContentState = JSON.stringify(contentState);\r\n\t\t// Make request to add comment to server\r\n\t\tconst res = await axios.post(`/api/posts/${postId}`, {\r\n\t\t\tcontentState: jsonContentState,\r\n\t\t});\r\n\t\t// Calculate total pages after new comment was added\r\n\t\tconst comments = res.data;\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1;\r\n\t\t// Dispatch add comment action\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_COMMENT,\r\n\t\t\tpayload: {\r\n\t\t\t\tcomments,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t}); // loads whilst posting comment\r\n\r\n\t\t// Redirect to the last page when sending comment\r\n\t\thistory.push(`/discussion/post/${postId}?page=${totalPages}`);\r\n\t\tsetPage(totalPages);\r\n\t});\r\n\r\nexport const deleteComment = ({ postId, commentId, history, page, setPage }) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Require to reset alert from removing comment\r\n\t\tdispatch(resetAlert());\r\n\t\t// Send request to delete comment from post with postId\r\n\t\tconst res = await axios.put(`/api/posts/${postId}/comments/${commentId}`);\r\n\t\t// Calculate total pages\r\n\t\tconst comments = res.data;\r\n\t\tconst totalPages = Math.ceil(comments.length / commentsLimitPerPage) || 1; // pagelimit = 10\r\n\t\t// Dispatch delete comment action\r\n\t\tdispatch({\r\n\t\t\ttype: DELETE_COMMENT,\r\n\t\t\tpayload: {\r\n\t\t\t\tcomments,\r\n\t\t\t\ttotalPages,\r\n\t\t\t},\r\n\t\t});\r\n\t\t// If current page number is higher than total amount of pages\r\n\t\t// Redirect user\r\n\t\tif (page > totalPages) {\r\n\t\t\thistory.push(`/discussion/post/${postId}?page=${totalPages}`);\r\n\t\t\tsetPage(totalPages);\r\n\t\t}\r\n\t\t// Send alert to user\r\n\t\tdispatch(setAlert(\"Comment removed\", \"success\"));\r\n\t});\r\n\r\nexport const searchPost = (text, page = 1) =>\r\n\tcatchAsync(\"post\", async (dispatch) => {\r\n\t\t// Clear possible alert from empty searches\r\n\t\tdispatch(resetAlert());\r\n\t\t// Clear post list state\r\n\t\tdispatch({ type: POST_RESET });\r\n\t\t// Make request to search post\r\n\t\tconst res = await axios.post(\r\n\t\t\t`/api/posts/search/text?page=${page}&limit=${postLimitPerPage}&sort=-lastComment,-date`,\r\n\t\t\t{ text }\r\n\t\t);\r\n\t\t// Dispatch search post action and update state\r\n\t\tdispatch({\r\n\t\t\ttype: SEARCH_POSTS,\r\n\t\t\tpayload: {\r\n\t\t\t\t...res.data,\r\n\t\t\t\tlimit: postLimitPerPage,\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n","import React, { useState } from \"react\";\r\nimport { FaSearch, FaPlusCircle } from \"react-icons/fa\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\n\r\nexport const DiscussionHead = ({\r\n\tcreatePost,\r\n\tcontentState,\r\n\tedit,\r\n\ttoggleCreatePost,\r\n\thistory,\r\n\tsearchPost,\r\n\tsetPage,\r\n\tsetIsSearch,\r\n\tloading,\r\n\tgetAllPost,\r\n}) => {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [search, setSearch] = useState(\"\");\r\n\r\n\tconst handleToggle = () => {\r\n\t\tsetTitle(\"\"); //when create post is canceled\r\n\t\ttoggleCreatePost();\r\n\t};\r\n\r\n\tconst handleSubmit = (plainText) => {\r\n\t\tcreatePost({ title, contentState, history, plainText });\r\n\t};\r\n\r\n\tconst handleSearch = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// Configures next page api request\r\n\t\tsetIsSearch(search);\r\n\t\t// Search post\r\n\t\tsearchPost(search);\r\n\t\t// Reset page number\r\n\t\tsetPage(1);\r\n\t};\r\n\r\n\tconst handleReset = (e) => {\r\n\t\t// Clear search bar\r\n\t\tsetSearch(\"\");\r\n\t\t// Configures next page api request back to normal\r\n\t\tsetIsSearch(false);\r\n\t\t// Get all post again\r\n\t\tgetAllPost();\r\n\t\t// Reset page number\r\n\t\tsetPage(1);\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"Discussion__head\">\r\n\t\t\t{!edit ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn btn__submit Discussion__create\"\r\n\t\t\t\t\t\tonClick={toggleCreatePost}>\r\n\t\t\t\t\t\tCreate post\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<FaPlusCircle className=\"Discussion__create-small\" onClick={toggleCreatePost}/>\r\n\t\t\t\t\t<div className=\"Discussion__search\">\r\n\t\t\t\t\t\t<form onSubmit={handleSearch}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search all posts\"\r\n\t\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button className=\"Discussion__search-searchIcon\">\r\n\t\t\t\t\t\t\t\t<FaSearch />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"Discussion__search-reset btn\"\r\n\t\t\t\t\t\t\tonClick={handleReset}>\r\n\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t!loading && (\r\n\t\t\t\t\t<div className=\"Discussion__editor\">\r\n\t\t\t\t\t\t<ContentEditor\r\n\t\t\t\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\t\t\t\thandleToggle={handleToggle}\r\n\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\t\t\t\ttype={\"post\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DiscussionHead;\r\n","import React from 'react';\r\nimport { IoIosChatboxes } from 'react-icons/io';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport 'moment-timezone';\r\n\r\nexport const DiscussionPost = ({\r\n\timg,\r\n\tcount,\r\n\tid,\r\n\ttitle,\r\n\tdate,\r\n\ttext,\r\n\tfirstName,\r\n\tlastName\r\n}) => {\r\n\treturn (\r\n\t\t<Link to={`/discussion/post/${id}`} className=\"Discussion__post\">\r\n\t\t\t<div className=\"Discussion__postUser\">\r\n\t\t\t\t<img src={img} alt=\"user-logo\" className=\"Discussion__postUser-img\" />\r\n\t\t\t\t<span className=\"Discussion__postUser-name\">\r\n\t\t\t\t\t<span>{firstName}&nbsp;</span>\r\n\t\t\t\t\t{(firstName.length <= 10 || lastName.length <= 10) && (\r\n\t\t\t\t\t\t<span>{lastName}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Discussion__postBody\">\r\n\t\t\t\t<div className=\"Discussion__postBody-header\">\r\n\t\t\t\t\t<h3 className=\"Discussion__postBody-title\"> {title}</h3>\r\n\t\t\t\t\t<span className=\"Discussion__postBody-chat\">\r\n\t\t\t\t\t\t{count > 0 && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{count} <IoIosChatboxes />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"Discussion__postBody-text\">{text}</p>\r\n\t\t\t\t<span className=\"Discussion__postBody-date\">\r\n\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"DD MMM YYYY\">\r\n\t\t\t\t\t\t{date}\r\n\t\t\t\t\t</Moment>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default DiscussionPost;\r\n","import React, { Fragment } from \"react\";\r\nimport spinner from \"../../img/spinner.gif\";\r\n\r\nconst SpinnerSmall = () => (\r\n\t<Fragment>\r\n\t\t<img\r\n\t\t\tsrc={spinner}\r\n\t\t\tstyle={{ width: \"75px\", margin: \"0 auto 0 auto\", display: \"block\" }}\r\n\t\t\talt=\"Loading...\"\r\n\t\t/>\r\n\t</Fragment>\r\n);\r\n\r\nexport default SpinnerSmall;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport {\r\n\tgetAllPost,\r\n\tcreatePost,\r\n\ttoggleCreatePost,\r\n\tsearchPost,\r\n\tpostNextPage,\r\n} from \"../../../actions/post\";\r\nimport img from \"../../../img/anonymous.png\";\r\nimport DiscussionHead from \"./DiscussionHead\";\r\nimport DiscussionPost from \"./DiscussionPost\";\r\nimport SpinnerSmall from \"../../../components/utils/SpinnerSmall\";\r\n\r\nexport const Discussion = ({\r\n\tpost: { posts, edit, totalPages, loading },\r\n\tgetAllPost,\r\n\tcontentState,\r\n\tcreatePost,\r\n\ttoggleCreatePost,\r\n\thistory,\r\n\tsearchPost,\r\n\tpostNextPage,\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tif (edit) {\r\n\t\t\ttoggleCreatePost();\r\n\t\t}\r\n\t\tgetAllPost();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [isSearch, setIsSearch] = useState(false); // boolean or string\r\n\r\n\tconst renderPosts = posts.map((post) => (\r\n\t\t<DiscussionPost\r\n\t\t\tkey={post._id}\r\n\t\t\ttitle={post.title}\r\n\t\t\tid={post._id}\r\n\t\t\timg={post.user.photo || img}\r\n\t\t\tdate={post.date}\r\n\t\t\tcount={post.comments.length}\r\n\t\t\ttext={post.plainText}\r\n\t\t\tfirstName={post.user.firstName}\r\n\t\t\tlastName={post.user.lastName}\r\n\t\t/>\r\n\t));\r\n\treturn (\r\n\t\t<div className=\"Discussion\">\r\n\t\t\t<DiscussionHead\r\n\t\t\t\tedit={edit}\r\n\t\t\t\tcontentState={contentState}\r\n\t\t\t\tcreatePost={createPost}\r\n\t\t\t\ttoggleCreatePost={toggleCreatePost}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tsearchPost={searchPost}\r\n\t\t\t\tsetPage={setPage}\r\n\t\t\t\tloading={loading}\r\n\t\t\t\tsetIsSearch={setIsSearch}\r\n\t\t\t\tgetAllPost={getAllPost}\r\n\t\t\t/>\r\n\t\t\t{!edit && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\tpageStart={page}\r\n\t\t\t\t\t\tloadMore={() => {\r\n\t\t\t\t\t\t\tif (page < totalPages) postNextPage(page, setPage, isSearch);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\thasMore={page < totalPages}\r\n\t\t\t\t\t\tthreshold={50}\r\n\t\t\t\t\t\tloader={<SpinnerSmall key=\"loader\" />}>\r\n\t\t\t\t\t\t{renderPosts}\r\n\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nDiscussion.propTypes = {\r\n\tpost: PropTypes.object.isRequired,\r\n\tcontentState: PropTypes.object,\r\n\tgetAllPost: PropTypes.func.isRequired,\r\n\tcreatePost: PropTypes.func.isRequired,\r\n\ttoggleCreatePost: PropTypes.func.isRequired,\r\n\tsearchPost: PropTypes.func.isRequired,\r\n\tpostNextPage: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tpost: state.post,\r\n\tcontentState: state.textEditor.contentState,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tgetAllPost,\r\n\tcreatePost,\r\n\ttoggleCreatePost,\r\n\tsearchPost,\r\n\tpostNextPage,\r\n})(Discussion);\r\n","import React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport { IoIosTrash } from \"react-icons/io\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nconst PostComment = ({\r\n\timg,\r\n\tcontentState,\r\n\tuser,\r\n\tpostId,\r\n\tid,\r\n\tdate,\r\n\tdeleteComment,\r\n\thistory,\r\n\tpage,\r\n\tsetPage,\r\n\tcurrentUser,\r\n\tModerator,\r\n}) => {\r\n\t\tlet userNameLength = user.firstName.length + user.lastName.length;\r\n\tlet convertedName = user.firstName + \" \" + user.lastName[0].toUpperCase()\r\n\tif(userNameLength > 20) convertedName = user.firstName[0].toUpperCase() + user.lastName[0].toUpperCase()\r\n\treturn (\r\n\t\t<div className=\"Post__comment\">\r\n\t\t\t<div className=\"Post__commentUser\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={user.photo || img}\r\n\t\t\t\t\talt=\"user-logo\"\r\n\t\t\t\t\tclassName=\"Post__commentUser-img\"\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"Post__commentUser-name\">\r\n\t\t\t\t{userNameLength > 12 && window.screen.width > 1000? <span>{convertedName}</span> :<>\r\n\t\t\t\t\t<span>{user.firstName}&nbsp;</span>\r\n\t\t\t\t\t\t<span>{user.lastName}</span></>}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Post__commentBody\">\r\n\t\t\t\t<div className=\"Post__commentBody-text\">\r\n\t\t\t\t\t<ReadOnly contentState={contentState} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"Post__commentBottom\">\r\n\t\t\t\t\t<span className=\"Post__commentBody-date\">\r\n\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t{date}\r\n\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{(currentUser._id === user._id ||\r\n\t\t\t\t\t\t(Moderator && currentUser.role === \"admin\")) && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"Post__comment-trash\"\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tdeleteComment({ postId, commentId: id, history, page, setPage })\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t<IoIosTrash />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PostComment;\r\n","import React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport ReadOnly from \"../../utils/draft-js/ReadOnly\";\r\n\r\nconst PostHead = ({\r\n\tpost,\r\n\timg,\r\n\tcurrentUser,\r\n\ttoggleEditPost,\r\n\thandleDeletePost,\r\n\tModerator,\r\n}) => {\r\n\tlet userNameLength = post.user.firstName.length + post.user.lastName.length;\r\n\tlet convertedName = post.user.firstName + \" \" + post.user.lastName[0].toUpperCase()\r\n\tif(userNameLength > 20) convertedName = post.user.firstName[0].toUpperCase() + post.user.lastName[0].toUpperCase()\r\n\r\n\treturn (\r\n\t\t<div className=\"Post__post\">\r\n\t\t\t<div className=\"Post__postUser\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={post.user.photo || img}\r\n\t\t\t\t\talt=\"user-logo\"\r\n\t\t\t\t\tclassName=\"Post__postUser-img\"\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"Post__postUser-name\">\r\n\t\t\t\t\t{userNameLength > 12 && window.screen.width > 1000? <span>{convertedName}</span> :<>\r\n\t\t\t\t\t<span>{post.user.firstName}&nbsp;</span>\r\n\t\t\t\t\t\t<span>{post.user.lastName}</span></>}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Post__postBody\">\r\n\t\t\t\t<div className=\"Post__postBody-text\">\r\n\t\t\t\t\t<ReadOnly contentState={post.contentState} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<>\r\n\t\t\t\t\t<span className=\"Post__postBody-date\">\r\n\t\t\t\t\t\tPosted:\r\n\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t{post.date}\r\n\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{post.lastEdited !== post.date && (\r\n\t\t\t\t\t\t<span className=\"Post__postBody-edited\">\r\n\t\t\t\t\t\t\tLast edited:\r\n\t\t\t\t\t\t\t<Moment tz=\"Australia/Perth\" format=\"ddd MMM DD YYYY HH:mm\">\r\n\t\t\t\t\t\t\t\t{post.lastEdited}\r\n\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"Post__postButtons\">\r\n\t\t\t\t\t\t{currentUser._id === post.user._id && (\r\n\t\t\t\t\t\t\t<button className=\"btn btn__edit-xs\" onClick={toggleEditPost}>\r\n\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{(currentUser._id === post.user._id ||\r\n\t\t\t\t\t\t\t(Moderator && currentUser.role === \"admin\")) && (\r\n\t\t\t\t\t\t\t<button className=\"btn btn__delete-xs\" onClick={handleDeletePost}>\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PostHead;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport scrollToTop from '../../../utils/scrollToTop';\r\n\r\nconst PageButtons = ({ page, setPage, totalPages, postId }) => {\r\n\t// Rendering page buttons\r\n\tlet nextPage, previousPage;\r\n\tif (totalPages > 1 && page !== totalPages)\r\n\t\tnextPage = (\r\n\t\t\t<Link\r\n\t\t\t\tto={`/discussion/post/${postId}?page=${page + 1}`}\r\n\t\t\t\tclassName=\"Post__page-buttons Post__page-next\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetPage(page + 1);\r\n\t\t\t\t\tscrollToTop();\r\n\t\t\t\t}}>\r\n\t\t\t\tNext\r\n\t\t\t</Link>\r\n\t\t);\r\n\tif (page > 1)\r\n\t\tpreviousPage = (\r\n\t\t\t<Link\r\n\t\t\t\tto={`/discussion/post/${postId}?page=${page - 1}`}\r\n\t\t\t\tclassName=\"Post__page-buttons Post__page-prev\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetPage(page - 1);\r\n\t\t\t\t\tscrollToTop();\r\n\t\t\t\t}}>\r\n\t\t\t\tPrevious\r\n\t\t\t</Link>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"Post__page\">\r\n\t\t\t{previousPage}\r\n\t\t\t{page > 1 || totalPages > 1 ? <>Page {page}</> : ''}\r\n\t\t\t{nextPage}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageButtons;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Comments from \"./Comments\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { ContentState, convertToRaw } from \"draft-js\";\r\nimport {\r\n\tgetPost,\r\n\taddComment,\r\n\tdeleteComment,\r\n\ttoggleEditPost,\r\n\tdeletePost,\r\n\tupdatePost,\r\n} from \"../../../actions/post\";\r\nimport img from \"../../../img/anonymous.png\";\r\nimport TextEditor from \"../../utils/draft-js/TextEditor\";\r\nimport Spinner from \"../../utils/Spinner\";\r\nimport PostHead from \"./PostHead\";\r\nimport PageButtons from \"./PageButtons\";\r\nimport ContentEditor from \"../../utils/ContentEditor\";\r\nimport { onChange } from \"../../../actions/textEditor\";\r\n\r\nconst Post = ({\r\n\tmatch: {\r\n\t\tparams: { postId },\r\n\t},\r\n\tgetPost,\r\n\ttoggleEditPost,\r\n\tdeletePost,\r\n\tpostEdit,\r\n\tupdatePost,\r\n\taddComment,\r\n\tdeleteComment,\r\n\tpost: { post, postError },\r\n\ttextEditor,\r\n\tonChange,\r\n\thistory,\r\n\tlocation,\r\n\tcurrentUser,\r\n\tpostLoading,\r\n\tusers: { Moderator },\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\t// runs once and on updatePost\r\n\t\t// pageQuery only works once totalPages has been defined\r\n\t\t// totalPages defined after getPost\r\n\t\tgetPost({ id: postId, currentPage, history, setPage });\r\n\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\t// Sets default pageQuery if theres not set\r\n\tconst currentPage = parseInt(location.search.split(\"?page=\")[1]) || 1;\r\n\t// Define page, title and content editor state\r\n\tconst [page, setPage] = useState(currentPage);\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [content, setContent] = useState(\"\");\r\n\r\n\t// Change content state and raw text to be sent through actions\r\n\tconst handleChange = (e) => {\r\n\t\tsetContent(e.target.value);\r\n\t\tconst textToContentState = convertToRaw(\r\n\t\t\tContentState.createFromText(e.target.value)\r\n\t\t);\r\n\t\tonChange(textToContentState);\r\n\t};\r\n\r\n\t// Submit comment\r\n\tconst handleSubmit = () =>\r\n\t\taddComment({\r\n\t\t\tcontentState: textEditor.contentState,\r\n\t\t\tpostId,\r\n\t\t\thistory,\r\n\t\t\tsetPage,\r\n\t\t});\r\n\r\n\t// Delete post handler\r\n\tconst handleDeletePost = () => deletePost(postId, history);\r\n\r\n\t// Update post handler\r\n\tconst handleUpdate = (plainText) => {\r\n\t\t// plain text from textEditor\r\n\t\tupdatePost({\r\n\t\t\tpostId,\r\n\t\t\tnewTitle: title,\r\n\t\t\tnewContentState: textEditor.contentState,\r\n\t\t\tplainText,\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleToggleEditPost = () => {\r\n\t\tsetTitle(post.title);\r\n\t\ttoggleEditPost();\r\n\t};\r\n\r\n\t// Client side pagination\r\n\t// Set limit, start and end of a page\r\n\tconst limit = 6;\r\n\tconst start = (page - 1) * limit;\r\n\tconst end = page * limit;\r\n\tconst minTopPageButtonsAppear = 3;\r\n\r\n\treturn post === null || postLoading ? (\r\n\t\tpostError? <Redirect to=\"/discussion\"/> : <Spinner />\r\n\t) : postEdit ? (\r\n\t\t<div className=\"Post__editor\">\r\n\t\t\t<ContentEditor\r\n\t\t\t\thandleToggle={handleToggleEditPost}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\thandleSubmit={handleUpdate}\r\n\t\t\t\tcontentState={post.contentState}\r\n\t\t\t\tplainText={post.plainText}\r\n\t\t\t\ttype={\"edit\"}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<Link to=\"/discussion\" className=\"Post__goBack\">\r\n\t\t\t\t<button>Go Back</button>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"Post__title-container\">\r\n\t\t\t\t<h1 className=\"Post__title\">{post.title}</h1>\r\n\t\t\t</div>\r\n\t\t\t<PostHead\r\n\t\t\t\tModerator={Moderator}\r\n\t\t\t\timg={img}\r\n\t\t\t\tpost={post}\r\n\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\ttoggleEditPost={handleToggleEditPost}\r\n\t\t\t\thandleDeletePost={handleDeletePost}\r\n\t\t\t/>\r\n\t\t\t{post && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{post.comments.slice(start, end).length > minTopPageButtonsAppear && (\r\n\t\t\t\t\t\t<PageButtons\r\n\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\tsetPage={setPage}\r\n\t\t\t\t\t\t\ttotalPages={post.totalPages}\r\n\t\t\t\t\t\t\tpostId={postId}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"Post__comments\">\r\n\t\t\t\t\t\t{post.comments.slice(start, end).map((c) => (\r\n\t\t\t\t\t\t\t<Comments\r\n\t\t\t\t\t\t\t\tkey={c._id}\r\n\t\t\t\t\t\t\t\timg={img}\r\n\t\t\t\t\t\t\t\tcontentState={c.contentState}\r\n\t\t\t\t\t\t\t\tid={c._id}\r\n\t\t\t\t\t\t\t\tpostId={postId}\r\n\t\t\t\t\t\t\t\tdate={c.date}\r\n\t\t\t\t\t\t\t\tuser={c.user}\r\n\t\t\t\t\t\t\t\tdeleteComment={deleteComment}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\t\tsetPage={setPage}\r\n\t\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\t\tModerator={Moderator}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<PageButtons\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tsetPage={setPage}\r\n\t\t\t\t\t\ttotalPages={post.totalPages}\r\n\t\t\t\t\t\tpostId={postId}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"Post__addComment\">\r\n\t\t\t\t\t\t<div className=\"Post__addComment-top\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={currentUser.photo || img}\r\n\t\t\t\t\t\t\t\talt=\"current user\"\r\n\t\t\t\t\t\t\t\tclassName=\"Post__commentUser-img\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<h2 className=\"Post__addComment-title\">Add Comment</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"CreatePost__editor\">\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Add comment....\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"CreatePost__editor\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"editor\"\r\n\t\t\t\t\t\t\t\t\tid=\"editor\"\r\n\t\t\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired></textarea>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__submit\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (content.length === 0) return;\r\n\t\t\t\t\t\t\t\t\t\tsetContent(\"\");\r\n\t\t\t\t\t\t\t\t\t\thandleSubmit();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"CreatePost__textEditor\">\r\n\t\t\t\t\t\t\t\t\t<TextEditor handleSubmit={handleSubmit} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nPost.propTypes = {\r\n\tgetPost: PropTypes.func.isRequired,\r\n\taddComment: PropTypes.func.isRequired,\r\n\ttoggleEditPost: PropTypes.func.isRequired,\r\n\tdeletePost: PropTypes.func.isRequired,\r\n\tdeleteComment: PropTypes.func.isRequired,\r\n\tupdatePost: PropTypes.func.isRequired,\r\n\tcontentState: PropTypes.string, //Converted to JSON string before sending to database and reconverted by texteditor\r\n\ttextEditor: PropTypes.object.isRequired,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tpostEdit: PropTypes.bool.isRequired,\r\n\tpost: PropTypes.object,\r\n\tcurrentUser: PropTypes.object,\r\n\tpostLoading: PropTypes.bool.isRequired,\r\n\tusers: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tpostEdit: state.post.postEdit,\r\n\tpost: state.post,\r\n\ttextEditor: state.textEditor,\r\n\tcurrentUser: state.auth.currentUser,\r\n\tusers: state.users,\r\n\tpostLoading: state.post.postLoading,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tgetPost,\r\n\taddComment,\r\n\ttoggleEditPost,\r\n\tdeletePost,\r\n\tdeleteComment,\r\n\tupdatePost,\r\n\tonChange,\r\n})(Post);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { forgotPassword } from \"../../actions/auth\";\r\nimport Spinner from \"../utils/Spinner\";\r\n\r\nexport const ForgotPassword = ({ forgotPassword, auth: { loading } }) => {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tforgotPassword(email, document.location.href);\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Spinner />\r\n\t) : (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<h1>Forgot your password?</h1>\r\n\t\t\t<p className=\"Form__text\">\r\n\t\t\t\tPlease enter the email address registered to your account and we will\r\n\t\t\t\tsend you the link to reset your password.\r\n\t\t\t</p>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<input type=\"submit\" className=\"btn btn__submit\" value=\"Send Email\" />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nForgotPassword.propTypes = {\r\n\tforgotPassword: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { forgotPassword })(ForgotPassword);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport useForms from \"../../../hooks/useForms\";\r\nimport { updateMe } from \"../../../actions/users\";\r\n\r\nexport const Update = ({ auth: { currentUser }, updateMe, history }) => {\r\n\tconst [file, setFile] = useState(\"\");\r\n\tconst { firstName, lastName, email } = currentUser;\r\n\tconst blankForm = { firstName, lastName, email };\r\n\tconst { formData, handleChange, handleSubmit } = useForms(\r\n\t\tblankForm,\r\n\t\tupdateMe,\r\n\t\t{file,\r\n\t\thistory}\r\n\t);\r\n\r\n\tconst handleFileChange = (e) => {\r\n\t\tsetFile(e.target.files[0]);\r\n\t};\r\n\r\n\t// \r\n\t//\r\n\t// Refactor labelling\r\n\r\n\treturn (\r\n\t\t<div className=\"Form\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"Form__goBack btn__cancel\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/dashboard\");\r\n\t\t\t\t}}>\r\n\t\t\t\tCancel\r\n\t\t\t</button>\r\n\t\t\t<h1>Update your profile</h1>\r\n\t\t\t<form className=\"Form__form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<strong>Profile photo</strong>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\tname=\"image\"\r\n\t\t\t\t\tonChange={handleFileChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<strong>First Name</strong>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"firstName\"\r\n\t\t\t\t\t\tvalue={formData.firstName}\r\n\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<strong>Last Name</strong>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"lastName\"\r\n\t\t\t\t\t\tvalue={formData.lastName}\r\n\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<strong>Email</strong>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={formData.email}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t<button className=\"btn btn__submit\">Submit</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nUpdate.propTypes = {\r\n\tupdateMe: PropTypes.func.isRequired,\r\n\tauth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateMe })(Update);\r\n","import React from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport NewRoute from './NewRoute';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport Register from '../auth/Register';\r\nimport Login from '../auth/Login';\r\nimport MemberList from '../pages/Members/MemberList';\r\nimport Dashboard from '../pages/Dashboard/Dashboard';\r\nimport Discussion from '../pages/Discussion/Discussion';\r\nimport Post from '../pages/Post/Post';\r\nimport ForgotPassword from '../auth/ForgotPassword';\r\nimport ResetPassword from '../auth/ResetPassword';\r\nimport Update from '../pages/Dashboard/Update';\r\nimport ChangePassword from '../auth/ChangePassword';\r\n\r\nconst Routes = () => {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PrivateRoute exact path=\"/register\" component={Register} />\r\n\t\t\t<NewRoute exact path=\"/login\" component={Login} />\r\n\t\t\t<NewRoute exact path=\"/forgotpassword\" component={ForgotPassword} />\r\n\t\t\t<NewRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/forgotpassword/reset/:resetToken\"\r\n\t\t\t\tcomponent={ResetPassword}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute exact path=\"/members\" component={MemberList} />\r\n\t\t\t<PrivateRoute exact path=\"/discussion\" component={Discussion} />\r\n\t\t\t<PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\r\n\t\t\t<PrivateRoute exact path=\"/user/update\" component={Update} />\r\n\t\t\t<PrivateRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/user/changepassword\"\r\n\t\t\t\tcomponent={ChangePassword}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute exact path=\"/discussion/post/:postId\" component={Post} />\r\n\t\t\t<Redirect to=\"/dashboard\" />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n\r\n// dashboard\r\n// members list\r\n// Request a speech\r\n// Request a role\r\n// Discussion\r\n// Comment\r\n// Admin and comittee roles --- registering a user and deactivating account\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toggleView } from \"../../actions/users\";\r\n\r\nexport const Moderator = ({\r\n\tauth: { currentUser },\r\n\ttoggleView,\r\n\tusers: { Moderator },\r\n}) => {\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Moderator) toggleView();\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentUser]);\r\n\r\n\treturn (\r\n\t\tcurrentUser &&\r\n\t\tcurrentUser.role !== \"user\" && (\r\n\t\t\t<div className={`Moderator${Moderator ? \" Moderator__checked\" : \"\"}`}>\r\n\t\t\t\t<span className=\"Moderator__mode\">\r\n\t\t\t\t\tView as:&nbsp;\r\n\t\t\t\t\t{Moderator\r\n\t\t\t\t\t\t? currentUser.role === \"admin\" // Works with only two roles\r\n\t\t\t\t\t\t\t? \"admin\"\r\n\t\t\t\t\t\t\t: \"committee\"\r\n\t\t\t\t\t\t: \"user\"}\r\n\t\t\t\t</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"Moderator__checkbox\"\r\n\t\t\t\t\tid=\"moderator\"\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tvalue={Moderator}\r\n\t\t\t\t\tonChange={toggleView}\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor=\"moderator\" className=\"Moderator__slider\" />\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nModerator.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\ttoggleView: PropTypes.func.isRequired,\r\n\tusers: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tusers: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps, { toggleView })(Moderator);\r\n","import React, { useEffect } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport { Route, Redirect, withRouter } from 'react-router-dom';\r\nimport Navbar from './components/layout/Navbar';\r\n\r\nimport Routes from './components/routing/Routes';\r\nimport './styles/main.scss';\r\nimport { checkUser } from './actions/auth';\r\nimport Moderator from './components/layout/Moderator';\r\n\r\nconst App = () => {\r\n\tuseEffect(() => {\r\n\t\tstore.dispatch(checkUser()); // runs only once\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Provider store={store}>\r\n\t\t\t<Navbar />\r\n\t\t\t<Moderator />\r\n\t\t\t<Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\" />} />\r\n\t\t\t<Routes />\r\n\t\t</Provider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(App);\r\n","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'draft-js/dist/Draft.css';\r\nimport '@draft-js-plugins/linkify/lib/plugin.css';\r\nimport '@draft-js-plugins/image/lib/plugin.css';\r\nimport '@draft-js-plugins/focus/lib/plugin.css';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n\t<Router>\r\n\t\t<App />\r\n\t</Router>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}